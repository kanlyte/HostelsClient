(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42260],{901671:function(e,t,r){"use strict";r.d(t,{_:function(){return f}});var n=r(4799),a=r(603385),i=r.n(a),s=r(906076),o=r(530472),l=r(838262),u=r(348631),d=r(335321),c=r.n(d);function f(e){var t;let{team:r,resource:a}=e;return(0,n.jsxs)(s.K,{align:"center",className:c().additionalPermissionsWrapper,gap:2,justify:"center",children:[(0,n.jsx)(o.x,{align:"center",as:"h6",weight:600,children:"Additional Permissions Required"}),(0,n.jsx)(o.x,{align:"center",as:"p",className:c().message,color:"accents-6",children:(null==r?void 0:null===(t=r.membership)||void 0===t?void 0:t.role)?`As a user with the ${i()(r.membership.role)} role on the ${r.name} team you
          do not have permission to view ${a}.`:`You do not have permission to view ${a}.`}),(0,n.jsx)(l.r,{external:!0,href:"/docs",onClick:()=>{u.co.track(u.s6.PERMISSIONS_CLICKED_LEARN_MORE)},type:"highlight",children:"Learn More"})]})}},355517:function(e,t,r){"use strict";var n=r(4799),a=r(349177),i=r(263922),s=r(527484),o=r(835539),l=r.n(o);t.Z=function(e){let{feedback:t,size:r}=e,o=()=>{document.dispatchEvent(new Event(s.SHOW_EVENT))};return(0,n.jsxs)("div",{className:l().betaBadge,children:[(0,n.jsx)(a.Ct,{size:r,variant:"pink",children:"Beta"}),t?(0,n.jsx)(i.z,{className:l().feedbackButton,onClick:o,size:"small",type:"secondary",variant:"ghost",children:"Provide feedback"}):null]})}},527484:function(e,t,r){"use strict";r.r(t),r.d(t,{SHOW_EVENT:function(){return k}});var n=r(4799),a=r(312253),i=r(14517),s=r(594103),o=r(39671),l=r(583596),u=r(761099),d=r(154937),c=r.n(d),f=r(530472),h=r(52954),m=r(263922),p=r(184336),w=r(843987),v=r(5500),g=r(352689),_=r(783435),b=r.n(_);let k="show-feedback",x=new Map([["\uD83E\uDD29","f929"],["\uD83D\uDE42","f600"],["\uD83D\uDE15","f615"],["\uD83D\uDE2D","f62d"]]);function $(e){let{onEmojiSelect:t,loading:r}=e,[s,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{t(s)},[s,t]);let l=e=>{e!==s&&o(e)};return(0,n.jsx)("div",{className:(0,i.W)(b().emojisWrapper,{loading:r}),children:Array.from(x.values()).map(e=>(0,n.jsx)("button",{className:(0,i.W)(b().emoji,{[b().active]:e===s}),onClick:()=>l(e),type:"button",children:(0,n.jsx)(E,{code:e})},e))})}let E=(0,a.memo)(e=>{let{code:t}=e;return(0,n.jsx)(c(),{alt:"emoji",decoding:"async",height:20,src:`https://assets.vercel.com/twemoji/1${t}.svg`,width:20})});E.displayName="Emoji",t.default=function(e){let{dryRun:t,open:r,className:d}=e,[_,E]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!1),[T,I]=(0,a.useState)(null),[P,S]=(0,a.useState)(!1),[N,M]=(0,a.useState)(!1),[O,D]=(0,a.useState)(r),[R,W]=(0,a.useState)(null),[C,A]=(0,a.useState)(""),z=(0,a.useRef)(null),H=(0,a.useRef)(null),K=(0,g.T)(),U=(0,a.useCallback)(e=>{var r;if(e.preventDefault(),null===(r=H.current)||void 0===r||r.focus(),!C||""===C.trim()){W("Your feedback can't be empty");return}if(S(!0),t){S(!1),M(!0),A("");return}(0,h.I)(w.N1,{method:"POST",body:JSON.stringify({url:"localhost"===window.location.hostname?`https://${v.pV}/dev-mode${window.location.pathname}`:window.location.toString(),note:C,email:"",emotion:function(e){if(!e)return null;let t=new Map([...x].map(e=>{let[t,r]=e;return[r,t]}));return t.get(e)||""}(T),plan:K,label:"front",ua:`front production + ${navigator.userAgent} (${navigator.language||"unknown language"})`}),throwOnHTTPError:!0}).then(()=>{M(!0),A("")}).catch(e=>{e instanceof Error&&W(e.message)}).finally(()=>S(!1))},[C,t,T,K]),L=(0,a.useCallback)(e=>{27===e.keyCode?(D(!1),H.current&&H.current.focus()):"Enter"===e.key&&e.metaKey&&U(e)},[D,U]);(0,a.useEffect)(()=>{let e=null;return y&&!_&&D(!1),N&&(e=setTimeout(()=>{document.hidden||_?j(!0):D(!1)},4e3)),()=>{null!==e&&(clearTimeout(e),e=null)}},[N,D,O,_,y]),(0,a.useEffect)(()=>{let e=()=>{var e;D(!0),null===(e=H.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};return document.addEventListener(k,e),()=>document.removeEventListener(k,e)},[D]);let B=(0,a.useCallback)(e=>{I(e)},[]),V=(0,a.useCallback)(e=>{""!==e&&W(null),A(e)},[]);return(0,n.jsxs)(s.fC,{onOpenChange:e=>{if(e){var t;M(!1),W(null),j(!1),null===(t=z.current)||void 0===t||t.focus()}D(e)},open:O,children:[(0,n.jsx)(s.xz,{asChild:!0,children:(0,n.jsx)(m.z,{className:(0,i.W)(b().trigger,d),size:"small",type:"secondary",typeName:"button",children:"Feedback"})}),(0,n.jsx)(s.VY,{align:"center",className:(0,i.W)(b().popover,{[b().success]:N}),onKeyDown:e=>L(e),onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onMouseMove:()=>E(!0),sideOffset:8,children:(0,n.jsx)("form",{onSubmit:U,children:(0,n.jsx)(l.M,{children:N?(0,n.jsxs)("div",{className:b().successWrapper,children:[(0,n.jsx)(o.I,{className:"checkmark",color:"var(--geist-success)",fill:!0,size:"2rem"}),(0,n.jsx)(f.x,{children:"Your feedback has been received!"}),(0,n.jsx)(f.x,{children:"Thank you for your help."})]},"success"):(0,n.jsxs)(u.E.div,{exit:{opacity:0,y:-4},transition:{duration:.2},children:[(0,n.jsxs)("div",{className:b().formWrapper,children:[(0,n.jsx)(p.Z,{"aria-label":"Feedback input",autoFocus:!0,"data-gramm-editor":"false",disabled:P,id:"feedback",innerRef:e=>z.current=e,onChange:V,placeholder:"Your feedback...",width:"100%"}),(0,n.jsx)(l.M,{children:R?(0,n.jsx)(u.E.div,{animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},initial:{height:0,opacity:0},transition:{duration:.2},children:(0,n.jsx)(f.x,{color:"geist-error",style:{paddingTop:12,display:"block"},children:R})}):null})]}),(0,n.jsxs)(f.x,{as:"div",className:b()["markdown-tip"],color:"accents-4",size:10,children:[(0,n.jsx)(c(),{alt:"Markdown",className:b()["markdown-mark"],height:14,src:"https://assets.vercel.com/image/upload/v1660079151/front/contact/Markdown-mark.svg",width:24}),"supported."]}),(0,n.jsxs)("div",{className:b().actions,children:[(0,n.jsx)("span",{className:b().emojis,children:(0,n.jsx)($,{loading:P,onEmojiSelect:B})}),(0,n.jsx)(m.z,{loading:P,size:"small",children:"Send"})]})]},"form")})})})]})}},820816:function(e,t,r){"use strict";r.d(t,{K$:function(){return a},L9:function(){return n},tY:function(){return i}});let n="KV",a="KV",i="kv"},578536:function(e,t,r){"use strict";r.d(t,{s:function(){return f}});var n=r(4799),a=r(312253),i=r(395314),s=r(980996),o=r(906076),l=r(530472),u=r(941095),d=r(814619);let c={error:"geist-error-dark",warning:"geist-warning-dark",default:"accents-7"};function f(e){let{totalCommands:t,plan:r="hobby"}=e,f=(0,a.useMemo)(()=>{let e=function(e){if(0===e)return"0k";let t=e/1e3,r=Math.round(10*t)/10;return e<1e3?"1k":t<1e3?`${r}k`:`${Math.round(r/1e3)}M`}(t),r="default";t>=1e5?r="error":t>9e4&&(r="warning");let n={text:e,value:0===t?0:Math.max(t,3e3),state:r};return{...n,tooltipText:function(e){switch(e.state){case"error":return"You have exceeded the usage limits and all commands are now being rate-limited. Higher limits are available when you upgrade to Pro.";case"warning":return"Once your usage exceeds the limits, additional commands will be rate-limited. Higher limits are available when you upgrade to Pro.";default:return`Using ${e.text} commands`}}(n)}},[t]);return"hobby"!==r?(0,n.jsx)("span",{children:f.text}):(0,n.jsx)(u.Z,{text:f.tooltipText,children:(0,n.jsxs)(o.K,{align:"center",as:"span",direction:"row",gap:2,children:["warning"===f.state?(0,n.jsx)(i.u,{color:"var(--geist-warning)",fill:!0,size:20}):null,"error"===f.state?(0,n.jsx)(s.b,{color:"var(--geist-error)",fill:!0,size:20}):null,(0,n.jsx)(l.x,{color:c[f.state],children:`${f.text} /100k`}),(0,n.jsx)(d.Z,{max:1e5,type:"default"===f.state?"secondary":f.state,value:f.value,width:30})]})})}},176167:function(e,t,r){"use strict";r.d(t,{$2:function(){return l},fH:function(){return u},bt:function(){return o}});var n=r(312253),a=r(560630),i=r(687684);function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let a=[];for(let t=0;t<e.length;t++){let n=e[t];if(n&&a.push(n),e.length===r.length||t<e.length-1){let e=r[t];if(!e){a=[];break}a.push(e)}}return a.length?a.join(""):""}function o(e){let{team:t,user:r,project:a}=e;return(0,n.useMemo)(()=>{if(a){var e;let n=(null===(e=a.data)||void 0===e?void 0:e.name)||"";return t?s`/${t.slug}/${n}/stores`:s`/${null==r?void 0:r.username}/${n}/stores`}return t?s`/dashboard/${t.slug}/stores`:"/dashboard/stores"},[a,t,null==r?void 0:r.username])}function l(e){let{id:t,path:r,baseDetailPath:n,type:a}=e;return s`${n}/${a}/${t}/${r}`}function u(e){let{project:t}=e,{team:r,user:s}=(0,i.Z)(),u=(0,a.useRouter)(),d=o({team:r,user:s,project:t}),c=(0,n.useCallback)(e=>u.push(l({baseDetailPath:d,...e})),[u,d]);return{storeOverviewPath:d,pushToDetailPath:c}}},655016:function(e,t,r){"use strict";r.d(t,{EH:function(){return p},So:function(){return m},j7:function(){return h},tW:function(){return f}});var n=r(581945),a=r(560630),i=r(52954),s=r(843987),o=r(694620),l=r(820816),u=r(747151),d=r(628497),c=r(560677);let f=[{value:"us-east-1",label:"Washington, D.C., USA - iad1"},{value:"us-west-1",label:"San Francisco, USA - sfo1"},{value:"us-west-2",label:"Portland, USA - pdx1"},{value:"eu-central-1",label:"Frankfurt, Germany - fra1"},{value:"eu-west-1",label:"Dublin, Ireland - dub1"}],h=f.reduce((e,t)=>(e[t.value]=t.label,e),{}),m={redisUrl:`${l.K$}_URL`,redisRestApiUrl:`${l.K$}_REST_API_URL`,redisRestApiToken:`${l.K$}_REST_API_TOKEN`,redisRestApiReadOnlyToken:`${l.K$}_REST_API_READ_ONLY_TOKEN`};function p(e){let t=(0,a.useRouter)(),r=t.query.redisId,{isReady:l,team:f}=(0,d.t7)(),{addStore:h,deleteStore:m}=(0,c.i)(),{can:p,isLoading:w}=(0,u.ZP)(),v={read:p(u.aU.List,u._z.Redis),create:p(u.aU.Create,u._z.Redis),remove:p(u.aU.Delete,u._z.Redis),update:p(u.aU.Update,u._z.Redis),isLoading:w},g=(0,o.c)({teamId:null==f?void 0:f.id}),_=(0,n.ZP)(()=>l&&!v.isLoading&&v.read&&r?`${s.nf}/stores/${r}${g}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}),e),b=async()=>{if(!r)throw Error("redisId is not defined");let e=await (0,i.I)(`${s.nf}/stores/redis/${r}${g}`,{method:"DELETE",throwOnHTTPError:!0,returnStatus:!0});return await m(r),e},k=async e=>{let t=await (0,i.I)(`${s.nf}/stores/redis${g}`,{method:"POST",throwOnHTTPError:!0,body:e});return await _.mutate(t,{revalidate:!1}),await h(t.store),t},x=async e=>{if(!r)throw Error("redisId is not defined");let t=await (0,i.I)(`${s.nf}/stores/redis/${r}${g}`,{method:"PUT",throwOnHTTPError:!0,body:{name:e}});return await _.mutate(t,{revalidate:!1}),t},$=async e=>{if(!r)throw Error("redisId is not defined");let t=await (0,i.I)(`${s.nf}/stores/redis/${r}${g}`,{method:"PUT",throwOnHTTPError:!0,body:{eviction:e}});return await _.mutate(t,{revalidate:!1}),t},E=async e=>{if(!r)throw Error("redisId is not defined");let t=await (0,i.I)(`${s.nf}/stores/redis/${r}${g}`,{method:"PUT",throwOnHTTPError:!0,body:{readRegions:e}});return await _.mutate(t,{revalidate:!1}),t},y=async e=>{let{connectionIds:t}=e;if(!r)throw Error("redisId is not defined");for(let e of t)await (0,i.I)(`${s.nf}/stores/${r}/connections/${e}${g}`,{method:"DELETE",throwOnHTTPError:!0});await _.mutate()},j=async e=>{let{redisId:t,...n}=e,a=e.redisId??r;if(!a)throw Error("redisId is not defined");let o=await (0,i.I)(`${s.nf}/stores/${a}/connections${g}`,{method:"POST",throwOnHTTPError:!0,body:n});return await _.mutate(),o},T=async e=>{let{redisId:t,...n}=e,a=e.redisId??r;if(!a)throw Error("redisId is not defined");let o=await (0,i.I)(`${s.nf}/stores/${a}/reset-tokens${g}`,{method:"POST",throwOnHTTPError:!0,body:n});return await _.mutate(),o};return{..._,deleteRedis:b,createRedis:k,updateName:x,updateReadRegions:E,updateEviction:$,permissions:v,removeProjects:y,connectProjects:j,redisId:r,resetTokens:T}}},395314:function(e,t,r){"use strict";r.d(t,{u:function(){return a}});var n=r(872820);let a=(0,n.H1)('<path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z" fill="var(--geist-fill)"/><path d="M12 9v4" stroke="var(--geist-stroke)"/><path d="M12 17h.01" stroke="var(--geist-stroke)"/>',!0)},335321:function(e){e.exports={additionalPermissionsWrapper:"additional-permissions-required_additionalPermissionsWrapper__krMGm",message:"additional-permissions-required_message__PUkdK"}},835539:function(e){e.exports={betaBadge:"beta-badge_betaBadge__XfJB2",feedbackButton:"beta-badge_feedbackButton__Nl80u"}},783435:function(e){e.exports={popover:"new-feedback-input_popover__tcgNM",fadeIn:"new-feedback-input_fadeIn__OaFap",fadeOut:"new-feedback-input_fadeOut__F7ZMG",success:"new-feedback-input_success__AJ0vb",trigger:"new-feedback-input_trigger__MxBJo",formWrapper:"new-feedback-input_formWrapper__Du68h","form-heading":"new-feedback-input_form-heading__yKQXV",tooltip:"new-feedback-input_tooltip__Mhx52",actions:"new-feedback-input_actions__XFkqp",emojisWrapper:"new-feedback-input_emojisWrapper__rQToV",emoji:"new-feedback-input_emoji__WoAiM",active:"new-feedback-input_active__6JkWH",successWrapper:"new-feedback-input_successWrapper__AQzCM",appear:"new-feedback-input_appear___l5YK","markdown-tip":"new-feedback-input_markdown-tip__kTK0f","markdown-mark":"new-feedback-input_markdown-mark__Rv5mS"}}}]);