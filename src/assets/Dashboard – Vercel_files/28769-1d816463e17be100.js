(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28769],{938101:function(t,e,r){"use strict";var n=r(312253),a={};e.Z=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];var i=[],o=[],l=function(t){var e=(0,n.createContext)(a);i.push(e),o.push(function(){return(0,n.useContext)(e)})};return r.length?r.forEach(function(t){return l(t.name)}):l(t.name),[function(e){for(var a=e.children,s=t(function(t,e){if(null==t)return{};var r,n,a={},s=Object.keys(t);for(n=0;n<s.length;n++)e.indexOf(r=s[n])>=0||(a[r]=t[r]);return a}(e,["children"])),o=a,l=0;l<i.length;l+=1){var u=i[l],d=r[l]||function(t){return t};o=(0,n.createElement)(u.Provider,{value:d(s)},o)}return o}].concat(o)}},901729:function(t,e,r){"use strict";r.d(e,{M:function(){return i},R:function(){return o}});var n=r(312253),a=r(938101),s=r(560630);let[i,o]=(0,a.Z)(function(t){let[e,r]=(0,n.useState)(null),[a,i]=(0,n.useState)(void 0),[o,l]=(0,n.useState)(null),[u,d]=(0,n.useState)(null),[c,f]=(0,n.useState)(null),[p,h]=(0,n.useState)("all"),[y,m]=(0,n.useState)(t.pageContext),[v,g]=(0,n.useState)(void 0),x=(0,s.useRouter)(),_=x.query.slug,b=Array.isArray(_)?_[0]:_;return(0,n.useEffect)(()=>{g(b)},[b]),{project:e,setProject:r,dateRange:a,setDateRange:i,requestPath:o,setRequestPath:l,sourcePath:u,setSourcePath:d,host:c,setHost:f,environment:p,setEnvironment:h,pageContext:y,setPageContext:m,activeTab:v}})},386092:function(t,e,r){"use strict";r.d(e,{H:function(){return b}});var n=r(4799),a=r(312253),s=r(134052),i=r(508369),o=r(475552),l=r(433212),u=r(560630),d=r(499842),c=r(579365),f=r(687684),p=r(901729);let h=()=>{let t,e;let r=(0,u.useRouter)(),n=r.query.start,a=r.query.end;if("string"==typeof n&&"string"==typeof a){let r=Date.parse(n),s=Date.parse(a);isNaN(r)||isNaN(s)||(t=new Date(r),e=new Date(s))}return{startQueryParam:t,endQueryParam:e}};var y=r(357067),m=r.n(y);let v={"last-1-day":{text:"Last Day",start:(0,s.Z)((0,i.Z)(new Date,1))},"last-3-days":{text:"Last 3 Days",start:(0,s.Z)((0,i.Z)(new Date,3))},"last-7-days":{text:"Last 7 Days",start:(0,s.Z)((0,i.Z)(new Date,7))},"last-14-days":{text:"Last 14 Days",start:(0,s.Z)((0,i.Z)(new Date,14))},"last-30-days":{text:"Last 30 Days",start:(0,s.Z)((0,i.Z)(new Date,30))},"last-3-months":{text:"Last 3 Months",start:(0,s.Z)((0,o.Z)(new Date,3))},"last-12-months":{text:"Last 12 Months",start:(0,s.Z)((0,o.Z)(new Date,12))}},g=(t,e,r,n)=>e&&e in r?r[e]:"team"===n?x.live:t&&"current-billing-cycle"in r?r["current-billing-cycle"]:r["last-7-days"],x={live:{text:"Live",start:new Date(0),end:new Date(0)}},_=(t,e,r)=>void 0!==e&&t&&(null==r?void 0:r.current.start)?{..."team"===e&&x,"current-billing-cycle":{text:"Current Billing Cycle",start:new Date(r.current.start),end:new Date(r.current.end)},"previous-billing-cycle":{text:"Previous Billing Cycle",start:new Date(r.previous.start),end:new Date(r.previous.end)},...v}:{..."team"===e&&x,...v};function b(t){var e;let{enabled:r}=t,{data:i}=(0,c.e_)(),{team:y,user:v}=(0,f.Z)(),x=y||v,b=!!(null==x?void 0:null===(e=x.billing)||void 0===e?void 0:e.period),w=(0,u.useRouter)(),j=w.isReady?w.query.range:void 0,S=h(),[D,Z]=(0,a.useState)(!1),{dateRange:P,setDateRange:C,activeTab:L}=(0,p.R)(),k=(0,a.useMemo)(()=>_(b,L,i),[b,i,L]),q=g(b,j,k,L),E=(0,s.Z)((0,o.Z)(new Date,12)),I=(0,l.Z)(new Date),[O,A]=(0,a.useState)(0);(0,a.useEffect)(()=>{!D&&(null==P?void 0:P.start)&&P.end&&S.startQueryParam&&S.endQueryParam&&(new Date(P.start).getTime()!==S.startQueryParam.getTime()||new Date(P.end).getTime()!==S.endQueryParam.getTime())&&(C({end:S.endQueryParam,start:S.startQueryParam}),Z(!0),A(t=>t+1))},[null==P?void 0:P.end,null==P?void 0:P.start,S.endQueryParam,S.startQueryParam,D,C]),(0,a.useEffect)(()=>{void 0===P&&C({start:q.start,end:q.end||new Date,label:q.text})},[P,q.end,q.start,q.text,C]),(0,a.useEffect)(()=>{(null==P?void 0:P.label)==="Live"&&"team"!==L&&C({start:q.start,end:q.end||new Date,label:q.text})},[L,null==P?void 0:P.label,q.end,q.start,q.text,C]);let R=(null==P?void 0:P.label)==="Live";return(0,n.jsxs)("div",{className:m().container,children:[(0,n.jsx)(d.Z,{allowClear:!1,disabled:!r,hideDateButton:R,maxValue:I,minValue:E,onChange:t=>{C(t);let e=Object.keys(k).find(e=>{var r;return k[e].start.toISOString()===new Date(t.start.toString()).toISOString()&&(!k[e].end||(null===(r=k[e].end)||void 0===r?void 0:r.toISOString())===new Date(t.end.toString()).toISOString())});if(e!==j&&w.replace({query:{...w.query,range:e}},void 0,{scroll:!1}),!e){let t=w.query;w.replace({query:t},void 0,{scroll:!1})}},presetIndex:Object.values(k).findIndex(t=>t.text===q.text),presets:k,stacked:!0,value:P},O),R?(0,n.jsx)("div",{"aria-hidden":!0,className:m().dot}):null]})}},192179:function(t,e,r){"use strict";r.d(e,{Z:function(){return d}});var n=r(4799),a=r(312253),s=r(94928),i=r.n(s),o=r(200494),l=r(581943);let u=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"body::before{content:'';display:block;position:fixed;width:100%;height:100%;top:0;left:0;background:var(--geist-background);z-index: 99999}.render body::before{display:none}"}}),(0,n.jsx)("noscript",{dangerouslySetInnerHTML:{__html:"<style>body::before{content:none}</style>"}})]});function d(t){let{requireAuth:e=!0,timeout:r=1e3}=t;if(e)return(0,n.jsxs)(i(),{children:[u,(0,n.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
              location.replace('/login?next=' + encodeURIComponent(location.pathname + location.search))
            } else {
              document.documentElement.classList.add('render')
            }`}})]});let[s,d]=(0,a.useState)(!1),{isLoggedOut:c}=(0,l.n)(),f=(0,a.useRef)();return f.current=c,(0,a.useEffect)(()=>{let t=setTimeout(()=>{void 0===f.current&&d(!0)},r);return()=>clearTimeout(t)},[r]),(0,a.useEffect)(()=>{c&&(document.documentElement.classList.add("render"),d(!1))},[c]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[u,(0,n.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
            document.documentElement.classList.add('render')
          }`}})]}),s?(0,n.jsx)("div",{className:"geist-fade-in",style:{width:20,height:20,position:"fixed",top:0,left:0,right:0,bottom:0,margin:"auto",zIndex:1e5},children:(0,n.jsx)(o.$,{})}):null]})}},364476:function(t,e,r){"use strict";r.d(e,{BZ:function(){return S},W0:function(){return j},ZP:function(){return D},f9:function(){return b}});var n=r(4799),a=r(312253),s=r(14517),i=r(384208),o=r(61771),l=r(212201),u=r(192179),d=r(386854),c=r(540637),f=r(234048),p=r(628497),h=r(592912),y=r(950416),m=r(781536),v=r(714066),g=r(491318),x=r(330420);let _=function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{data:e,isLoggedOut:r,isValidating:n,mutate:s}=(0,f.a)(t,!0),{isReady:i,teams:o,team:l,isValidating:u,teamSlug:d,isTeam:c,mutate:h}=(0,p.t7)(),y=(0,a.useCallback)(()=>Promise.all([s(),h()]),[s,h]);return{isReady:e&&i,isValidating:n||u,team:l,teams:o,userData:e,teamSlug:d,isTeam:c,isLoggedOut:r,mutate:y}};function b(t){let e=(0,i.useRouter)(),{teamSlug:r}=(0,g.U)()||{};r=(r||"").replace(/\?.+/,"");let n=(0,v.b)().get("invited"),{team:s,mutate:o,isValidating:l,isReady:u,userData:d,teamSlug:f,isLoggedOut:p}=_(t);(0,x.Z)("invited","You are now a member of this Team.","success",!l),(0,a.useEffect)(()=>{n&&!l&&f&&(o(),e.replace(`/${f}`,{shallow:!0}))},[e,f,o,l,n]),(0,a.useEffect)(()=>{if(t&&u){var e,n;if(!p&&!l&&r&&(null===(e=d.user)||void 0===e?void 0:e.username)!==r&&(null===(n=d.user)||void 0===n?void 0:n.uid)!==r&&!s){let t=Error("Team not found");throw t.status=404,(0,c.nY)(),t}}},[t,d,s,u,p,l,r])}let w=(0,a.memo)(t=>{let{Section:e,opts:r,pageProps:i}=t;b(r.requireAuth);let d=function(){let[t,e]=(0,a.useReducer)((t,e)=>({initial:!1,key:t.initial?t.key:e}),{initial:!0,key:null}),{query:{teamSlug:r},isReady:n}=(0,o.useRouter)();return(0,a.useEffect)(()=>{n&&e(r??null)},[n,r]),t.key}();return(0,n.jsxs)(n.Fragment,{children:[r.requireAuth?(0,n.jsx)(u.Z,{}):null,(0,n.jsxs)(l.Z,{active:r.active,dashboard:!0,footer:r.footer,fullWidthLayout:r.fullWidthLayout,stickyTabs:r.stickyTabs,title:r.pageName?`${r.pageName} â€“ Dashboard`:"Dashboard",...r.pageProps,children:[(0,n.jsx)(h.Z,{}),(0,n.jsx)(y.Z,{}),(0,n.jsx)(m.Z,{}),(0,n.jsx)("div",{className:(0,s.W)("dashboard-container",{gray:r.darkFold}),children:(0,a.createElement)(e,{active:r.active,...i,key:d})})]})]})});function j(t){return(0,d.P)(t)}w.displayName="DashboardLayout";let S=j(w);function D(t,e){e=Object.assign({requireAuth:!0,active:""},e||{});let r=(0,a.memo)(t);return t.getLayout=function(t,a){return(0,n.jsx)(S,{Section:r,opts:e,pageProps:a})},t}},386854:function(t,e,r){"use strict";r.d(e,{A:function(){return l},P:function(){return u}});var n=r(4799),a=r(312253),s=r(560630),i=r(968026),o=r(749061);let l=t=>class extends a.Component{static async getInitialProps(e){let r={};return t.getInitialProps&&(r=await t.getInitialProps(e)),r.statusCode&&e.res&&(e.res.statusCode=r.statusCode),r}render(){return this.props.statusCode?(0,n.jsx)(o.default,{err:this.props.err,reported:!0,statusCode:this.props.statusCode}):(0,n.jsx)(t,{...this.props})}};function u(t){class e extends a.PureComponent{}class r extends e{static getDerivedStateFromError(t){var e;if(404===t.status&&t.teamSlug&&t.membershipRequestedBy)throw t;let r=t.statusCode||t.status||(null===(e=t.res)||void 0===e?void 0:e.status);return(0,i.captureError)(t,{statusCode:r}),{error:t}}componentDidUpdate(t){t.router.asPath!==this.props.router.asPath&&this.state.error&&this.setState({error:null})}render(){let{error:e}=this.state;if(e){var r;let t=e.statusCode||e.status||(null===(r=e.res)||void 0===r?void 0:r.status);return(0,n.jsx)(o.default,{err:e,reported:!0,statusCode:t})}return(0,n.jsx)(t,{...this.props})}constructor(...t){super(...t),this.state={error:null}}}return r.getInitialProps=e=>t.getInitialProps?t.getInitialProps(e):{},r.getLayout=t.getLayout,(0,s.withRouter)(r)}},128739:function(t){"use strict";t.exports=function(){let{onlyFirst:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))",t?void 0:"g")}},357067:function(t){t.exports={container:"styles_container__MP4KV",dot:"styles_dot__f3jal",pulse:"styles_pulse__vEtm1"}},18436:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,n.default)(t),!t||/[\s<>]/.test(t)||0===t.indexOf("mailto:")||(e=(0,i.default)(e,u)).validate_length&&t.length>=2083||!e.allow_fragments&&t.includes("#")||!e.allow_query_components&&(t.includes("?")||t.includes("&")))return!1;if((v=(t=(v=(t=(v=t.split("#")).shift()).split("?")).shift()).split("://")).length>1){if(o=v.shift().toLowerCase(),e.require_valid_protocol&&-1===e.protocols.indexOf(o))return!1}else if(e.require_protocol)return!1;else if("//"===t.substr(0,2)){if(!e.allow_protocol_relative_urls)return!1;v[0]=t.substr(2)}if(""===(t=v.join("://")))return!1;if(""===(t=(v=t.split("/")).shift())&&!e.require_host)return!0;if((v=t.split("@")).length>1){if(e.disallow_auth||""===v[0]||(f=v.shift()).indexOf(":")>=0&&f.split(":").length>2)return!1;var r,o,f,p,h,y,m,v,g,x=function(t){if(Array.isArray(t))return t}(r=f.split(":"))||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,a=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,s=t}finally{try{n||null==o.return||o.return()}finally{if(a)throw s}}return r}}(r,2)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=x[0],b=x[1];if(""===_&&""===b)return!1}h=v.join("@"),m=null,g=null;var w=h.match(d);if(w?(p="",g=w[1],m=w[2]||null):(p=(v=h.split(":")).shift(),v.length&&(m=v.join(":"))),null!==m&&m.length>0){if(y=parseInt(m,10),!/^[0-9]+$/.test(m)||y<=0||y>65535)return!1}else if(e.require_port)return!1;return e.host_whitelist?c(p,e.host_whitelist):!!((0,s.default)(p)||(0,a.default)(p,e)||g&&(0,s.default)(g,6))&&(p=p||g,!(e.host_blacklist&&c(p,e.host_blacklist)))};var n=o(r(892323)),a=o(r(869290)),s=o(r(763879)),i=o(r(200615));function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var u={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},d=/^\[([^\]]+)\](?::([0-9]+))?$/;function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(t===n||"[object RegExp]"===Object.prototype.toString.call(n)&&n.test(t))return!0}return!1}t.exports=e.default,t.exports.default=e.default},322053:function(t,e,r){"use strict";r.d(e,{A:function(){return o}});var n=r(312253),a=r(285850),s=r(213228),i=r(196743);function o({children:t,isValidProp:e,...r}){e&&(0,s.K)(e),(r={...(0,n.useContext)(a._),...r}).isStatic=(0,i.h)(()=>r.isStatic);let o=(0,n.useMemo)(()=>r,[JSON.stringify(r.transition),r.transformPagePoint,r.reducedMotion]);return n.createElement(a._.Provider,{value:o},t)}}}]);