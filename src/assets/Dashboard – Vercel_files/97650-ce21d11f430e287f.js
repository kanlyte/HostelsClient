(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97650],{300425:function(e,n,t){"use strict";t.d(n,{P:function(){return s},c:function(){return l}});var r=t(4799),i=t(312253),a=t(14517),o=t(591449),d=t.n(o);let s=e=>{let{title:n,children:t,className:o,...s}=e;return i.Children.count(t)?(0,r.jsxs)("details",{className:(0,a.W)(o,d().item),...s,children:[(0,r.jsx)("summary",{className:d().summary,children:(0,r.jsx)("div",{children:n})}),(0,r.jsx)("div",{className:d().content,children:t})]}):(0,r.jsx)("div",{className:d().childless,children:n})},l=e=>{let{children:n,className:t,...i}=e;return(0,r.jsx)("div",{className:(0,a.W)(t,d().subitem),...i,children:n})}},756842:function(e,n,t){"use strict";var r=t(4799),i=t(312253),a=t(263922);n.Z=(0,i.forwardRef)(function(e,n){let{placeholder:t,loading:i,children:o,noGap:d,noBorderRadius:s,onClick:l}=e;return t?(0,r.jsx)("div",{style:{marginTop:d?"0":"var(--geist-space-4x)",height:32}}):(0,r.jsx)(a.z,{loading:i,onClick:l,ref:n,style:{marginTop:d?0:"var(--geist-space-4x)",borderRadius:s?0:void 0},type:"secondary",width:"100%",children:o||"Load More"})})},625809:function(e,n,t){"use strict";t.d(n,{E:function(){return et},Z:function(){return ea}});var r=t(4799),i=t(312253),a=t(804369),o=t(349177),d=t(151854),s=t(794845),l=t(20135),c=t(238790),u=t(13452),m=t(941095),h=t(253790),v=t(628497),x=t(778854),p=t(747151),f=t(220395),j=t(943220),g=t.n(j),_=t(14517),b=t(560630),y=t(779810),w=t(200494),N=t(906076),I=t(530472),C=t(838262),A=t(358089),O=t(633898),k=t(300425),$=t(756842),D=t(681021),S=t(92371),M=t(314194),T=t(659978),E=t(910534),W=t(450969),Z=t(999250),P=t.n(Z),L=t(861599),z=t.n(L),R=t(52954),U=t(843987);async function H(e){let{project:n,isReady:t,team:r,name:i,newProjectId:a}=e;t&&await (0,R.I)(`${(0,U.z1)("v9")}/${n.id}/domains/${i}/move${r?`?teamId=${r.id}`:""}`,{throwOnHTTPError:!0,method:"POST",body:JSON.stringify({projectId:a})})}function F(e){let{project:n,hideSkeleton:t}=e,i=(0,M.VW)(n),{data:a}=(0,W.Z)(i),o=(0,M.mk)(n);return o&&(!i||void 0!==a)&&t?(0,r.jsx)(E.qE,{className:(0,_.W)({[z().favicon]:!!(!a||!a.isSquare),[P().frameworkIcon]:!!(!a&&o)}),size:32,src:(null==a?void 0:a.src)||o.logo,title:n?n.name:void 0}):(0,r.jsx)(y.O,{height:32,rounded:!0,style:{flexShrink:0},width:32})}function V(e){let{active:n,dispatch:t,domain:a,projectIdOrNameInUse:o,revalidateDomains:s}=e,l=(0,i.useRef)(!1),[c,u]=(0,i.useState)(!1),m=(0,M.ic)(),{data:x}=(0,h.PY)(m),{team:p,isReady:f}=(0,v.t7)(),{data:j}=(0,h.PY)(a&&o?o:null),{data:_}=(0,S.g4)(j?{projectId:j.id,name:a}:null),w=_?_.redirect??_.name:null,[k,{domains:E,isLoadingMore:W,loadMore:Z,isReachingEnd:P,initialDataLoaded:L}]=(0,S.Oe)(_&&j?j.id:null,w?{redirect:w,limit:20}:{}),R=(0,b.useRouter)(),U=`/${R.query.teamSlug}/${null==j?void 0:j.name}/settings/domains`,V=`/${R.query.teamSlug}/${null==x?void 0:x.name}/settings/domains`,G=()=>{l.current&&(t({type:"DOMAIN_ADD_SUCCESS"}),l.current=!1)},Y=(0,i.useCallback)(()=>{t({type:"DOMAIN_IN_USE_MODAL_CLOSE"}),u(!1)},[t]),J=async()=>{if(x&&a&&o&&_&&j&&w){u(!0);try{await H({project:j,isReady:f,name:w,team:p,newProjectId:x.id}),await s(),l.current=!0}catch(e){t({type:"DOMAIN_ADD_FAIL",error:e.component||(0,d.VK)(e)})}t({type:"DOMAIN_IN_USE_MODAL_CLOSE"}),u(!1)}};return(0,r.jsxs)(A.Modal,{active:n&&!!w&&!!x&&!!j,onAnimationDone:G,onClickOutside:Y,children:[(0,r.jsx)(A.Body,{children:(0,r.jsxs)(N.K,{direction:"column",gap:8,children:[(0,r.jsxs)("header",{className:"jsx-aedf4df6a7382869",children:[(0,r.jsx)(A.Title,{children:"Move Domain"}),(0,r.jsxs)(I.x,{children:["This domain is already associated with another project."," ",w&&w===a?(0,r.jsx)(r.Fragment,{children:"Please confirm you'd like to move the following domain and its redirects:"}):(0,r.jsx)(r.Fragment,{children:"Please confirm you'd like to transfer the following domain and the domain it redirects to:"})]})]}),(0,r.jsxs)(N.K,{direction:"column",gap:8,children:[w?(0,r.jsx)(T.Z,{className:z().noteCenterText,fill:!0,label:!1,size:"small",type:"lite",variant:"contrast",children:(0,r.jsx)(I.x,{align:"center",children:(0,r.jsx)(C.r,{external:!0,href:`https://${w}`,tab:!0,type:"highlight",children:w})})}):(0,r.jsx)(y.O,{height:32,width:"100%"}),(0,r.jsxs)(N.K,{direction:"row",justify:"space-evenly",children:[(0,r.jsxs)(N.K,{align:"center",direction:"column",flex:"0 0 36%",gap:2,children:[(0,r.jsx)(C.r,{href:U,target:"_blank",children:(0,r.jsx)(F,{hideSkeleton:!!(x&&j),project:j})}),(0,r.jsx)(I.x,{align:"center",className:"geist-hide-on-mobile",style:{maxWidth:"100px"},truncate:3,weight:500,wrap:!0,children:j&&x?(0,r.jsx)(C.r,{href:U,target:"_blank",title:j.name,variant:"primary",children:j.name}):(0,r.jsx)(y.O,{height:20,width:100})})]}),(0,r.jsx)(N.K,{align:"center",direction:"column",flex:"0 0 20%",children:(0,r.jsx)(B,{})}),(0,r.jsxs)(N.K,{align:"center",direction:"column",flex:"0 0 36%",gap:2,children:[(0,r.jsx)(C.r,{href:V,target:"_blank",children:(0,r.jsx)(F,{hideSkeleton:!!(x&&j),project:x})}),(0,r.jsx)(I.x,{align:"center",className:"geist-hide-on-mobile",style:{maxWidth:"100px"},truncate:3,weight:500,wrap:!0,children:j&&x?(0,r.jsx)(C.r,{href:V,target:"_blank",title:x.name,variant:"primary",children:x.name}):(0,r.jsx)(y.O,{height:20,width:100})})]})]})]}),(0,r.jsxs)(A.Outset,{children:[(0,r.jsx)(K,{count:E.length+1,loading:!L,title:(0,r.jsxs)("span",{className:"jsx-aedf4df6a7382869",children:[E.length+1," ",0===E.length?"domain":"domains"," will be moved."]}),children:(0,r.jsxs)("div",{className:"jsx-aedf4df6a7382869",children:[(0,r.jsx)(q,{children:(0,r.jsx)(C.r,{external:!0,href:`https://${w}`,style:{flexGrow:"1"},tab:!0,children:w})},w),E.map(e=>(0,r.jsx)(q,{children:(0,r.jsx)(C.r,{external:!0,href:`https://${e.name}`,style:{flexGrow:"1"},tab:!0,children:e.name})},e.name)),!P&&(0,r.jsxs)("div",{className:"jsx-aedf4df6a7382869 "+(z().inset||""),children:[(0,r.jsx)($.Z,{loading:W,onClick:Z}),(0,r.jsx)(D.L,{})]})]})}),(0,r.jsx)(D.L,{y:-1})]})]})}),(0,r.jsxs)(A.Actions,{children:[(0,r.jsx)(A.Action,{onClick:Y,type:"secondary",children:"Cancel"}),(0,r.jsx)(A.Action,{loading:c,onClick:J,children:c?(0,r.jsx)(O.Z,{children:"Moving"}):`Move ${E.length+1}${P?"":"+"} ${E.length+1>1?"domains":"domain"}`})]}),(0,r.jsx)(g(),{id:"aedf4df6a7382869",children:"header.jsx-aedf4df6a7382869{max-width:440px;margin:0 auto}header.jsx-aedf4df6a7382869>h2{margin:0;text-align:center}header.jsx-aedf4df6a7382869>p{color:var(--accents-5);margin:10px auto 0}.added.jsx-aedf4df6a7382869{color:#999;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}"})]})}function K(e){let{title:n,children:t,loading:i,count:a,open:o}=e;return i?(0,r.jsx)("div",{className:z().loadingItem,children:(0,r.jsx)(w.$,{size:14})}):0===a?(0,r.jsx)(k.P,{title:n}):(0,r.jsx)(k.P,{open:o,title:n,children:(0,r.jsx)("div",{className:z().content,children:t})})}function q(e){let{children:n}=e;return(0,r.jsx)(k.c,{className:z().subitem,children:n})}function B(){return(0,r.jsxs)("svg",{fill:"var(--accents-5)",height:"32",viewBox:"0 -6 66 32",width:"66",children:[(0,r.jsx)("path",{d:"M43 10c0 5.523-4.477 10-10 10s-10-4.477-10-10S27.477 0 33 0s10 4.477 10 10zM32.53 6.47a.75.75 0 10-1.06 1.06L33.94 10l-2.47 2.47a.75.75 0 101.06 1.06l3-3a.75.75 0 000-1.06l-3-3z"}),(0,r.jsx)("path",{d:"M.5 9.125v1h2.455v-1H.5zM4.864 9.125v1h3.909v-1h-3.91zM10.682 9.125v1h3.909v-1h-3.91zM16.5 9.125v1h3.91v-1H16.5zM45.59 9.125v1h3.91v-1h-3.91zM51.41 9.125v1h3.908v-1H51.41zM57.227 9.125v1h3.91v-1h-3.91zM63.045 9.125v1H65.5v-1h-2.455z"})]})}var G=t(480592),Y=t(43751),J=t.n(Y),Q=t(661950);function X(e){if(!("object"==typeof e&&null!==e))return!1;let n="projectName"in e&&"string"==typeof e.projectName||"projectId"in e&&"string"==typeof e.projectId,t="code"in e&&"string"==typeof e.code,r=e.code,i=t&&["domain_already_in_use","duplicate-team-registration","duplicate-user-registration"].includes(r);return n&&t&&i}function ee(e){let{domain:n,active:t,dispatch:l,revalidateDomains:c}=e,[u,m]=(0,i.useState)("nonToWww"),[p,j]=(0,i.useState)(!1),g=(0,i.useRef)(!1),_=(0,M.ic)(),{team:b,isReady:y}=(0,v.t7)(),{data:w}=(0,h.W5)(_),N=n?(0,a.get)(n):null,I=N?`www.${N}`:null,{data:O}=(0,S.g4)(I?{projectId:_,name:I}:null),{data:k}=(0,S.g4)(N?{projectId:_,name:N}:null),$=()=>{l({type:"WWW_MODAL_CLOSE"}),m("nonToWww"),j(!1)},T=()=>{g.current&&(l({type:"DOMAIN_ADD_SUCCESS"}),g.current=!1)},E=async()=>{if(w&&I&&N&&n){j(!0);try{switch(u){case"nonToWww":O||await (0,x.eS)({domain:I,project:w,team:b}),k?await (0,Q.Z)({project:w,isReady:y,team:b,projectDomain:k,newRedirect:I,newRedirectStatusCode:308}):await (0,x.eS)({domain:N,project:w,team:b,redirect:I,redirectStatusCode:308});break;case"wwwToNon":k||await (0,x.eS)({domain:N,project:w,team:b}),O?await (0,Q.Z)({project:w,isReady:y,team:b,projectDomain:O,newRedirect:N,newRedirectStatusCode:308}):await (0,x.eS)({domain:I,project:w,team:b,redirect:N,redirectStatusCode:308});break;case"none":await (0,x.eS)({domain:n,project:w,team:b});break;default:return}await c(),g.current=!0}catch(e){X(e)&&!(e.projectName===w.name||e.projectId===w.id)?l({type:"DOMAIN_IN_USE_MODAL_OPEN",projectIdOrNameInUse:e.projectId??e.projectName}):l({type:"DOMAIN_ADD_FAIL",error:e.component||(0,d.VK)(e)})}$()}};return(0,r.jsxs)(A.Modal,{active:t,"data-testid":(0,f.C)("project","settings","domains","add-alias-domain-modal"),onAnimationDone:T,onClickOutside:$,children:[(0,r.jsxs)(A.Body,{children:[(0,r.jsx)(A.Title,{children:"Add Domain"}),(0,r.jsx)(A.Subtitle,{children:(0,r.jsx)("b",{children:n})}),(0,r.jsx)(D.L,{}),(0,r.jsxs)(A.Inset,{last:!0,children:[(0,r.jsx)(D.L,{y:-1}),(0,r.jsx)(A.Outset,{children:(0,r.jsx)(G.Ee,{label:"Domain WWW Redirects",onChange:m,value:u,children:(0,r.jsxs)(s.Z,{gap:0,children:[(0,r.jsxs)(s.Z,{Component:"label",className:J().label,row:!0,children:[(0,r.jsx)(s.Z,{children:(0,r.jsxs)(G.Rk,{label:!1,value:"nonToWww",children:[O?"Use":"Add"," ",(0,r.jsx)("b",{children:I})," and redirect"," ",(0,r.jsx)("b",{children:N})," to it"]})}),(0,r.jsx)(s.Z,{flex:"0 0 auto",children:(0,r.jsx)(o.Ct,{variant:"blue",children:"Recommended"})})]}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(A.Outset,{children:(0,r.jsx)("hr",{className:"geist-hr-reset"})})}),(0,r.jsx)(s.Z,{Component:"label",className:J().label,children:(0,r.jsxs)(G.Rk,{label:!1,value:"wwwToNon",children:[k?"Use":"Add"," ",(0,r.jsx)("b",{children:N})," and redirect ",(0,r.jsx)("b",{children:I})," to it"]})}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(A.Outset,{children:(0,r.jsx)("hr",{className:"geist-hr-reset"})})}),(0,r.jsx)(s.Z,{Component:"label",className:J().label,children:(0,r.jsxs)(G.Rk,{label:!1,value:"none",children:["Add ",(0,r.jsx)("b",{children:n})]})})]})})}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(A.Outset,{children:(0,r.jsx)("hr",{className:"geist-hr-reset"})})}),(0,r.jsx)(D.L,{}),(0,r.jsxs)("span",{children:["Learn more about"," ",(0,r.jsx)(C.r,{external:!0,href:"/docs/concepts/projects/custom-domains#redirecting-www-domains",variant:"highlight",children:"Redirecting Domains"})]})]})]}),(0,r.jsxs)(A.Actions,{children:[(0,r.jsx)(A.Action,{onClick:$,type:"secondary",children:"Cancel"}),(0,r.jsx)(A.Action,{"data-testid":(0,f.C)("project","settings","domains","add-alias-domain-modal","confirm-button"),loading:p,onClick:E,children:"Add"})]})]})}let en=["*.vercel.app","*.now.sh"];function et(e){let{value:n,currentDomain:t,dispatch:i,error:a,disabled:o=!1,editing:d=!1}=e;return(0,r.jsx)(l.I,{"aria-label":"Domain Alias","data-testid":(0,f.C)("domains","alias-domain-input"),disabled:o,error:a,onChange:e=>{i({type:"DOMAIN_SET_VALUE",value:e.target.value})},placeholder:d?t:"mywebsite.com",value:n,width:"100%"})}let er=e=>e||e.message?e.message||e:"An unexpected error has occurred",ei=(e,n)=>{switch(n.type){case"WWW_MODAL_OPEN":return{...e,wwwModal:!0};case"WWW_MODAL_CLOSE":return{...e,wwwModal:!1};case"DOMAIN_IN_USE_MODAL_OPEN":return{...e,projectIdOrNameInUse:n.projectIdOrNameInUse,domainInUseModal:!0};case"DOMAIN_IN_USE_MODAL_CLOSE":return{...e,domainInUseModal:!1,loading:!1};case"DOMAIN_SET_VALUE":return{...e,value:n.value,error:null};case"DOMAIN_SET_ERROR":return{...e,error:n.value};case"DOMAIN_ADD_START":return{...e,loading:!0,error:null};case"DOMAIN_ADD_FAIL":return{...e,loading:!1,error:n.error};case"DOMAIN_ADD_SUCCESS":return{...e,value:"",loading:!1}}};function ea(e){let{projectIdOrName:n=null,revalidateDomains:t}=e,[{value:l,error:j,loading:g,wwwModal:_,domainInUseModal:b,projectIdOrNameInUse:y},w]=(0,i.useReducer)(ei,{value:"",error:null,loading:!1,wwwModal:!1,domainInUseModal:!1,projectIdOrNameInUse:null}),{data:N}=(0,h.W5)(n),{team:I}=(0,v.t7)(),C=(0,i.useCallback)(async e=>{if(e.preventDefault(),!j&&l&&N){if(en.includes(l))return w({type:"DOMAIN_ADD_FAIL",error:`The provided domain name "${l}" is invalid.`});if(function(e){let n=(0,a.get)(e);return n===e||`www.${n}`===e}(l))return w({type:"WWW_MODAL_OPEN"});w({type:"DOMAIN_ADD_START"});try{await (0,x.eS)({domain:l,project:N,team:I}),await t(),w({type:"DOMAIN_ADD_SUCCESS"})}catch(e){if(X(e)&&!(e.projectName===N.name||e.projectId===N.id))return w({type:"DOMAIN_IN_USE_MODAL_OPEN",projectIdOrNameInUse:e.projectId??e.projectName});w({type:"DOMAIN_ADD_FAIL",error:e.component||(0,d.VK)(e)})}}},[l,N,I,j,t]),{can:A,isLoading:O}=(0,p.ZP)({projectId:null==N?void 0:N.id}),k=A(p.aU.Update,p._z.Project),$=!O&&!k;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(s.Z,{className:(0,o.iv)({marginBottom:"12"}),halfGap:!0,row:!0,vcenter:!0,children:[(0,r.jsx)(s.Z,{children:(0,r.jsx)("form",{onSubmit:C,children:(0,r.jsx)(m.Z,{disableTriggers:!$,style:{display:"inline"},text:`Additional permissions for ${null==I?void 0:I.name} are required to add Domains to a Project.`,children:(0,r.jsx)(et,{disabled:g||$||O,dispatch:w,value:l})})})}),(0,r.jsx)(s.Z,{flex:"0 1 auto",children:(0,r.jsx)(c.Z,{"data-testid":(0,f.C)("project","settings","domains","add-alias-button"),disabled:!!(!l||j||!N),error:j,inputSize:!0,loading:!!g,onClick:C,width:100,children:"Add"})})]}),j?(0,r.jsx)("div",{className:"info-container",children:"string"==typeof j?(0,r.jsx)(u.Z,{"data-testid":(0,f.C)("domains","alias-domain-input","error"),children:er(j)}):er(j)}):null,(0,r.jsx)(ee,{active:_,dispatch:w,domain:l,revalidateDomains:t}),(0,r.jsx)(V,{active:b,dispatch:w,domain:l,projectIdOrNameInUse:y,revalidateDomains:t})]})}},661950:function(e,n,t){"use strict";var r=t(52954),i=t(843987);let a=async e=>{let{project:n,isReady:t,team:a,projectDomain:o,newRedirect:d,newRedirectStatusCode:s,newGitBranch:l}=e;n&&t&&await (0,r.I)(`${(0,i.z1)("v9")}/${n.id}/domains/${o.name}${a?`?teamId=${a.id}`:""}`,{throwOnHTTPError:!0,method:"PATCH",body:JSON.stringify({redirect:d||null,redirectStatusCode:s||null,gitBranch:d?null:l})})};n.Z=a},397076:function(e,n,t){"use strict";t.d(n,{K:function(){return u}});var r=t(4799),i=t(943220),a=t.n(i),o=t(14517),d=t(680544),s=t.n(d),l=t(263922);let c=e=>{let{normal:n,active:t,hover:i,...a}=e,{className:d,styles:c}=u({normal:n,active:t,hover:i});return(0,r.jsxs)(l.z,{...a,className:(0,o.W)(s().button,d,a.className),"data-custom-button":"",children:[a.children,c]})};function u(e){var n,t,i,o,d,s,l,c,u,m,h,v,x,p,f,j,g,_,b,y,w,N,I,C,A,O,k;return{styles:(0,r.jsx)(a(),{id:"a718162dd468b5dc",dynamic:[(null===(n=e.normal)||void 0===n?void 0:n.foreground)||"",(null===(t=e.normal)||void 0===t?void 0:t.background)||"",(null===(i=e.normal)||void 0===i?void 0:i.border)||"",(null===(o=e.active)||void 0===o?void 0:o.foreground)||"",(null===(d=e.active)||void 0===d?void 0:d.background)||"",(null===(s=e.active)||void 0===s?void 0:s.border)||"",(null===(l=e.hover)||void 0===l?void 0:l.foreground)||"",(null===(c=e.hover)||void 0===c?void 0:c.background)||"",(null===(u=e.hover)||void 0===u?void 0:u.border)||""],children:`[data-custom-button].__jsx-style-dynamic-selector{--button-custom-fg:${(null===(m=e.normal)||void 0===m?void 0:m.foreground)||""};--button-custom-bg:${(null===(h=e.normal)||void 0===h?void 0:h.background)||""};--button-custom-border:${(null===(v=e.normal)||void 0===v?void 0:v.border)||""};--button-custom-fg-active:${(null===(x=e.active)||void 0===x?void 0:x.foreground)||""};--button-custom-bg-active:${(null===(p=e.active)||void 0===p?void 0:p.background)||""};--button-custom-border-active:${(null===(f=e.active)||void 0===f?void 0:f.border)||""};--button-custom-fg-hover:${(null===(j=e.hover)||void 0===j?void 0:j.foreground)||""};--button-custom-bg-hover:${(null===(g=e.hover)||void 0===g?void 0:g.background)||""};--button-custom-border-hover:${(null===(_=e.hover)||void 0===_?void 0:_.border)||""}}`}),className:a().dynamic([["a718162dd468b5dc",[(null===(b=e.normal)||void 0===b?void 0:b.foreground)||"",(null===(y=e.normal)||void 0===y?void 0:y.background)||"",(null===(w=e.normal)||void 0===w?void 0:w.border)||"",(null===(N=e.active)||void 0===N?void 0:N.foreground)||"",(null===(I=e.active)||void 0===I?void 0:I.background)||"",(null===(C=e.active)||void 0===C?void 0:C.border)||"",(null===(A=e.hover)||void 0===A?void 0:A.foreground)||"",(null===(O=e.hover)||void 0===O?void 0:O.background)||"",(null===(k=e.hover)||void 0===k?void 0:k.border)||""]]])}}n.Z=c},793817:function(e,n,t){"use strict";var r=t(4799),i=t(312253),a=t(322053),o=t(583596),d=t(761099),s=t(14517),l=t(686111),c=t(899693),u=t(263922),m=t(397076),h=t(61964),v=t(220395);let x={visible:{opacity:1,scale:1},hidden:{opacity:0,scale:.5}},p=e=>{let{className:n,textToCopy:t,onClick:p,label:f,title:j,type:g="secondary",variant:_,normal:b,hover:y,active:w,shape:N="square",size:I,icon:C,iconSize:A=20,...O}=e,k=(0,h.e1)(),[$,D]=(0,i.useState)(!1),S=(0,i.useRef)(null),M=i.useCallback(e=>{S.current&&clearTimeout(S.current),D(!0),navigator.clipboard.writeText(t).catch(()=>k.error("Failed to copy to clipboard")).finally(()=>null==p?void 0:p(e)),S.current=setTimeout(()=>{D(!1)},1e3)},[t,k,p]),T=(0,r.jsx)(a.A,{transition:{duration:.15},children:(0,r.jsx)(o.M,{initial:!1,mode:"wait",children:$?(0,r.jsx)(d.E.div,{animate:"visible","data-testid":(0,v.C)("copy","success"),exit:"hidden",initial:"hidden",variants:x,children:(0,r.jsx)(l.J,{size:A})},"check"):(0,r.jsx)(d.E.div,{animate:"visible",exit:"hidden",initial:"hidden",variants:x,children:C||(0,r.jsx)(c.C,{size:A})},"copy")})});return b||y||w?(0,r.jsx)(m.Z,{active:w,"aria-label":f,className:(0,s.W)(n),"data-testid":(0,v.C)("copy","button"),hover:y,normal:b,onClick:M,shape:N,size:I,svgOnly:!0,title:j,typeName:"button",...O,children:T}):(0,r.jsxs)(u.z,{"aria-label":f,className:(0,s.W)(n),"data-testid":(0,v.C)("copy","button"),onClick:M,shape:N,size:I,svgOnly:!0,title:j,type:g,typeName:"button",variant:_,...O,children:[$?(0,r.jsx)("div",{"aria-live":"assertive",className:"geist-sr-only",role:"status",children:"Copied!"}):null,T]})};n.Z=p},480592:function(e,n,t){"use strict";t.d(n,{Ee:function(){return m},Rk:function(){return h},xL:function(){return v}});var r=t(4799),i=t(312253),a=t(14517),o=t(380297),d=t(575092),s=t(273191),l=t.n(s);let c=(0,i.createContext)({name:"",selectedValue:"",disabled:!1,required:!1,setSelected:e=>{}}),u=()=>(0,i.useContext)(c),m=e=>{let{label:n,name:t,value:i,required:a,disabled:s,onChange:l,children:u}=e,m=(0,d.B)(),h=(0,o.M)("radio-"),v=(0,o.M)("radio-name-");return t??=v,(0,r.jsxs)("div",{"aria-labelledby":n?h:void 0,"data-geist-radio-group":"","data-version":"v1",role:"radiogroup",children:[n?(0,r.jsx)("span",{className:"geist-sr-only",id:h,children:n}):null,(0,r.jsx)(c.Provider,{value:{name:t,selectedValue:i,setSelected:l,required:a,disabled:s||m},children:u})]})},h=(0,i.forwardRef)((e,n)=>{let{label:t=!0,value:o,disabled:d,children:s,className:c}=e,{selectedValue:m,setSelected:h,...v}=u(),x=(0,i.useCallback)(()=>null==h?void 0:h(o),[o,h]);return(0,r.jsxs)(t?"label":"span",{className:(0,a.W)(c,l().item,{[l().disabled]:v.disabled||d}),"data-geist-radio-item":"",children:[(0,r.jsxs)("span",{className:l().check,children:[s?(0,r.jsx)(r.Fragment,{children:"​"}):null,(0,r.jsx)("input",{type:"radio",...v,checked:o===m,className:(0,a.W)(l().input,"geist-sr-only"),disabled:v.disabled||d,onChange:x,ref:n,value:o}),(0,r.jsx)("span",{"aria-hidden":!0,className:l().icon})]}),s?(0,r.jsx)("span",{className:l().text,children:s}):null]})});h.displayName="RadioItem";let v=e=>{let{value:n,disabled:t}=e,{selectedValue:i,...a}=u();return{component:(0,r.jsx)(h,{disabled:t,label:!1,value:n}),checked:n===i,...a}}},881808:function(e,n,t){"use strict";var r=t(4799),i=t(312253),a=t(14517),o=t(561593),d=t(793817),s=t(636733),l=t.n(s);let c=(0,i.memo)(e=>{let{text:n,copyText:t,onCopy:s,width:c,compact:u=!1,prompt:m=!0,icon:h=!0,dark:v,type:x,fill:p,className:f,variant:j,placeholder:g,..._}=e,b=(0,o.o)(x,p,j),y=(0,i.useMemo)(()=>t||(Array.isArray(n)?n.join("\n"):"string"==typeof n?n:""),[n,t]);return(0,r.jsxs)("div",{className:(0,a.W)(l().snippet,{[l().prompt]:m,[l().dark]:v,[l().isUsingPlaceholder]:!!(!n&&g)},f,b),..._,"data-geist-snippet":"","data-version":"v1",style:{width:c,height:u?"36px":"auto",..._.style},children:[Array.isArray(n)?n.map((e,t)=>(0,r.jsx)("pre",{className:"geist-overflow-scroll-y",children:e},`snippet-${n}-${e}-${t}`)):(0,r.jsx)("pre",{className:"geist-overflow-scroll-y",style:u?{height:"36px",lineHeight:1}:void 0,children:n||g}),h?(0,r.jsx)(d.Z,{className:l().copyIcon,label:"Copy to clipboard",onClick:()=>{null==s||s()},textToCopy:y}):null]})});n.Z=c},778854:function(e,n,t){"use strict";t.d(n,{eS:function(){return _},yG:function(){return b}});var r=t(4799),i=t(379780),a=t(906076),o=t(13452),d=t(5500),s=t(220395),l=t(325653),c=t(838262),u=t(234048),m=t(694620),h=t(52954),v=t(843987),x=t(841312),p=t.n(x);let f=["duplicate-team-registration","duplicate-user-registration","owned-on-personal-account","owned-on-other-team","not-this-user"];function j(e){let{domain:n,message:t}=e;return(0,r.jsx)(a.K,{gap:2,children:(0,r.jsxs)(o.Z,{"data-testid":(0,s.C)("domains","alias-domain-input","error"),children:["This domain ",(0,r.jsx)("strong",{children:n})," is already owned by another"," ",d.c5," account.",(0,r.jsx)("div",{children:t})]})})}function g(e){let{children:n,projectName:t}=e,{user:i}=(0,u.a)();return i?(0,r.jsx)(c.r,{href:`/${i.username}/${t}/settings/domains`,children:n}):(0,r.jsx)(r.Fragment,{children:n})}async function _(e){let n,{domain:t,project:a,team:o,redirect:s,redirectStatusCode:u,gitBranch:x}=e;try{n=await function(e){let{domain:n,project:t,teamId:r,redirect:i,redirectStatusCode:a,gitBranch:o}=e;return(0,h.I)(`${(0,v.z1)("v10")}/${t.id}/domains${(0,m.c)({teamId:r})}`,{throwOnHTTPError:!0,method:"POST",body:JSON.stringify({name:n,redirect:i,redirectStatusCode:a,gitBranch:o})})}({domain:t,project:a,teamId:(null==o?void 0:o.id)||null,redirect:s,redirectStatusCode:u,gitBranch:x})}catch(e){if("code"in e&&f.some(n=>n===e.code)){let{code:n,teamName:a,projectName:o}=e;e.component=function(e){let{domain:n,code:t,projectName:a,teamName:o}=e,d=(0,r.jsx)(j,{domain:n,message:(0,r.jsxs)(r.Fragment,{children:["Learn more about"," ",(0,r.jsxs)(c.r,{href:"/docs/concepts/projects/custom-domains",children:[(0,r.jsx)("u",{children:"domain ownership."}),(0,r.jsx)(i.d,{align:"top",className:p().linkIcon,size:14})]})]})});if(!a)return d;switch(t){case"duplicate-team-registration":return(0,r.jsx)(j,{domain:n,message:(0,r.jsx)(r.Fragment,{children:"This team has already registered this domain."})});case"duplicate-user-registration":return(0,r.jsx)(j,{domain:n,message:(0,r.jsx)(r.Fragment,{children:"You have already registered this domain."})});case"owned-on-personal-account":return(0,r.jsx)(j,{domain:n,message:(0,r.jsxs)(r.Fragment,{children:["You're using this domain on your personal account—",(0,r.jsx)(g,{projectName:a,children:(0,r.jsx)("u",{children:"remove it and try again."})})]})});case"owned-on-other-team":if(!o)return d;return(0,r.jsx)(j,{domain:n,message:(0,r.jsxs)(r.Fragment,{children:["You're using this domain on another team—",(0,r.jsx)(c.r,{href:`/${o}/${a}/settings/domains`,children:(0,r.jsx)("u",{children:"remove it and try again."})})]})});case"not-this-user":return d;default:return(0,r.jsxs)(r.Fragment,{children:["The domain ",(0,r.jsx)("b",{children:n})," is not available."]})}}({domain:t,code:n,teamName:a,projectName:o})}throw(0,l.C)(e)&&"forbidden"===e.code&&e.domain&&(e.component=(0,r.jsxs)(r.Fragment,{children:["The domain ",(0,r.jsx)("b",{children:e.domain})," is already owned by another ",d.c5," ","account."]})),e}try{!1===n.verified&&(n=await function(e){let{projectId:n,domain:t,teamId:r}=e;return(0,h.I)(`${(0,v.z1)("v9")}/${n}/domains/${t}/verify${(0,m.c)({teamId:r})}`,{throwOnHTTPError:!0,method:"POST"})}({projectId:n.projectId,domain:n.name,teamId:(null==o?void 0:o.id)||null}))}catch{}return n}async function b(e,n,t){await (0,h.I)(`${(0,v.z1)("v9")}/${e}/domains/${t}${(0,m.c)({teamId:n})}`,{method:"DELETE",throwOnHTTPError:!0})}},821795:function(e,n,t){"use strict";function r(e){return e.startsWith("*.")}t.d(n,{Z:function(){return r}})},365387:function(e,n,t){"use strict";t.d(n,{Rt:function(){return d},VT:function(){return i},Vk:function(){return a},Y3:function(){return s},vc:function(){return o}});var r=t(804369);function i(e){return!e||!e.boughtAt}function a(e){return!!e&&(void 0===e.renew||!!e.renew)}function o(e){return!!e&&!!e.expiresAt&&e.expiresAt<Date.now()}function d(e){let n=e.startsWith("*.")?(0,r.parse)(e.slice(2)):(0,r.parse)(e);return n.error?e:n.domain||e}function s(e){return d(e)===e}},325653:function(e,n,t){"use strict";t.d(n,{C:function(){return i}});var r=t(939373);let i=e=>(0,r.x)(e)&&"code"in e},734610:function(e,n,t){"use strict";t.d(n,{Z:function(){return o},c:function(){return i}});var r=t(821795);function i(e){return[...e||[]].filter(a).sort((e,n)=>o(e.name,n.name))}function a(e){return!e.redirect}function o(e,n){if(e.endsWith(".now.sh")&&!n.endsWith(".now.sh"))return 1;if(!e.endsWith(".now.sh")&&n.endsWith(".now.sh"))return -1;if((0,r.Z)(e)&&!(0,r.Z)(n))return 1;if(!(0,r.Z)(e)&&(0,r.Z)(n))return -1;if(e.endsWith(".vercel.app")&&!n.endsWith(".vercel.app"))return 1;if(!e.endsWith(".vercel.app")&&n.endsWith(".vercel.app"))return -1;let t=e.length-n.length;return 0!==t?t:e.localeCompare(n)}},314194:function(e,n,t){"use strict";t.d(n,{KR:function(){return c},VW:function(){return h},d:function(){return u},ic:function(){return l},mk:function(){return v},zR:function(){return m}});var r=t(560630),i=t(628497),a=t(234048),o=t(586430),d=t(457970),s=t(92371);let l=()=>{let e=(0,r.useRouter)(),{project:n}=e.query;return n},c=e=>{let{isReady:n,team:t}=(0,i.t7)(),{user:r}=(0,a.a)();if(!e)return null;if(n){if(t)return`/${t.slug}/${e.name}`;if(r)return`/${r.username}/${e.name}`}return null},u=(e,n)=>{var t,r;return(0,o.ZP)(null==e?void 0:null===(t=e.targets)||void 0===t?void 0:null===(r=t.production)||void 0===r?void 0:r.id,n)},m=e=>{let{data:n}=(0,s.B8)(e,{limit:1});return n?0===n.length:void 0},h=e=>{var n;return null==e?void 0:null===(n=e.targets)||void 0===n?void 0:n.production},v=e=>{let{data:n}=(0,d.G)();return e&&(null==n?void 0:n.find(n=>n.slug===(e.framework||null)))||null}},450969:function(e,n,t){"use strict";var r=t(363593),i=t(694620),a=t(628497);let o=(e,n)=>{let{isReady:t,team:o}=(0,a.t7)();return(0,r.Z)(e&&t?[e.id,"favicon"]:null,async e=>{let[n]=e,t=await fetch(`/api/favicon${(0,i.c)({deploymentId:n,teamId:null==o?void 0:o.id})}`);if(!t.ok)return;if(204===t.status)return null;let r=await t.blob(),a=URL.createObjectURL(r);try{return{src:a,isSquare:await d(a)}}catch{return null}},{...n})},d=async e=>new Promise((n,t)=>{let r=document.createElement("canvas"),i=new Image;i.onload=()=>{let{width:e,height:t}=i;r.width=e,r.height=t;let a=r.getContext("2d");null==a||a.drawImage(i,0,0,e,t);let o=(e,n)=>{var t;return((null===(t=null==a?void 0:a.getImageData(e,n,1,1))||void 0===t?void 0:t.data[3])??0)<255};for(let r=0;r<e;r++)if(o(r,0)||o(r,t-1))return n(!1);for(let r=0;r<t;r++)if(o(0,r)||o(e-1,r))return n(!1);n(!0)},i.onerror=()=>{t()},i.src=e});n.Z=o},457970:function(e,n,t){"use strict";t.d(n,{G:function(){return o}});var r=t(363593),i=t(52954),a=t(843987);function o(){return(0,r.Z)(a.Aw,e=>(0,i.I)(e,{throwOnHTTPError:!0}))}},92371:function(e,n,t){"use strict";t.d(n,{B8:function(){return m},C8:function(){return v},Oe:function(){return h},g4:function(){return u}});var r=t(312253),i=t(581945),a=t(388361),o=t(52954),d=t(694620),s=t(843987),l=t(734610),c=t(628497);function u(e,n){let{isReady:t,team:r}=(0,c.t7)();return(0,i.ZP)(e&&t?`${(0,s.z1)("v9")}/${e.projectId}/domains/${e.name}${(0,d.c)({teamId:null==r?void 0:r.id})}`:null,e=>(0,o.I)(e,{throwOnHTTPError:!0}),n)}function m(e){let{limit:n=10,gitBranch:t,production:r,redirect:a,redirects:l,verified:u,order:m}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:h,team:v}=(0,c.t7)();return(0,i.ZP)(e&&h?`${(0,s.z1)("v9")}/${e}/domains${(0,d.c)({limit:n,gitBranch:t,production:r,redirects:l,redirect:a,verified:u,order:m,teamId:null==v?void 0:v.id})}`:null,async e=>{let n=await (0,o.I)(e,{throwOnHTTPError:!0});return n.domains})}function h(e){var n;let{limit:t=20,gitBranch:i,production:l,redirect:u,redirects:m}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=arguments.length>2?arguments[2]:void 0,{isReady:v,team:x}=(0,c.t7)(),p=(0,a.ZP)((n,r)=>{var a;if(!e||!v)return null;let o=`${(0,s.z1)("v9")}/${e}/domains`;if(!n)return`${o}${(0,d.c)({limit:t+1,gitBranch:i,production:l,redirect:u,redirects:m,teamId:null==x?void 0:x.id})}`;let c=((null==r?void 0:null===(a=r.domains)||void 0===a?void 0:a.length)||0)>t?null==r?void 0:r.domains[t-1].createdAt:null;return c?`${o}${(0,d.c)({limit:t+1,gitBranch:i,production:l,redirects:m,teamId:null==x?void 0:x.id,until:c})}`:null},async e=>(0,o.I)(e,{throwOnHTTPError:!0}),h),f=(0,r.useMemo)(()=>p.data?[].concat(...p.data.map(e=>e.domains.slice(0,t))):[],[p.data,t]),j=!!p.data,g=j&&0===f.length,_=()=>p.setSize(e=>e+1),b=p.data&&p.size>p.data.length,y=p.data&&(null===(n=p.data[p.data.length-1])||void 0===n?void 0:n.domains.length)<=t;return[p,{domains:f,initialDataLoaded:j,isEmpty:g,loadMore:_,isLoadingMore:b,isReachingEnd:y}]}function v(e){let{data:n,...t}=m(e,{limit:10,production:"true",redirects:"false",verified:"true",order:"ASC"}),[r=null]=(0,l.c)(n),i=!!(t.error||n);return{domain:r,loaded:i,...t}}},899693:function(e,n,t){"use strict";t.d(n,{C:function(){return i}});var r=t(872820);let i=(0,r.H1)('<path d="M6 17C4.89543 17 4 16.1046 4 15V5C4 3.89543 4.89543 3 6 3H13C13.7403 3 14.3866 3.4022 14.7324 4M11 21H18C19.1046 21 20 20.1046 20 19V9C20 7.89543 19.1046 7 18 7H11C9.89543 7 9 7.89543 9 9V19C9 20.1046 9.89543 21 11 21Z"/>')},591449:function(e){e.exports={item:"details-table_item__Lb3u8",subitem:"details-table_subitem__SksRh",summary:"details-table_summary__cR_dP",childless:"details-table_childless__5uNeU",content:"details-table_content__4rz1N"}},861599:function(e){e.exports={content:"add-domain-in-use-modal_content__5_ryc",inset:"add-domain-in-use-modal_inset__22e4D",subitem:"add-domain-in-use-modal_subitem__saXOh",outset:"add-domain-in-use-modal_outset__TxaJi",loadingItem:"add-domain-in-use-modal_loadingItem__MQxUa",favicon:"add-domain-in-use-modal_favicon__HLE5w",noteCenterText:"add-domain-in-use-modal_noteCenterText__CNKhL"}},43751:function(e){e.exports={label:"www-modal_label__wx_P_"}},680544:function(e){e.exports={button:"custom_button__BHGq6"}},273191:function(e){e.exports={item:"radio_item__yFcZ1",check:"radio_check__uN0Im",icon:"radio_icon__5kxj0",text:"radio_text__kGaGM",disabled:"radio_disabled__b1G1v",input:"radio_input__4aj_W"}},636733:function(e){e.exports={snippet:"snippet_snippet__BPlgb",isUsingPlaceholder:"snippet_isUsingPlaceholder__RUb_E",dark:"snippet_dark__9Azck",copyIcon:"snippet_copyIcon__YooCW",copy:"snippet_copy__VqjfV",prompt:"snippet_prompt__FWQhJ"}},841312:function(e){e.exports={linkIcon:"alias-target_linkIcon___reht"}},999250:function(e){e.exports={frameworkIcon:"framework-icon_frameworkIcon__vdwOe"}}}]);