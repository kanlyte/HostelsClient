(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[96132],{129255:function(e,n,t){"use strict";t.r(n),t.d(n,{WarningContext:function(){return s},useWarning:function(){return d}});var r=t(4799),i=t(943220),o=t.n(i),a=t(312253);let s=a.createContext(),d=()=>a.useContext(s),l=e=>{let{children:n}=e;return(0,r.jsxs)("div",{className:"jsx-c36fed1200ba18cb",children:[(0,r.jsx)("b",{className:"jsx-c36fed1200ba18cb",children:"!"}),(0,r.jsx)("p",{className:"jsx-c36fed1200ba18cb",children:n}),(0,r.jsx)(o(),{id:"c36fed1200ba18cb",children:"div.jsx-c36fed1200ba18cb{background:var(--geist-highlight-pink);color:#fff;padding:10px 15px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;font-weight:600;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex\n            align-items: center;cursor:default;width:100%;font-size:14px}p.jsx-c36fed1200ba18cb{margin:0px;line-height:23px}b.jsx-c36fed1200ba18cb{display:block;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;height:20px;width:20px;border:2px solid#fff;margin-right:15px;line-height:16px;text-align:center;margin-top:2px}"})]})};n.default=a.memo(l)},662379:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(4799),i=t(943220),o=t.n(i),a=t(312253),s=t(167160),d=t(560630),l=t(992321),c=t(58700),u=t(200494),m=t(625809),f=t(778854),h=t(681021),p=t(238790),g=t(258998),x=t(838262),b=t(358089),v=t(791699),j=t(61964),D=t(52954),y=t(694620),w=t(843987),E=t(220395),_=t(815505);function S(e){let{search:n,handleSearch:t=()=>{},items:i,loadingMore:a,loadingSearch:s,displayLoadMore:d,handleLoadMore:l,footer:c,notfound:m}=e;return(0,r.jsxs)("div",{className:"jsx-d941df99463aadbb container",children:[void 0!==n&&(0,r.jsx)("div",{style:{borderBottom:"1px solid var(--accents-2)"},className:"jsx-d941df99463aadbb",children:(0,r.jsx)(v.Z,{autoFocus:!0,border:!1,iconRight:s?(0,r.jsx)(u.$,{}):null,onChange:t,placeholder:"Search for projects...",style:{borderTopLeftRadius:"calc(var(--geist-radius) - 1px)",borderTopRightRadius:"calc(var(--geist-radius) - 1px)"},value:n,width:"100%"})}),(0,r.jsxs)("div",{className:"jsx-d941df99463aadbb list geist-overflow-scroll-y",children:[i&&0===i.length?(0,r.jsx)("div",{className:"jsx-d941df99463aadbb raw-item",children:m}):null,i?i.map(e=>(0,r.jsxs)("div",{onClick:e.onClick,className:"jsx-d941df99463aadbb item",children:[e.icon?(0,r.jsx)("div",{className:"jsx-d941df99463aadbb item-icon",children:e.icon}):null,(0,r.jsx)(g.ZP,{Component:"div",className:"item-name geist-ellipsis",noMargin:!0,small:!0,children:e.name}),e.button?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"jsx-d941df99463aadbb item-button",children:e.button})}):null]},e.id)):null,d?(0,r.jsx)("div",{className:"jsx-d941df99463aadbb raw-item",children:(0,r.jsx)(p.Z,{disabled:a,loading:a,onClick:l,small:!0,type:"secondary",children:"Load More"})}):null]}),c?(0,r.jsx)("div",{className:"jsx-d941df99463aadbb footer",children:c}):null,(0,r.jsx)(o(),{id:"d941df99463aadbb",children:".container.jsx-d941df99463aadbb{border:1px solid var(--accents-2);-webkit-border-radius:var(--geist-radius);-moz-border-radius:var(--geist-radius);border-radius:var(--geist-radius);overflow:hidden}.list.jsx-d941df99463aadbb{height:184px}.item.jsx-d941df99463aadbb{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;overflow:hidden;width:100%;padding:var(--geist-gap-half);padding-right:var(--geist-gap);-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-bottom:1px solid var(--accents-2);-webkit-transition:background-color.2s ease;-moz-transition:background-color.2s ease;-o-transition:background-color.2s ease;transition:background-color.2s ease;background:var(--geist-background)}.item.jsx-d941df99463aadbb:hover{background-color:var(--accents-1)}.item.jsx-d941df99463aadbb:last-child{border-bottom:none}.item-icon.jsx-d941df99463aadbb{margin-bottom:-5px;margin-right:var(--geist-gap-half)}.item.jsx-d941df99463aadbb .item-name{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.item-button.jsx-d941df99463aadbb{margin-left:var(--geist-gap-half)}.raw-item.jsx-d941df99463aadbb{padding:var(--geist-gap-half);text-align:center}.footer.jsx-d941df99463aadbb{padding:var(--geist-gap-half);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--accents-1);border-top:1px solid var(--accents-2)}"})]})}let T=e=>{let{from:n,search:t,team:r}=e;return(0,D.Z)(`${w.VE}/${(0,y.c)({from:n,limit:20,teamId:r?r.id:null,search:t||void 0,latestDeployments:1})}`,{throwOnHTTPError:!0})},C=e=>{let{name:n,team:t}=e;return(0,D.Z)(`${w.VE}/${(0,y.c)({teamId:t?t.id:null})}`,{method:"POST",body:JSON.stringify({name:n}),throwOnHTTPError:!0})},N=e=>{let{name:n,team:t}=e;return(0,D.Z)(`${w.VE}/${encodeURIComponent(n)}${(0,y.c)({teamId:t?t.id:null})}`,{method:"DELETE",throwOnHTTPError:!0})},O=()=>({view:"selectProject",loading:!1,projectName:null,shouldCreateProject:!1,domainValue:"",domainError:null,search:"",loadingSearch:!1,loadingMore:!1,projects:null,displayLoadMore:!1,selected:{},fetchFrom:null}),k=(e,n)=>{let t=e.fetchFrom?[...e.projects,...n]:n,r=t.find(n=>n.name===e.selected.name)||{};return{...e,projects:t,selected:r,loadingMore:!1,loadingSearch:!1,displayLoadMore:n.length>=20}},P=(e,n)=>{switch(n.type){case"INIT":return O();case"SAVE_START":return{...e,loading:!0};case"SAVE_FAILURE":return{...e,loading:!1};case"SAVE_SUCCESS":return{...e};case"GOTO_ENTER_DOMAIN_VIEW":return{...e,view:"enterDomain"};case"DOMAIN_SET_VALUE":return{...e,domainValue:n.value,domainError:null};case"DOMAIN_SET_ERROR":return{...e,domainError:n.value};case"GOTO_SELECT_PROJECT_VIEW":return{...e,view:"selectProject",projectName:null,selected:{},shouldCreateProject:!1};case"PROJECT_FETCH_START":return{...e,[`loading${e.fetchFrom?"More":"Search"}`]:!0};case"PROJECT_FETCH_FAILURE":return{...e,loadingMore:!1,loadingSearch:!1};case"PROJECT_FETCH_SUCCESS":return k(e,n.projects);case"LOAD_MORE":return{...e,fetchFrom:e.projects[e.projects.length-1].updatedAt-1};case"SEARCH":return{...e,fetchFrom:null,search:n.search};case"SELECT":return{...e,selected:n.selected,projectName:n.selected.name};case"GOTO_CREATE_PROJECT_VIEW":return{...e,view:"createProject",selected:{},projectName:n.prefillValue||"",shouldCreateProject:!0};case"UPDATE_NEW_PROJECT_NAME":return{...e,projectName:n.value};default:throw Error("Unknown action")}};var Z=function(e){let n,{active:t,onCancel:i,team:o,user:u,prefillDomainValue:D,revalidate:y}=e,[{view:w,selected:k,search:Z,fetchFrom:R,displayLoadMore:I,projects:M,loading:$,loadingMore:A,loadingSearch:F,projectName:V,domainValue:W,domainError:L,shouldCreateProject:H},U]=(0,a.useReducer)(P,null,O),z=(0,a.useRef)(!1);(0,a.useEffect)(()=>{z.current=t},[t]),(0,a.useEffect)(()=>{t&&U({type:"DOMAIN_SET_VALUE",value:D||""})},[D,t]);let J=(0,j.e1)(),Q=(0,d.useRouter)(),B=(0,s.c)(Z,300);(0,a.useEffect)(()=>{if(!t){setTimeout(()=>U({type:"INIT"}),200);return}U({type:"PROJECT_FETCH_START"}),T({search:B,team:o,from:R}).then(e=>{U({type:"PROJECT_FETCH_SUCCESS",projects:e})}).catch(e=>{J.error(e.message),U({type:"PROJECT_FETCH_FAILURE"})})},[t,o,u,R,B,J]);let G=(0,a.useMemo)(()=>{if(!M)return null;let e=M.map(e=>({...e,icon:(0,r.jsx)(l.g,{}),button:k.id!==e.id?(0,r.jsx)(p.Z,{small:!0,children:"Select"}):(0,r.jsx)(p.Z,{disabled:!0,small:!0,children:"Selected"}),onClick:()=>U({type:"SELECT",selected:e})}));return e},[M,k]),K=(0,_.CL)(),q=(0,a.useCallback)(async()=>{let e;U({type:"SAVE_START"});try{H&&(e=await C({name:V,team:o}));try{await (0,f.eS)({domain:W,project:e||k,team:o})}catch(e){throw e.__from="addProductionDomain",e}U({type:"SAVE_SUCCESS"}),K("domain"),z.current?Q.push("/[teamSlug]/[project]/settings/domains",`/${o?o.slug:u.username}/${encodeURIComponent(V)}/settings/domains`):y()}catch(n){"addProductionDomain"===n.__from?U({type:"DOMAIN_SET_ERROR",value:n.component||n.message||"Adding the domain failed."}):J.error(n.component||n.message||"Error while adding domain"),e&&N({name:V,team:o}).catch(()=>{}),U({type:"SAVE_FAILURE"})}},[V,k,o,u,W,Q,H,J,y,K]);return"createProject"===w?n=(0,r.jsxs)("main",{children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),V&&U({type:"GOTO_ENTER_DOMAIN_VIEW"})},children:[(0,r.jsx)(g.ZP,{Component:"p",small:!0,children:"Enter the name of the new project:"}),(0,r.jsx)(v.Z,{autoFocus:!0,disabled:$,onChange:e=>U({type:"UPDATE_NEW_PROJECT_NAME",value:e}),placeholder:"my-new-project",value:V,width:"100%"})]}),(0,r.jsx)(h.Z,{}),(0,r.jsx)(x.r,{onClick:()=>U({type:"GOTO_SELECT_PROJECT_VIEW"}),variant:"highlight",children:"← Select an existing project"})]}):"selectProject"===w?n=(0,r.jsxs)("main",{children:[(0,r.jsx)(g.ZP,{Component:"p",small:!0,children:"Select a project to add your domain to:"}),(0,r.jsx)(S,{displayLoadMore:I,footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.G,{size:20}),(0,r.jsx)(h.Z,{inline:!0,x:.5}),(0,r.jsxs)(g.ZP,{noMargin:!0,small:!0,children:["You can also"," ",(0,r.jsx)(x.r,{onClick:()=>U({type:"GOTO_CREATE_PROJECT_VIEW"}),variant:"highlight",children:"create a new project →"})]})]}),handleLoadMore:()=>U({type:"LOAD_MORE"}),handleSearch:e=>U({type:"SEARCH",search:e}),items:G,loadingMore:A,loadingSearch:F,notfound:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{y:2.5}),"Project not found.",(0,r.jsx)("br",{}),(0,r.jsx)(x.r,{onClick:()=>U({type:"GOTO_CREATE_PROJECT_VIEW",prefillValue:B}),variant:"highlight",children:"Create a new one?"})]}),search:Z})]}):"enterDomain"===w&&(n=(0,r.jsxs)("main",{children:[(0,r.jsxs)(g.ZP,{Component:"p",small:!0,children:[(0,r.jsx)("b",{children:"Project:"})," ",V," (",(0,r.jsx)(x.r,{onClick:()=>U({type:"GOTO_SELECT_PROJECT_VIEW"}),variant:"highlight",children:"Edit"}),")"]}),(0,r.jsx)(g.ZP,{Component:"p",small:!0,children:"Enter the domain that you would like to add:"}),(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),q()},children:(0,r.jsx)(m.E,{dispatch:U,value:W})}),(0,r.jsx)(h.Z,{y:.5}),L||null]})),(0,r.jsxs)(b.Modal,{active:t,"data-testid":(0,E.C)("modal","domains","add"),onClickOutside:i,children:[(0,r.jsxs)(b.Body,{children:[(0,r.jsx)(g.ZP,{Component:"h2",center:!0,h3:!0,noMargin:!0,children:"Add Domain"}),(0,r.jsx)(h.Z,{y:1}),n]}),(0,r.jsxs)(b.Actions,{children:[(0,r.jsx)(b.Action,{disabled:$,loading:!1,onClick:i,type:"secondary",children:"Cancel"}),"selectProject"===w||"createProject"===w?(0,r.jsx)(b.Action,{disabled:!V,loading:!1,onClick:()=>U({type:"GOTO_ENTER_DOMAIN_VIEW"}),children:"Continue"}):(0,r.jsx)(b.Action,{disabled:!V||!W||L,loading:$,onClick:q,children:"Add"})]})]})}},256432:function(e,n,t){"use strict";t.d(n,{Eg:function(){return j},GU:function(){return s},JS:function(){return b},K3:function(){return y},MY:function(){return u},Q0:function(){return l},QF:function(){return f},S:function(){return x},Vs:function(){return v},c9:function(){return a},dj:function(){return d},e:function(){return m},gM:function(){return h},m2:function(){return p},nK:function(){return D},uy:function(){return g},yP:function(){return c}});var r=t(52954),i=t(843987),o=t(365387);async function a(e){let{domain:n,team:t}=e;return(0,r.Z)(`${i.dQ}/${encodeURIComponent(n)}/auth-code${E({teamId:t?t.id:null})}`,{method:"GET",throwOnHTTPError:!0})}async function s(e){let{domain:n,cdnEnabled:t,team:o}=e,a=`${i.dQ}/${encodeURIComponent(n)}${w(o)}`;return(0,r.Z)(a,{body:JSON.stringify({op:"setCdn",value:t}),throwOnHTTPError:!0,method:"PATCH"})}async function d(e){let{domain:n,team:t}=e,{name:o}=n,a=`${i.dQ}/${encodeURIComponent(o)}${w(t)}`;try{await (0,r.Z)(a,{throwOnHTTPError:!0,method:"DELETE"})}catch(e){if("domain_removal_conflict"===e.code){let{suffix:n,transferring:t,pendingAsyncPurchase:r}=e;if(n)throw Error(e.message);if(t)throw Error(`Cannot delete ${o}. Transfer in progress.`);if(r)throw Error(`Cannot delete ${o}. Processing purchase.`);throw e}}}async function l(e){let{domain:n,team:t}=e,{name:o}=n,a=`${i.dQ}/${encodeURIComponent(o)}/verify${w(t)}`;return(0,r.Z)(a,{body:JSON.stringify({}),method:"POST"})}async function c(e){let{name:n,authCode:t,expectedPrice:o,team:a}=e,s=`${i.dQ}${w(a)}`;return(0,r.Z)(s,{method:"POST",body:JSON.stringify({method:"transfer-in",name:n,authCode:t,expectedPrice:o}),throwOnHTTPError:!0})}async function u(e){let{name:n,type:t,team:o}=e,a=E({teamId:o?o.id:null,name:n,type:t});return(0,r.Z)(`${i.su}${a}`,{throwOnHTTPError:!0})}async function m(e){let{name:n}=e;return(0,r.Z)(`${i.dQ}/${n}/registry`,{throwOnHTTPError:!0})}async function f(e){let{name:n,team:t,zoneFile:o}=e,a=`${i.dQ}/${n}/records${w(t)}`;return(0,r.Z)(a,{headers:{"Content-Type":"text/dns"},method:"PUT",body:o,throwOnHTTPError:!0})}async function h(e){let{name:n,moveToken:t,team:o}=e,a=`${i.dQ}${w(o)}`;return(0,r.Z)(a,{method:"POST",body:JSON.stringify({method:"move-in",name:n,token:t}),throwOnHTTPError:!0})}async function p(e){let{name:n,destination:t,team:o}=e,a=`${i.dQ}/${encodeURIComponent(n)}${w(o)}`;try{return await (0,r.Z)(a,{throwOnHTTPError:!0,method:"PATCH",body:JSON.stringify({op:"move-out",destination:t})})}catch(e){if("domain_move_conflict"===e.code){let{suffix:t,pendingAsyncPurchase:r}=e;if(t)throw Error(e.message);if(r)throw Error(`Cannot move ${n}. Processing purchase.`)}throw e}}async function g(e){let{domain:n,name:t,type:o,value:a,priority:s,weight:d,port:l,target:c,team:u,ttl:m}=e,f=`${i.Vw}/${n}/records${w(u)}`,h={name:t,type:o,value:a,ttl:Number.isNaN(Number(m))?m:Number(m)};return"MX"===o&&s&&(h.mxPriority=Number(s)),"SRV"===o&&(h.srv={target:c,weight:d?Number(d):null,port:l?Number(l):null,priority:s?Number(s):null}),(0,r.Z)(f,{method:"POST",body:JSON.stringify(h),throwOnHTTPError:!1,returnHeaders:!0})}async function x(e){let{domain:n,records:t,team:o}=e,a=`${i.Vw}/${n}/records/batch${w(o)}`;return(0,r.Z)(a,{method:"POST",body:JSON.stringify({records:t}),throwOnHTTPError:!0})}async function b(e){let{id:n,domain:t,team:o}=e;return(0,r.Z)(`${i.Vw}/${t}/records/${n}${w(o)}`,{throwOnHTTPError:!0,method:"DELETE"})}async function v(e){let{id:n,payload:t,team:o}=e;return(0,r.Z)(`${i.Vw}/records/${n}${w(o)}`,{body:JSON.stringify(t),throwOnHTTPError:!1,method:"PATCH"})}async function j(e){let{domain:n,team:t}=e,a=(0,o.Vk)(n),{name:s}=n,d=`${i.dQ}/${encodeURIComponent(s)}${w(t)}`;return(0,r.Z)(d,{method:"PATCH",body:JSON.stringify({renew:!a}),throwOnHTTPError:!0})}async function D(e){let{domain:n,team:t,zone:o}=e,{name:a}=n,s=`${i.dQ}/${encodeURIComponent(a)}${w(t)}`;return(0,r.Z)(s,{method:"PATCH",body:JSON.stringify({zone:o}),throwOnHTTPError:!0})}async function y(e){let{domain:n,payload:t,team:o}=e;return(0,r.Z)(`${i.dQ}/${encodeURIComponent(n)}${w(o)}`,{method:"PATCH",body:JSON.stringify(t),throwOnHTTPError:!0})}function w(e){return e?`?teamId=${encodeURIComponent(e.id)}`:""}function E(e){let n=Object.keys(e).filter(n=>!!e[n]).map(n=>`${n}=${encodeURIComponent(e[n])}`).join("&");return n?`?${n}`:""}},491658:function(e,n,t){"use strict";t.d(n,{v:function(){return b}});var r=t(4799),i=t(943220),o=t.n(i);t(312253);var a=t(200494),s=t(358089),d=t(166976),l=t(633898),c=t(300425),u=t(756842),m=t(681021),f=t(313768),h=t(995861),p=t(408255),g=t(44090),x=t.n(g);function b(e){let{active:n,status:t,domains:i,deletedDomains:a,onCancel:c,onConfirm:g,team:b}=e,[D,{aliases:y,loadMore:w,isLoadingMore:E,isReachingEnd:_,initialDataLoaded:S}]=(0,f.k)({domains:i.map(e=>e.name),limit:20});return(0,r.jsxs)(s.Modal,{active:n,onClickOutside:c,children:[(0,r.jsxs)(s.Body,{children:[(0,r.jsxs)("header",{className:"jsx-aedf4df6a7382869",children:[(0,r.jsx)(p.H2,{children:"Delete Domains"}),(0,r.jsxs)(h.P,{children:["The following domains will be permanently deleted along with related"," ",(0,r.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"aliases"}),"."]}),(0,r.jsxs)(h.P,{children:["If you would like to use a domain on another project, consider"," ",(0,r.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"moving"})," it instead."]})]}),(0,r.jsx)(m.L,{y:.5}),(0,r.jsxs)(s.Outset,{children:[(0,r.jsx)(v,{count:i.length,open:!0,title:(0,r.jsxs)("span",{className:"jsx-aedf4df6a7382869",children:[i.length," ",1===i.length?"Domain":"Domains"," ","will be deleted."]}),children:(0,r.jsx)("div",{className:"jsx-aedf4df6a7382869",children:i.map(e=>(0,r.jsxs)(j,{children:[(0,r.jsx)("span",{style:{flexGrow:"1"},title:e.name,className:"jsx-aedf4df6a7382869",children:e.name}),(0,r.jsx)("span",{className:"jsx-aedf4df6a7382869 added",children:a&&a[e.id]>0?`deleted ${(0,d.F6)(Date.now()-a[e.id],{justNowLabel:"now"})}`:`added ${(0,d.F6)(Date.now()-e.createdAt,{justNowLabel:"now"})}`})]},e.name))})}),(0,r.jsx)(v,{count:y.length,loading:!S,title:0===y.length?"No aliases will be deleted":(0,r.jsxs)("span",{className:"jsx-aedf4df6a7382869",children:[y.length,_?" ":"+ ",1===y.length?"Related alias":"Related aliases"," ","will be deleted."]}),children:(0,r.jsxs)("div",{className:"jsx-aedf4df6a7382869",children:[y.map(e=>(0,r.jsxs)(j,{children:[(0,r.jsx)("span",{title:e.alias,className:"jsx-aedf4df6a7382869",children:e.alias}),(0,r.jsxs)("span",{className:"jsx-aedf4df6a7382869 added",children:["updated"," ",(0,d.F6)(Date.now()-e.updatedAt,{justNowLabel:"now"})]})]},e.alias)),!_&&(0,r.jsxs)("div",{className:"jsx-aedf4df6a7382869 "+(x().inset||""),children:[(0,r.jsx)(u.Z,{loading:E,onClick:w}),(0,r.jsx)(m.L,{})]})]})}),(0,r.jsx)(m.L,{y:-1})]})]}),(0,r.jsxs)(s.Actions,{children:[(0,r.jsx)(s.Action,{onClick:c,type:"secondary",children:"Cancel"}),(0,r.jsx)(s.Action,{disabled:"loading"===t,onClick:()=>{g(i,b)},children:"loading"===t?(0,r.jsx)(l.Z,{children:"Deleting"}):`Delete (${i.length+y.length}${_?"":"+"})`})]}),(0,r.jsx)(o(),{id:"aedf4df6a7382869",children:"header.jsx-aedf4df6a7382869{max-width:440px;margin:0 auto}header.jsx-aedf4df6a7382869>h2{margin:0;text-align:center}header.jsx-aedf4df6a7382869>p{color:var(--accents-5);margin:10px auto 0}.added.jsx-aedf4df6a7382869{color:#999;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}"})]})}function v(e){let{title:n,children:t,loading:i,count:o,open:s}=e;return i?(0,r.jsx)("div",{className:x().loadingItem,children:(0,r.jsx)(a.$,{size:14})}):0===o?(0,r.jsx)(c.P,{title:n}):(0,r.jsx)(c.P,{open:s,title:n,children:(0,r.jsx)("div",{className:x().content,children:t})})}function j(e){let{children:n}=e;return(0,r.jsx)(c.c,{className:x().subitem,children:n})}},217450:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(4799),i=t(312253),o=t(794845),a=t(358089),s=t(200494),d=t(906076),l=t(881808),c=t(13452),u=t(681021);function m(e){let{authCode:n,domain:t,error:i,team:o}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Title,{children:"Transfer Out"}),(0,r.jsx)(u.Z,{}),n?(0,r.jsxs)(a.Subtitle,{children:["Use this auth code to move your Domain ",(0,r.jsx)("strong",{children:t.name})," ","to another registrar:"]}):(0,r.jsxs)(a.Subtitle,{children:["Please wait while we fetch the auth code for"," ",(0,r.jsx)("strong",{children:t.name})," ..."]}),(0,r.jsx)(u.Z,{}),i?(0,r.jsx)(d.K,{align:"center",justify:"center",style:{height:"40px"},children:(0,r.jsx)(c.Z,{error:{message:`${i}.`,action:"Contact Us",link:`/help${o?"?teamSlug="+o.slug:""}`}})}):null,n?(0,r.jsx)(d.K,{align:"center",justify:"center",children:(0,r.jsx)(l.Z,{prompt:null,text:n,width:"300px"})}):!i&&(0,r.jsx)(d.K,{align:"center",justify:"center",style:{height:"40px"},children:(0,r.jsx)(s.$,{})})]})}function f(e){let{active:n,onDismiss:t,domain:s,handleDomainTransferOut:d,team:l}=e,[c,u]=(0,i.useState)(""),[f,h]=(0,i.useState)("");return(0,i.useEffect)(()=>{async function e(){try{let e=await d(s.name,l);u(e)}catch(e){h(e.message)}}n&&s&&e()},[n,s,d,l]),(0,r.jsxs)(a.Modal,{active:n,onAnimationDone:()=>{u(""),h("")},onClickOutside:t,children:[(0,r.jsx)(a.Body,{children:(0,r.jsx)(o.Z,{hcenter:!0,children:(0,r.jsx)(m,{authCode:c,domain:s,error:f,team:l})})}),(0,r.jsx)(a.Actions,{children:(0,r.jsx)(a.Action,{onClick:t,children:"OK"})})]})}},595807:function(e,n,t){"use strict";t.d(n,{Z:function(){return E}});var r=t(4799),i=t(943220),o=t.n(i),a=t(312253),s=t(14517),d=t(869480),l=t.n(d),c=t(593799),u=t(258998),m=t(358089),f=t(633898),h=t(910534),p=t(681021),g=t(791699),x=t(13452),b=t(585038),v=t.n(b);let j={UP:38,DOWN:40,ENTER:13,TAB:9};function D(e){let{data:n=[],keys:t,onChange:i,renderItem:s,children:d,...l}=e,[c,u]=(0,a.useState)(!1),[m,f]=(0,a.useState)(0),[h,p]=(0,a.useState)(""),x=(0,a.useRef)(null),b=(0,a.useRef)(null),D=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(document.addEventListener("mousedown",S),D.current&&x.current){let{width:e}=x.current.getBoundingClientRect();D.current.style.width=`${e}px`}return function(){document.removeEventListener("mousedown",S)}});let y=[],w=(function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return n;let r=new(v())(n,{shouldSort:!0,includeScore:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["name"],...t});return r.search(e||"").map(e=>{let{item:n}=e;return n})})(h,n,{keys:t}).map(e=>({...e,displayValue:function(e){for(let n of t){let t=e[n];if(t)return t}return null}(e)})).filter(e=>!!e.displayValue),E=Math.max(0,Math.min(m,w.length-1));function _(e){p(e),i&&i(e)}function S(e){!x.current||x.current.contains(e.target)||!D.current||D.current.contains(e.target)||u(!1)}m!==E&&f(E);let T=(0,a.useCallback)(e=>{if(e>=w.length)return f(0),0;if(!(e<0))return f(e),e;{let e=w.length-1;return f(e),e}},[w]);function C(e){let{keyCode:n}=e;if(n===j.DOWN){let e=T(m+1),n=y[e];D.current&&(D.current.scrollTop=n.offsetTop)}else if(n===j.UP){let e=T(m-1),n=y[e];D.current&&(D.current.scrollTop=n.offsetTop)}else if(n===j.ENTER){let e=w[m];e&&(N(e),f(0))}else if(n===j.TAB){e.preventDefault&&e.preventDefault();let n=w[m];n&&(_(n.displayValue),f(0))}}function N(e){let{displayValue:n}=e;_(n),b.current&&b.current.blur(),u(!1)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:x,className:"jsx-44b974d384a2c7a8 select",children:d?d({inputRef:b,value:h,onChange:_,onFocus:()=>u(!0),onKeyDown:C}):(0,r.jsx)(g.Z,{...l,inputRef:b,onChange:_,onFocus:()=>u(!0),onKeyDown:C,value:h})}),c&&w.length>0?(0,r.jsx)("div",{ref:D,className:"jsx-44b974d384a2c7a8 dropdown",children:w.map((e,n)=>(0,r.jsx)("div",{onClick:()=>N(e),onMouseOver:()=>T(n),ref:e=>{y[n]=e},className:"jsx-44b974d384a2c7a8",children:s?s(e,n,m===n):e.displayValue},`${e.displayValue}-${n}`))}):null,(0,r.jsx)(o(),{id:"44b974d384a2c7a8",children:".select.jsx-44b974d384a2c7a8{position:relative}.dropdown.jsx-44b974d384a2c7a8{position:absolute;overflow-y:auto;max-height:140px;z-index:1;margin:var(--geist-space-2x)0}"})]})}var y=t(914956);let w={input:""};class E extends a.Component{static #e=(()=>{this.propTypes={active:l().bool,movedDomains:l().objectOf(l().boolean),domains:l().arrayOf(y.yK),error:l().string,onCancel:l().func,onConfirm:l().func.isRequired,showErrorToast:l().func,showSuccessToast:l().func,status:l().oneOf(["notasked","loading","success","failure"]),team:y.FV,teams:l().arrayOf(y.FV),user:y.xR}})();componentDidUpdate(e){let{active:n,status:t,showErrorToast:r,errors:i}=this.props;n&&!e.active&&this.setState(w),e.status!==t&&"failure"===t&&i&&i.length>0&&i.forEach(e=>r(e))}render(){let{input:e,error:n}=this.state,{active:t,status:i,domains:a,onCancel:s,teams:d,team:l,user:b}=this.props,v=1===a.length,j=[b,...d||[]].filter(e=>(!e||!l||l.id!==e.id)&&(!e||!b||!!l||b.uid!==e.uid)&&!!e),y=this.teamOrUserFromValue(e);return(0,r.jsxs)(m.Modal,{active:t,onClickOutside:s,width:450,children:[(0,r.jsxs)(m.Body,{children:[(0,r.jsx)(m.Title,{children:`Move Domain${v?"":"s"}`}),(0,r.jsx)(p.Z,{}),(0,r.jsxs)(m.Subtitle,{children:["When moving the following Domain",v?"":"s",","," ",v?"it":"they"," will be removed from all of the projects ",v?"it is":"they are"," currently used in."]}),(0,r.jsx)(p.Z,{}),(0,r.jsxs)("main",{className:o().dynamic([["5ffc8c9b5b21a053",[y?"32px":"0px"]]]),children:[(0,r.jsx)(c.Z,{content:(0,r.jsx)("div",{className:o().dynamic([["5ffc8c9b5b21a053",[y?"32px":"0px"]]])+" input",children:(0,r.jsx)(D,{data:j,keys:["username","name","slug"],onChange:this.handleFieldChange("input"),renderItem:this.renderInputItem,children:e=>{let{inputRef:n,value:t,onChange:a,onFocus:s,onKeyDown:d}=e;return(0,r.jsxs)(r.Fragment,{children:[y?(0,r.jsx)("span",{className:o().dynamic([["5ffc8c9b5b21a053",[y?"32px":"0px"]]])+" avatar",children:(0,r.jsx)(h.ZP,{hash:y.avatar,size:24,teamId:y.id})}):null,(0,r.jsx)(g.Z,{error:"failure"===i,inputRef:n,onChange:a,onFocus:s,onKeyDown:d,placeholder:"Enter destination user or team slug...",value:t,width:"100%"})]})}})}),title:"Move To"}),n?(0,r.jsx)(x.Z,{children:n}):null,(0,r.jsx)(p.Z,{}),(0,r.jsxs)(u.ZP,{noMargin:!0,preset:"body-2",type:"secondary",children:["The following Domain",v?"":"s"," will be ",(0,r.jsx)("b",{className:o().dynamic([["5ffc8c9b5b21a053",[y?"32px":"0px"]]]),children:"moved"})," ","and any aliases that are not associated with a project domain will be ",(0,r.jsx)("b",{className:o().dynamic([["5ffc8c9b5b21a053",[y?"32px":"0px"]]]),children:"removed immediately"}),"."]}),(0,r.jsx)(p.Z,{}),(0,r.jsx)(m.Outset,{children:a.map(e=>(0,r.jsx)("div",{className:o().dynamic([["5ffc8c9b5b21a053",[y?"32px":"0px"]]])+" item",children:e.name}))})]})]}),(0,r.jsxs)(m.Actions,{children:[(0,r.jsx)(m.Action,{onClick:s,type:"secondary",children:"Cancel"}),"success"!==i&&(0,r.jsxs)(m.Action,{disabled:"loading"===i,onClick:()=>{e?(this.setState({error:null}),this.handleConfirm()):this.setState({error:"Select a destination Vercel Scope."})},children:["loading"===i&&(0,r.jsx)(f.Z,{}),"loading"!==i&&"Continue"]})]}),(0,r.jsx)(o(),{id:"5ffc8c9b5b21a053",dynamic:[y?"32px":"0px"],children:`.input.__jsx-style-dynamic-selector{margin:0 0 10px}.input.__jsx-style-dynamic-selector input{padding:0 20px 0 ${y?"32px":"0px"}}.input.__jsx-style-dynamic-selector .dropdown{background:var(--geist-background);border:1px solid var(--accents-2);-webkit-box-shadow:var(--shadow-small);-moz-box-shadow:var(--shadow-small);box-shadow:var(--shadow-small);-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;padding:5px 0}.avatar.__jsx-style-dynamic-selector{position:absolute;left:10px;top:7px;width:18px;z-index:1}.item.__jsx-style-dynamic-selector{padding:var(--geist-gap-half)-webkit-calc(var(--geist-gap) + var(--geist-gap-half));padding:var(--geist-gap-half)-moz-calc(var(--geist-gap) + var(--geist-gap-half));padding:var(--geist-gap-half)calc(var(--geist-gap) + var(--geist-gap-half))}@media only screen and (max-width:780px){.avatar.__jsx-style-dynamic-selector{top:10px}}`})]})}constructor(...e){super(...e),this.state=w,this.teamOrUserFromValue=e=>{let{user:n,teams:t}=this.props;if(n&&n.username===e)return n;let r=(t||[]).find(n=>n.name===e||n.slug===e);return r||null},this.handleConfirm=async e=>{e&&e.preventDefault();let{input:n}=this.state,{showSuccessToast:t,onConfirm:r,domains:i,team:o,user:a,teams:s}=this.props,d=(()=>{if(a.username===n)return a.uid||n;let e=(s||[]).find(e=>e.name===n);return e?e.id||e.slug:n})(),l=await r(i,d,o);if(l){let{movedDomains:e,requestedDomains:n}=l;e&&e.length>0&&t(`${1===e.length?`"${e[0].name}"`:`${e.length} domains`} moved!`),n&&n.length>0&&t(`Request sent to move ${1===n.length?`"${n[0].name}"`:`${n.length} domains`}`)}},this.handleFieldChange=e=>n=>{this.setState({[e]:n})},this.renderInputItem=(e,n,t)=>{let{avatar:i,displayValue:a,id:d}=e;return(0,r.jsxs)("div",{className:"jsx-34146c87a185ca62 "+((0,s.W)("user",{active:t})||""),children:[(0,r.jsx)("span",{className:"jsx-34146c87a185ca62 avatar",children:(0,r.jsx)(h.ZP,{hash:i,size:24,teamId:d})}),(0,r.jsx)("span",{className:"jsx-34146c87a185ca62 username",children:a}),(0,r.jsx)(o(),{id:"34146c87a185ca62",children:".user.jsx-34146c87a185ca62{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:14px;color:#999;line-height:17px;cursor:pointer;padding:8px 15px;width:100%;height:100%}.user.active.jsx-34146c87a185ca62{background:var(--accents-1);color:var(--geist-foreground)}.username.jsx-34146c87a185ca62{display:inline-block;overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis;font-weight:normal}.avatar.jsx-34146c87a185ca62{float:left;height:24px;margin-right:10px;width:24px}"})]})}}}},972496:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(4799),i=t(943220),o=t.n(i),a=t(312253),s=t(869480),d=t.n(s),l=t(238790);class c extends a.Component{static #e=(()=>{this.propTypes={onFileSelected:d().func,status:d().string}})();render(){let{status:e}=this.props;return(0,r.jsxs)("div",{className:"jsx-d412c24dab43d2e2 container",children:[(0,r.jsx)("input",{accept:"text/plain",onChange:e=>this.onFileSelected(e.target.files[0]),ref:e=>this.fileInput=e,type:"file",className:"jsx-d412c24dab43d2e2 geist-visually-hidden"}),(0,r.jsx)(l.Z,{disabled:"loading"===e,loading:"loading"===e,onClick:this.onChooseFileClick,type:"secondary",children:"CHOOSE FILE"}),(0,r.jsx)(o(),{id:"d412c24dab43d2e2",children:".container.jsx-d412c24dab43d2e2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.container.jsx-d412c24dab43d2e2>.button{text-transform:none}"})]})}constructor(...e){super(...e),this.onChooseFileClick=()=>{this.fileInput.click()},this.onFileSelected=e=>{let{onFileSelected:n}=this.props;n&&n(e),this.fileInput.value=null}}}},164206:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(4799),i=t(943220),o=t.n(i),a=t(312253),s=t(869480),d=t.n(s),l=t(358089),c=t(408255),u=t(995861),m=t(759802),f=t(639303),h=t(972496);class p extends a.Component{static #e=(()=>{this.propTypes={active:d().bool,domain:d().string,onDismiss:d().func.isRequired,showErrorToast:d().func,showSuccessToast:d().func,team:d().object,onUploadSuccess:d().func}})();constructor(e){super(e),this.handleZoneFileSuccess=()=>{let{showSuccessToast:e,onDismiss:n,onUploadSuccess:t}=this.props;e&&e("Uploaded Zone File successfully."),t&&t(),n()},this.handleZoneFileFailure=e=>{let{showErrorToast:n}=this.props;n&&n({text:e})},this.state={domain:e.domain}}componentDidUpdate(e){!e.active&&this.props.active&&this.importZoneFileRef.resetState(),this.props.active&&this.state.domain!==this.props.domain&&this.setState({domain:this.props.domain})}render(){let{onDismiss:e,active:n,team:t}=this.props,{domain:i}=this.state;return(0,r.jsx)(f.Z,{domain:i,onZoneFileFailure:this.handleZoneFileFailure,onZoneFileSuccess:this.handleZoneFileSuccess,ref:e=>this.importZoneFileRef=e,team:t,children:t=>{let{onFileSelected:a,status:s}=t;return(0,r.jsxs)(l.Modal,{active:n,onClickOutside:e,width:"420px",children:[(0,r.jsxs)(l.Body,{children:[(0,r.jsxs)("header",{className:"jsx-4c55b410453810b7",children:[(0,r.jsx)(c.H2,{children:"Upload DNS Zone File"}),(0,r.jsx)(u.P,{children:"If you have a DNS Zone File, you can upload it here."}),(0,r.jsxs)(u.P,{children:["As a result, the DNS Records within that file will be applied to your"," ",(0,r.jsx)(m.mj,{href:`https://${i}`,children:i})," ","domain."]}),(0,r.jsx)(u.P,{children:"In the case of a conflict, however, the upload will be prevented."})]}),(0,r.jsx)("div",{className:"jsx-4c55b410453810b7",children:(0,r.jsx)(h.Z,{onFileSelected:a,status:s})}),(0,r.jsx)(o(),{id:"4c55b410453810b7",children:"header.jsx-4c55b410453810b7{margin:0 auto;padding-bottom:15px}header.jsx-4c55b410453810b7>h2{text-align:center}"})]}),(0,r.jsx)(l.Actions,{children:(0,r.jsx)(l.Action,{disabled:"loading"===s,onClick:e,children:"Dismiss"})})]})}})}}},639303:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(312253),i=t(869480),o=t.n(i),a=t(256432);let s={status:"notasked"};class d extends r.Component{static #e=(()=>{this.propTypes={domain:o().string,onZoneFileSuccess:o().func,onZoneFileFailure:o().func,team:o().object}})();render(){let{status:e}=this.state,{children:n}=this.props;return n({onFileSelected:this.handleUploadZoneFile,status:e})}constructor(...e){super(...e),this.state=s,this.resetState=()=>{this.setState(s)},this.handleUploadZoneFile=async e=>{let{domain:n,onZoneFileSuccess:t,onZoneFileFailure:r,team:i}=this.props;try{this.setState({status:"loading"}),await (0,a.QF)({name:n,team:i,zoneFile:e}),this.setState({status:"success"}),t&&t()}catch(e){this.setState({status:"failure"}),r&&r(e.message?e.message:"Upload failed, make sure your records are valid.")}}}}},914956:function(e,n,t){"use strict";t.d(n,{FV:function(){return s},Rk:function(){return d},xR:function(){return a},yK:function(){return o}});var r=t(869480),i=t.n(r);let o=i().shape({boughtAt:i().number,cdnEnabled:i().bool,createdAt:i().number,expiresAt:i().number,name:i().string,serviceType:i().oneOf(["zeit.world","external"]),verified:i().bool}),a=i().shape({avatar:i().string,uid:i().string,name:i().string,username:i().string}),s=i().shape({avatar:i().string,created:i().string,creatorId:i().string,id:i().string,name:i().string,slug:i().string}),d=i().shape({code:i().string,message:i().string,name:i().string,nsVerification:i().shape({name:i().string,nameservers:i().arrayOf(i().string),intendedNameservers:i().arrayOf(i().string)}),txtVerification:i().shape({name:i().string,verificationRecord:i().string,values:i().arrayOf(i().string)})})},876357:function(e,n,t){"use strict";t.d(n,{aO:function(){return r},Oz:function(){return i},IR:function(){return o},aY:function(){return nu}});var r={};t.r(r),t.d(r,{addDomain:function(){return Z},appendDomains:function(){return F},changeSelectedDomains:function(){return p},changeSelectedRecords:function(){return K},closeRenewDomainModal:function(){return el},disableDeleteDNSZoneWarn:function(){return v},disableDeleteDomainsWarn:function(){return j},disableDomainCDNWarn:function(){return h},dismissAddDomain:function(){return k},dismissImportZoneFileModal:function(){return W},dismissMoveDomainsModal:function(){return B},dismissMoveInDomainModal:function(){return L},dismissTransferDomain:function(){return $},dismissTransferOutDomain:function(){return A},dismissVerificationError:function(){return N},enableAddDomain:function(){return O},enableDeleteDNSZoneWarn:function(){return g},enableDeleteDomainsWarn:function(){return x},enableDeleteDomainsWarnForSelected:function(){return b},enableDomainCDNWarn:function(){return f},mergeDomains:function(){return c},onCancelDeleteRecords:function(){return et},onCancelEditRecord:function(){return en},onCancelPreset:function(){return ei},onClickAddPreset:function(){return eo},onClickDeleteRecords:function(){return Y},onClickEditRecord:function(){return X},openRenewDomainModal:function(){return ed},removeDomains:function(){return E},removeSelectedDomains:function(){return _},resetRenewDomainModal:function(){return ec},setAddDomainError:function(){return R},setAddPresetError:function(){return es},setAddingPreset:function(){return ea},setDNSRecordLoading:function(){return q},setDeletedDomains:function(){return D},setDeletingDNSZoneStatus:function(){return w},setDeletingDomainsStatus:function(){return y},setDeletingRecords:function(){return er},setDomainAdding:function(){return P},setDomainCDN:function(){return s},setDomainLoading:function(){return d},setDomainVerificationError:function(){return C},setDomainVerified:function(){return T},setDomainVerifying:function(){return S},setDomains:function(){return l},setDomainsHasMore:function(){return m},setDomainsStatus:function(){return u},setEditingRecord:function(){return ee},setImportZoneFile:function(){return V},setLoadingRenewDomain:function(){return eu},setLoadingZone:function(){return ef},setMoveDomainsStatus:function(){return G},setMoveInModalState:function(){return U},setMoveInModalStatus:function(){return H},setMovedDomains:function(){return Q},setRenewDomainError:function(){return em},setZoneError:function(){return eh},showMoveOutDomainModal:function(){return z},showMoveOutDomainModalForSelectedDomains:function(){return J},showTransferDomainModal:function(){return I},showTransferOutDomainModal:function(){return M}});var i={};t.r(i),t.d(i,{DEFAULT_DOMAINS_LIMIT:function(){return eg},addDNSRecord:function(){return eC},confirmMoveInDomainRequest:function(){return eS},deleteDNSZone:function(){return ej},deleteDomains:function(){return eD},getApexDomains:function(){return ex},getDomainAuthCode:function(){return eE},getDomains:function(){return eb},importZoneFile:function(){return e_},moveOutDomains:function(){return eT},performAddPreset:function(){return ek},performDeleteRecords:function(){return eN},performEditRecords:function(){return eO},setZone:function(){return eZ},toggleDomainCDN:function(){return ev},toggleRenewal:function(){return eP},transferDomain:function(){return ew},updateNameservers:function(){return eR},verifyDomain:function(){return ey}});var o={};t.r(o),t.d(o,{allDomainsSelected:function(){return eW},deletingDNSZoneStatus:function(){return eJ},deletingDomainErrors:function(){return eq},deletingDomainsStatus:function(){return eK},getAddDomainPrefillValue:function(){return e8},getDNSZoneToDelete:function(){return ez},getDeletedDomains:function(){return eB},getDomainBeingVerified:function(){return e1},getDomainName:function(){return e9},getDomainToEnableCDN:function(){return eV},getDomainVerificationError:function(){return e0},getDomains:function(){return eM},getDomainsToDelete:function(){return eG},getDomainsToMoveOut:function(){return na},getImportZoneFileDomainName:function(){return e5},getLastDomainCreatedAt:function(){return e$},getMovedDomains:function(){return ns},getSelectedDomains:function(){return eH},isAddDomainActive:function(){return e3},isDNSRecordLoading:function(){return nc},isDeleteDNSZoneWarnEnabled:function(){return eU},isDeleteDomainsWarnEnabled:function(){return eQ},isDomainCDNWarnEnabled:function(){return eF},isDomainLoading:function(){return eA},isDomainSelected:function(){return eL},isDomainVerificationErrored:function(){return eX},isDomainVerifying:function(){return eY},isImportZoneFileActive:function(){return e6},isMoveInDomainActive:function(){return e7},isMoveOutDomainModalActive:function(){return no},isTransferDomainActive:function(){return e2},isTransferOutDomainActive:function(){return e4},moveInDomainErrors:function(){return nn},moveInDomainFrom:function(){return ni},moveInDomainName:function(){return nt},moveInDomainStatus:function(){return ne},moveInDomainToken:function(){return nr},moveOutDomainErrors:function(){return nd},moveOutDomainStatus:function(){return nl}});var a=t(279290);function s(e,n,t){let r=e.domains.find(e=>e.name===n),i=e.domains.indexOf(r);return{...e,domains:[...e.domains.slice(0,i),{...r,cdnEnabled:t},...e.domains.slice(i+1)]}}function d(e,n,t){return{...e,domainsLoading:{...e.domainsLoading,[n.name]:!!t}}}function l(e,n){return{...e,domains:n}}function c(e,n){let t={},r=(e.domains||[]).concat(n).reduce((e,n)=>(t[n.id]||(t[n.id]=!0,e.push(n)),e),[]).sort((e,n)=>n.createdAt-e.createdAt);return{...e,domains:r}}function u(e,n,t){return{...e,domainsStatus:n,domainsError:t}}function m(e,n){return{...e,domainsHasMore:n}}function f(e,n){return{...e,domainCDNWarn:{enabled:!0,domain:n}}}function h(e){return{...e,domainCDNWarn:{...e.domainCDNWarn,enabled:!1}}}function p(e,n){return{...e,selectedDomains:n}}function g(e,n){return{...e,deleteDNSZoneWarn:{...e.deleteDNSZoneWarn,domain:n,enabled:!0}}}function x(e,n){return{...e,deleteDomainsWarn:{...e.deleteDomainsWarn,deletedDomains:null,domains:n,enabled:!0}}}function b(e){return{...e,deleteDomainsWarn:{...e.deleteDomainsWarn,deletedDomains:null,domains:e.selectedDomains,enabled:!0}}}function v(e){return{...e,deleteDNSZoneWarn:{...e.deleteDNSZoneWarn,enabled:!1,status:"notasked"}}}function j(e){return{...e,deleteDomainsWarn:{...e.deleteDomainsWarn,enabled:!1,status:"notasked"}}}function D(e,n){let t={},r=Date.now();for(let e of n)t[e.id]=r;return{...e,deleteDomainsWarn:{...e.deleteDomainsWarn,deletedDomains:t}}}function y(e,n,t){return{...e,deleteDomainsWarn:{...e.deleteDomainsWarn,errors:t,status:n}}}function w(e,n,t){return{...e,deleteDNSZoneWarn:{...e.deleteDNSZoneWarn,error:t,status:n}}}function E(e,n){return{...e,domains:a.bO(e.domains,n,(e,n)=>e.name===n.name)}}function _(e,n){return{...e,selectedDomains:a.bO(e.selectedDomains,n,(e,n)=>e.name===n.name)}}function S(e,n){return{...e,domainVerification:{...e.domainVerification,verifying:!0,domain:n}}}function T(e,n){return{...e,domainVerification:{...e.domainVerification,errored:!1,verifying:!1},domains:e.domains.map(e=>e.name===n.name?{...e,verified:!0}:e)}}function C(e,n,t){return{...e,domainVerification:{...e.domainVerification,verifying:!1,errored:!0,domain:n,error:t}}}function N(e){return{...e,domainVerification:{...e.domainVerification,errored:!1}}}function O(e,n){return{...e,addDomain:{...e.addDomain,enabled:!0,prefillDomainValue:"string"==typeof n?n:void 0}}}function k(e){return{...e,addDomain:{...e.addDomain,enabled:!1}}}function P(e){return{...e,addDomain:{...e.addDomain,adding:!0,error:null}}}function Z(e,n){let t=e.domains.find(e=>e.name===n.name);return{...e,addDomain:{...e.addDomain,enabled:!1,adding:!1},domains:t?e.domains:[n,...e.domains]}}function R(e,n){return{...e,addDomain:{...e.addDomain,adding:!1,error:n}}}function I(e){return{...e,transferDomain:{...e.transferDomain,active:!0}}}function M(e,n){return{...e,transferOutDomain:{...e.transferOutDomain,active:!0,domainName:n}}}function $(e){return{...e,transferDomain:{...e.transferDomain,active:!1}}}function A(e){return{...e,transferOutDomain:{...e.transferOutDomain,active:!1}}}function F(e,n){let t=e.domains.find(e=>e.name===n.name);return{...e,domains:t?e.domains:[n,...e.domains]}}function V(e,n){return{...e,importZoneFile:{...e.importZoneFile,active:!0,domainName:n}}}function W(e){return{...e,importZoneFile:{...e.importZoneFile,active:!1,domainName:null}}}function L(e){return{...e,moveInDomain:{...e.moveInDomain,active:!1}}}function H(e,n,t){return{...e,moveInDomain:{...e.moveInDomain,status:n,errors:t}}}function U(e,n){return{...e,moveInDomain:{...e.moveInDomain,...n}}}function z(e,n){return{...e,moveOutDomain:{...e.moveOutDomain,movedDomains:null,active:!0,domains:n,status:"notasked"}}}function J(e){return z(e,e.selectedDomains)}function Q(e,n){let t={};for(let e of n){let{domain:n,moved:r}=e;t[n.id]=r}return{...e,moveOutDomain:{...e.moveOutDomain,movedDomains:t}}}function B(e){return{...e,moveOutDomain:{...e.moveOutDomain,active:!1}}}function G(e,n,t){return{...e,moveOutDomain:{...e.moveOutDomain,status:n,errors:t}}}function K(e,n){return{...e,selectedRecords:n}}function q(e,n){return{...e,dnsRecordLoading:n}}function Y(e,n){return{...e,deleteRecords:n,deleteRecordsModalVisible:!0}}function X(e,n){return{...e,editRecord:n,editRecordModalVisible:!0}}function ee(e,n){return{...e,editingRecord:n}}function en(e){return{...e,editRecordModalVisible:!1}}function et(e){return{...e,deleteRecordsModalVisible:!1}}function er(e,n){return{...e,deletingRecords:n}}function ei(e){return{...e,presetsModalVisible:!1,addingPreset:!1}}function eo(e,n){return{...e,presetsModalVisible:!0,currentPreset:n}}function ea(e,n){return{...e,addingPreset:n}}function es(e,n){return{...e,addPresetError:n,addingPreset:!1}}function ed(e){return{...e,renewDomain:{...e.renewDomain,active:!0}}}function el(e){return{...e,renewDomain:{...e.renewDomain,active:!1}}}function ec(e){return{...e,renewDomain:{error:null,status:"notasked",active:!1}}}function eu(e,n){return{...e,renewDomain:{...e.renewDomain,status:n?"loading":"not-loading"}}}function em(e,n){return{...e,renewDomain:{...e.renewDomain,error:n,status:"not-loading"}}}function ef(e,n){return{...e,zone:{...e.zone,status:n?"loading":"not-loading"}}}function eh(e,n){return{...e,zone:{...e.zone,error:n,status:"not-loading"}}}var ep=t(256432);let eg=20;function ex(e){let n={};for(let t of e)n[t.name]={...t,isApex:!0,apex:t.name,prefix:""};return n}function eb(e){let n={...e};return Object.values(n)}async function ev(e,n,t){let r=!n.cdnEnabled;e.setDomainLoading(n,!0),e.disableDomainCDNWarn(),await ep.GU({domain:n.name,cdnEnabled:r,team:t}),e.setDomainCDN(n.name,r),e.setDomainLoading(n,!1)}async function ej(e,n,t,r){e.setDeletingDNSZoneStatus("loading");try{return await ep.nK({domain:n,team:t,zone:!1}),await r(),e.setDeletingDNSZoneStatus("success"),e.disableDeleteDNSZoneWarn(),{successful:!0}}catch(n){return e.setDeletingDNSZoneStatus("failure",n.message),{successful:!1,error:n.message}}}async function eD(e,n,t,r){e.setDeletingDomainsStatus("loading");try{let i=await Promise.all(n.map(async e=>{try{return await ep.dj({domain:e,team:t}),{domain:e}}catch(n){return{domain:e,error:n}}}));await r();let o=i.filter(e=>{let{error:n}=e;return!n}).map(e=>{let{domain:n}=e;return n}),a=i.filter(e=>{let{error:n}=e;return!!n}).map(e=>{let{error:n}=e;return n.message}),s=a.length>0?"failure":"success";if(e.removeDomains(o),e.removeSelectedDomains(o),e.setDeletedDomains(o),e.setDeletingDomainsStatus(s,a),"success"===s)return e.disableDeleteDomainsWarn(),{successful:!0,errors:[]};return{successful:!1,errors:a}}catch(t){let n=[t.message];return e.setDeletingDomainsStatus("failure"),{successful:!1,errors:n}}}async function ey(e,n,t){e.setDomainVerifying(n);let{error:r}=await ep.Q0({domain:n,team:t});r&&"verification_failed"===r.code?e.setDomainVerificationError(n,r):e.setDomainVerified(n)}async function ew(e,n,t,r,i,o){let{domain:a}=await ep.yP({name:n,authCode:t,expectedPrice:r,team:i});await o(),e.appendDomains(a)}async function eE(e,n,t){let{authCode:r}=await ep.c9({domain:n,team:t});return r}function e_(e,n){e.setImportZoneFile(n)}async function eS(e,n,t,r,i){e.setMoveInModalStatus("loading");try{let{domain:o}=await ep.gM({name:n,moveToken:t,team:r});return await i(),e.appendDomains(o),e.setMoveInModalStatus("success"),e.dismissMoveInDomainModal(),!0}catch(n){return e.setMoveInModalStatus("failure",[n.message]),!1}}async function eT(e,n,t,r,i){e.setMoveDomainsStatus("loading");try{let o=await Promise.all(n.map(async e=>{try{let{moved:n}=await ep.m2({name:e.name,destination:t,team:r});return{domain:e,moved:n}}catch(n){return{domain:e,moved:!1,error:n}}}));await i();let a=o.filter(e=>{let{error:n}=e;return!n}),s=a.filter(e=>{let{moved:n}=e;return n}).map(e=>{let{domain:n}=e;return n}),d=o.filter(e=>{let{error:n}=e;return!!n}),l=d.map(e=>{let{error:n}=e;return n.message}),c=a.length>0?"success":"failure";if(e.setMovedDomains(a),e.removeDomains(s),e.removeSelectedDomains(s),e.setMoveDomainsStatus(c,l),"success"===c){e.dismissMoveDomainsModal();let n=a.filter(e=>!e.moved).map(e=>e.domain);return{movedDomains:s,requestedDomains:n}}return null}catch(n){return e.setMoveDomainsStatus("failure",[n.message]),null}}async function eC(e,n,t,r){let{name:i,type:o,value:a,priority:s,weight:d,port:l,target:c,ttl:u}=r;e.setDNSRecordLoading(!0);let m=await ep.uy({domain:n,name:i,type:o,value:a,priority:s,weight:d,port:l,target:c,team:t,ttl:u});return e.setDNSRecordLoading(!1),m}async function eN(e,n,t,r){e.setDeletingRecords(!0),await Promise.all(n.map(e=>ep.JS({id:e.id,domain:r,team:t}))),e.setDeletingRecords(!1),e.changeSelectedRecords([]),e.onCancelDeleteRecords()}async function eO(e,n,t,r){e.setEditingRecord(!0);let i=await ep.Vs({id:n,payload:t,team:r});return e.setEditingRecord(!1),i.error||e.onCancelEditRecord(),i}async function ek(e,n,t,r){e.setAddingPreset(!0),await ep.S({actions:e,records:n,domain:r,team:t}),e.setAddingPreset(!1),e.onCancelPreset()}async function eP(e,n,t){e.setLoadingRenewDomain(!0);let r={};try{(r=await ep.Eg({domain:n,team:t})).error&&e.setRenewDomainError(r.error)}catch(n){r.error=n,e.setRenewDomainError(n)}return!r.error}async function eZ(e,n,t,r,i){e.setLoadingZone(!0);let o={};try{(o=await ep.nK({domain:n,team:r,zone:t})).error&&e.setZoneError(o.error)}catch(n){o.error=n,e.setZoneError(n)}try{await i()}catch{}return e.setLoadingZone(!1),!o.error}async function eR(e,n,t,r){let{customNameservers:i}=await ep.K3({domain:n,payload:t,team:r});return i}function eI(e){return e.sort((e,n)=>{let t=n.createdAt-e.createdAt;return 0===t?n.prefix<e.prefix?1:-1:t})}function eM(e){return eI(e.domains)}function e$(e){let n=eI(e.domains);if(!n||0===n.length)return null;let t=n[n.length-1].createdAt;return new Date(t).getTime()}function eA(e,n){return!!e.domainsLoading[n.name]}function eF(e){return e.domainCDNWarn.enabled}function eV(e){return e.domainCDNWarn.domain}function eW(e){return e.selectedDomains.length===e.domains.length}function eL(e,n){return!!e.selectedDomains.find(e=>e.name===n.name)}function eH(e){return e.selectedDomains}function eU(e){return e.deleteDNSZoneWarn.enabled}function ez(e){return e.deleteDNSZoneWarn.domain}function eJ(e){return e.deleteDNSZoneWarn.status}function eQ(e){return e.deleteDomainsWarn.enabled}function eB(e){return e.deleteDomainsWarn.deletedDomains}function eG(e){return e.deleteDomainsWarn.domains}function eK(e){return e.deleteDomainsWarn.status}function eq(e){return e.deleteDomainsWarn.errors}function eY(e,n){return e.domainVerification.verifying&&e.domainVerification.domain&&e.domainVerification.domain.name===n.name}function eX(e,n){let{domainVerification:t}=e;return n?t.errored&&t.domain.name===n.name:t.errored}function e0(e){return e.domainVerification.error}function e1(e){return e.domainVerification.domain}function e2(e){return e.transferDomain.active}function e4(e){return e.transferOutDomain.active}function e9(e){return e.transferOutDomain.domainName}function e3(e){return e.addDomain.enabled}function e8(e){return e.addDomain.prefillDomainValue}function e5(e){return e.importZoneFile.domainName}function e6(e){return e.importZoneFile.active}function e7(e){return e.moveInDomain.active}function ne(e){return e.moveInDomain.status}function nn(e){return e.moveInDomain.errors}function nt(e){return e.moveInDomain.domain}function nr(e){return e.moveInDomain.moveToken}function ni(e){return e.moveInDomain.from}function no(e){return e.moveOutDomain.active}function na(e){return e.moveOutDomain.domains}function ns(e){return e.moveOutDomain.movedDomains}function nd(e){return e.moveOutDomain.errors}function nl(e){return e.moveOutDomain.status}function nc(e){return e.dnsRecordLoading}let nu=e=>({addDomain:{enabled:!1},deleteDomainsWarn:{status:"notasked",enabled:!1,domains:[]},deleteDNSZoneWarn:{status:"notasked",enabled:!1},domainCDNWarn:{enabled:!1,domain:{}},domains:[],domainsHasMore:!0,domainsStatus:"notasked",domainsLoading:{},domainVerification:{verifying:!1,errored:!1},importZoneFile:{active:!1},selectedDomains:[],transferDomain:{active:!1,domainName:null},transferOutDomain:{active:!1,domainName:null},moveOutDomain:{status:"notasked",active:!1,domains:[]},moveInDomain:{active:!1,status:"notasked",...e.moveInDomain},selectedRecords:[],deletingRecords:!1,records:[],uploadModalVisible:!1,deleteRecordsModalVisible:!1,deleteRecords:[],dnsRecordLoading:!1,editRecordModalVisible:!1,editRecord:{},editingRecord:!1,presetsModalVisible:!1,currentPreset:null,addingPreset:!1,addPresetError:null,renewDomain:{status:"notasked",active:!1,error:null},zone:{status:"not-loading",error:null},...e})},741725:function(e,n,t){"use strict";t.d(n,{h:function(){return a}});var r=t(4799),i=t(779810),o=t(5500);let a=e=>{let{domain:n,canReadDomain:t=!0}=e;return n&&t?n.boughtAt?o.c5:"number"!=typeof n.orderedAt||n.boughtAt?"Third Party":"Purchase in Process":(0,r.jsx)(i.O,{height:20,width:75})}},335320:function(e,n,t){"use strict";t.d(n,{U:function(){return s}});var r=t(4799),i=t(237609),o=t(941095),a=t(5500);function s(e){let{domain:n}=e;return"zeit.world"===n.serviceType?a.c5:"na"===n.serviceType&&n.boughtAt?(0,r.jsxs)(r.Fragment,{children:["Pending\xa0",(0,r.jsx)(o.Z,{position:"top",text:`Your domain was purchased with ${a.c5} and will be using ${a.c5} nameservers once the records have been propagated globally. This might take up to 48 hours.`,children:(0,r.jsx)(i.k,{})})]}):"number"!=typeof n.orderedAt||n.boughtAt?"Third Party":"Purchase in Process"}},408255:function(e,n,t){"use strict";t.d(n,{H1:function(){return d},H2:function(){return l},H3:function(){return c},H4:function(){return u},H5:function(){return m}});var r=t(4799),i=t(312253),o=t(14517),a=t(430426),s=t.n(a);function d(e){let{className:n,children:t,...i}=e;return(0,r.jsx)("h1",{className:(0,o.W)(s().h1,n),...i,children:t})}let l=(0,i.forwardRef)((e,n)=>{let{children:t,className:i,...a}=e;return(0,r.jsx)("h2",{className:(0,o.W)(s().h2,i),...a,ref:n,children:t})});function c(e){let{children:n,className:t,...i}=e;return(0,r.jsx)("h3",{className:(0,o.W)(s().h3,t),...i,children:n})}function u(e){let{children:n,isCommand:t,className:i,...a}=e;return(0,r.jsx)("h4",{className:(0,o.W)(s().h4,i,{[s().command]:t}),...a,children:n})}function m(e){let{children:n,className:t,...i}=e;return(0,r.jsx)("h5",{className:(0,o.W)(s().h5,t),...i,children:n})}l.displayName="H2",d.B=function(e){let{children:n,...t}=e;return(0,r.jsx)("b",{...t,children:n})}},759802:function(e,n,t){"use strict";t.d(n,{dL:function(){return p},h$:function(){return f},mj:function(){return m}});var r=t(4799);t(312253);var i=t(56280),o=t.n(i),a=t(14517),s=t(575092),d=t(129255),l=t(364319),c=t(160518),u=t.n(c);let m=e=>{var n;return(0,l.Z)(e.href)?(0,r.jsx)(f,{...e}):(null===(n=e.href)||void 0===n?void 0:n.startsWith("#"))?(0,r.jsx)(h,{...e}):(0,r.jsx)(p,{...e})},f=e=>{let{href:n,as:t,children:i,onClick:l,download:c=!1,error:m=!1,underlineOnHover:f=!0,prefetch:h=!0,className:p}=e,g=(0,s.B)(),x=(0,d.useWarning)();return(0,r.jsx)(o(),{as:t,className:(0,a.W)(u().internal,p,{[u().error]:m,[u().disabled]:g,[u()["no-underline"]]:!f,[u()["in-warning"]]:x}),download:c,href:n,onClick:l,prefetch:!!h&&void 0,children:i})},h=e=>{let{href:n,onClick:t,children:i,underlineOnHover:o=!0}=e;return(0,r.jsx)("a",{className:(0,a.W)(u().anchor,{[u().underlineOnHover]:o}),href:n,onClick:t,children:i})},p=e=>{let{href:n,onClick:t,children:i,underlineOnHover:o=!0,download:d=!1,className:l}=e,c=(0,s.B)();return(0,r.jsx)("a",{className:(0,a.W)(u().external,l,{[u()["no-underline"]]:!o,[u().disabled]:c}),download:d,href:n,onClick:t,rel:"noopener",target:"_blank",children:i})}},995861:function(e,n,t){"use strict";t.d(n,{P:function(){return s},bg:function(){return l},pu:function(){return u}});var r=t(4799),i=t(14517),o=t(816465),a=t.n(o);let s=e=>{let{className:n="",children:t,large:i,color:o,style:a,...s}=e;return(0,r.jsx)("p",{className:n,...s,style:{color:o,...a},children:t})},d=e=>{let{children:n}=e;return(0,r.jsx)("div",{className:a().pdiv,children:n})},l=e=>(0,r.jsx)("div",{className:a().div,children:(0,r.jsx)(d,{...e})}),c=e=>{let{children:n}=e;return(0,r.jsx)("span",{className:a().bold,children:n})},u=e=>{let{children:n,className:t=""}=e;return(0,r.jsx)("blockquote",{className:(0,i.W)(a().blockquote,t),children:n})};s.B=c},192179:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(4799),i=t(312253),o=t(94928),a=t.n(o),s=t(200494),d=t(581943);let l=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"body::before{content:'';display:block;position:fixed;width:100%;height:100%;top:0;left:0;background:var(--geist-background);z-index: 99999}.render body::before{display:none}"}}),(0,r.jsx)("noscript",{dangerouslySetInnerHTML:{__html:"<style>body::before{content:none}</style>"}})]});function c(e){let{requireAuth:n=!0,timeout:t=1e3}=e;if(n)return(0,r.jsxs)(a(),{children:[l,(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
              location.replace('/login?next=' + encodeURIComponent(location.pathname + location.search))
            } else {
              document.documentElement.classList.add('render')
            }`}})]});let[o,c]=(0,i.useState)(!1),{isLoggedOut:u}=(0,d.n)(),m=(0,i.useRef)();return m.current=u,(0,i.useEffect)(()=>{let e=setTimeout(()=>{void 0===m.current&&c(!0)},t);return()=>clearTimeout(e)},[t]),(0,i.useEffect)(()=>{u&&(document.documentElement.classList.add("render"),c(!1))},[u]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[l,(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
            document.documentElement.classList.add('render')
          }`}})]}),o?(0,r.jsx)("div",{className:"geist-fade-in",style:{width:20,height:20,position:"fixed",top:0,left:0,right:0,bottom:0,margin:"auto",zIndex:1e5},children:(0,r.jsx)(s.$,{})}):null]})}},427141:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(312253);function i(e){let{initialState:n,actions:t,effects:i}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,[a,s]=(0,r.useState)(n),d={...a,...o},l=(0,r.useRef)(o);(0,r.useMemo)(()=>{l.current=o},[o]);let c=(0,r.useMemo)(()=>Object.keys(t).reduce((e,n)=>(e[n]=function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return s(e=>t[n]({...e,...l.current},...r))},e),{}),[t]),u=(0,r.useMemo)(()=>Object.keys(i).reduce((e,n)=>(e[n]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i[n](c,...t)},e),{}),[i,c]);return{state:d,actions:c,effects:u}}},364476:function(e,n,t){"use strict";t.d(n,{BZ:function(){return E},W0:function(){return w},ZP:function(){return _},f9:function(){return D}});var r=t(4799),i=t(312253),o=t(14517),a=t(384208),s=t(61771),d=t(212201),l=t(192179),c=t(386854),u=t(540637),m=t(234048),f=t(628497),h=t(592912),p=t(950416),g=t(781536),x=t(714066),b=t(491318),v=t(330420);let j=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{data:n,isLoggedOut:t,isValidating:r,mutate:o}=(0,m.a)(e,!0),{isReady:a,teams:s,team:d,isValidating:l,teamSlug:c,isTeam:u,mutate:h}=(0,f.t7)(),p=(0,i.useCallback)(()=>Promise.all([o(),h()]),[o,h]);return{isReady:n&&a,isValidating:r||l,team:d,teams:s,userData:n,teamSlug:c,isTeam:u,isLoggedOut:t,mutate:p}};function D(e){let n=(0,a.useRouter)(),{teamSlug:t}=(0,b.U)()||{};t=(t||"").replace(/\?.+/,"");let r=(0,x.b)().get("invited"),{team:o,mutate:s,isValidating:d,isReady:l,userData:c,teamSlug:m,isLoggedOut:f}=j(e);(0,v.Z)("invited","You are now a member of this Team.","success",!d),(0,i.useEffect)(()=>{r&&!d&&m&&(s(),n.replace(`/${m}`,{shallow:!0}))},[n,m,s,d,r]),(0,i.useEffect)(()=>{if(e&&l){var n,r;if(!f&&!d&&t&&(null===(n=c.user)||void 0===n?void 0:n.username)!==t&&(null===(r=c.user)||void 0===r?void 0:r.uid)!==t&&!o){let e=Error("Team not found");throw e.status=404,(0,u.nY)(),e}}},[e,c,o,l,f,d,t])}let y=(0,i.memo)(e=>{let{Section:n,opts:t,pageProps:a}=e;D(t.requireAuth);let c=function(){let[e,n]=(0,i.useReducer)((e,n)=>({initial:!1,key:e.initial?e.key:n}),{initial:!0,key:null}),{query:{teamSlug:t},isReady:r}=(0,s.useRouter)();return(0,i.useEffect)(()=>{r&&n(t??null)},[r,t]),e.key}();return(0,r.jsxs)(r.Fragment,{children:[t.requireAuth?(0,r.jsx)(l.Z,{}):null,(0,r.jsxs)(d.Z,{active:t.active,dashboard:!0,footer:t.footer,fullWidthLayout:t.fullWidthLayout,stickyTabs:t.stickyTabs,title:t.pageName?`${t.pageName} – Dashboard`:"Dashboard",...t.pageProps,children:[(0,r.jsx)(h.Z,{}),(0,r.jsx)(p.Z,{}),(0,r.jsx)(g.Z,{}),(0,r.jsx)("div",{className:(0,o.W)("dashboard-container",{gray:t.darkFold}),children:(0,i.createElement)(n,{active:t.active,...a,key:c})})]})]})});function w(e){return(0,c.P)(e)}y.displayName="DashboardLayout";let E=w(y);function _(e,n){n=Object.assign({requireAuth:!0,active:""},n||{});let t=(0,i.memo)(e);return e.getLayout=function(e,i){return(0,r.jsx)(E,{Section:t,opts:n,pageProps:i})},e}},386854:function(e,n,t){"use strict";t.d(n,{A:function(){return d},P:function(){return l}});var r=t(4799),i=t(312253),o=t(560630),a=t(968026),s=t(749061);let d=e=>class extends i.Component{static async getInitialProps(n){let t={};return e.getInitialProps&&(t=await e.getInitialProps(n)),t.statusCode&&n.res&&(n.res.statusCode=t.statusCode),t}render(){return this.props.statusCode?(0,r.jsx)(s.default,{err:this.props.err,reported:!0,statusCode:this.props.statusCode}):(0,r.jsx)(e,{...this.props})}};function l(e){class n extends i.PureComponent{}class t extends n{static getDerivedStateFromError(e){var n;if(404===e.status&&e.teamSlug&&e.membershipRequestedBy)throw e;let t=e.statusCode||e.status||(null===(n=e.res)||void 0===n?void 0:n.status);return(0,a.captureError)(e,{statusCode:t}),{error:e}}componentDidUpdate(e){e.router.asPath!==this.props.router.asPath&&this.state.error&&this.setState({error:null})}render(){let{error:n}=this.state;if(n){var t;let e=n.statusCode||n.status||(null===(t=n.res)||void 0===t?void 0:t.status);return(0,r.jsx)(s.default,{err:n,reported:!0,statusCode:e})}return(0,r.jsx)(e,{...this.props})}constructor(...e){super(...e),this.state={error:null}}}return t.getInitialProps=n=>e.getInitialProps?e.getInitialProps(n):{},t.getLayout=e.getLayout,(0,o.withRouter)(t)}},279290:function(e,n,t){"use strict";function r(e,n,t,r,o){let a=t.findIndex(n=>o(n,e)),s=t.findIndex(e=>o(e,n)),d=t.slice(Math.min(s,a),Math.max(s,a)+1);return d.every(e=>!!r.find(n=>o(n,e)))?i(r,d,o):[...r,...d.filter(e=>!r.find(n=>o(n,e)))]}function i(e,n,t){return[...e.filter(e=>!n.find(n=>t(n,e)))]}function o(e,n,t){let r=n.findIndex(n=>t(e,n));return -1===r?[...n,e]:[...n.slice(0,r),...n.slice(r+1)]}t.d(n,{MJ:function(){return o},bO:function(){return i},gf:function(){return r}})},313768:function(e,n,t){"use strict";t.d(n,{k:function(){return m},w:function(){return u}});var r=t(312253),i=t(581945),o=t(388361),a=t(52954),s=t(843987),d=t(694620),l=t(628497),c=t(586430);function u(e,n){if("string"==typeof e){let{data:t}=(0,c.ZP)(e);return(0,i.ZP)(()=>{let{team:e,id:n}=t;if(!n)throw Error("missing `id`");return`${(0,s.PP)("v2")}/${n}/aliases${(0,d.c)({teamId:e?e.id:null})}`},e=>(0,a.I)(e,{throwOnHTTPError:!0}),n)}if("object"==typeof e||void 0===e)return(0,i.ZP)(()=>{let{team:n,id:t,teamId:r}=e;if(!t)throw Error("missing `id`");return`${(0,s.PP)("v2")}/${t}/aliases${(0,d.c)({teamId:r??(n?n.id:null)})}`},e=>(0,a.I)(e,{throwOnHTTPError:!0}),n);throw Error("Wrong argument type")}function m(e,n){var t;let{limit:i=20,domains:d,rollbackDeploymentId:c}=e,{isReady:u,team:m}=(0,l.t7)(),h=(0,o.ZP)((e,n)=>{if(!u)return null;let t=`${s.sL}`,r=(null==d?void 0:d.map(e=>`domain=${encodeURIComponent(e)}`).join("&"))||null;if(!e)return`${t}${f({limit:i+1,teamId:null==m?void 0:m.id,rollbackDeploymentId:c},r)}`;let o=(null==n?void 0:n.aliases)&&n.aliases.length>i?n.aliases[i-1].createdAt:null;return o?`${t}${f({limit:i+1,teamId:null==m?void 0:m.id,until:o},r)}`:null},e=>(0,a.I)(e,{throwOnHTTPError:!0}),n),p=(0,r.useMemo)(()=>h.data?[].concat(...h.data.filter(Boolean).map(e=>e.aliases.slice(0,i))):[],[h.data,i]),g=!!h.data&&!h.error,x=!!(h.data&&0===p.length),b=()=>h.setSize(e=>e+1),v=!!(h.data&&h.size>h.data.length),j=h.data&&(null===(t=h.data[h.data.length-1])||void 0===t?void 0:t.aliases.length)<=i;return[h,{aliases:p,initialDataLoaded:g,isEmpty:x,loadMore:b,isLoadingMore:v,isReachingEnd:j}]}function f(e,n){let t=(0,d.c)(e,!1),r=n?`&${n}`:"";return t?`?${t}${r}`:`?${r}`}},639049:function(e,n,t){"use strict";t.d(n,{J:function(){return u},s:function(){return c}});var r=t(312253),i=t(581945),o=t(388361),a=t(52954),s=t(843987),d=t(694620),l=t(628497);function c(){var e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,{isReady:i,team:c}=(0,l.t7)(),u=(0,o.ZP)((e,r)=>{if(!i)return null;let o=(null==t?void 0:t.filters)?function(e){let n={expired:e.expired};return e.renewOn&&e.renewOff?n.renew=[!0,!1]:e.renewOn?n.renew=!0:e.renewOff&&(n.renew=!1),JSON.stringify(n)}(t.filters):void 0;if(!e)return`${s.dQ}${(0,d.c)({limit:21,teamId:null==c?void 0:c.id,or:o,search:n})}`;let a=(null==r?void 0:r.domains)&&r.domains.length>20?r.domains[19].createdAt:null;return a?`${s.dQ}${(0,d.c)({limit:21,teamId:null==c?void 0:c.id,or:o,until:a,search:n})}`:null},e=>(0,a.I)(e,{throwOnHTTPError:!0}),t),m=(0,r.useMemo)(()=>u.data?[].concat(...u.data.filter(Boolean).map(e=>e.domains.slice(0,20))):[],[u.data]),f=!!u.data,h=!!(u.data&&0===m.length),p=()=>u.setSize(e=>e+1),g=!!(u.data&&u.size>u.data.length),x=u.data&&(null===(e=u.data[u.data.length-1])||void 0===e?void 0:e.domains.length)<=20;return[u,{domains:m,initialDataLoaded:f,isEmpty:h,loadMore:p,isLoadingMore:g,isReachingEnd:x}]}function u(e){let{limit:n=20,until:t}=e,{isReady:r,team:o}=(0,l.t7)();return(0,i.ZP)(()=>r?`${s.dQ}${(0,d.c)({limit:n,teamId:null==o?void 0:o.id,until:t})}`:null,e=>(0,a.I)(e,{throwOnHTTPError:!0}))}},58700:function(e,n,t){"use strict";t.d(n,{G:function(){return i}});var r=t(872820);let i=(0,r.H1)('<path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/><path d="M12 11v6"/><path d="M9 14h6"/>')},992321:function(e,n,t){"use strict";t.d(n,{g:function(){return i}});var r=t(872820);let i=(0,r.H1)('<path d="M2.707 7.454V5.62C2.707 4.725 3.469 4 4.409 4h4.843c.451 0 .884.17 1.204.474l.49.467c.126.12.296.186.473.186h8.399c.94 0 1.55.695 1.55 1.59v.737m-18.661 0h-.354a.344.344 0 00-.353.35l.508 11.587c.015.34.31.609.668.609h17.283c.358 0 .652-.269.667-.61L22 7.805a.344.344 0 00-.353-.35h-.278m-18.662 0h18.662"/>')},44090:function(e){e.exports={content:"delete-domains-warn-modal_content__umEK9",inset:"delete-domains-warn-modal_inset__QjXi3",subitem:"delete-domains-warn-modal_subitem__NPdWG",outset:"delete-domains-warn-modal_outset__UDIMK",loadingItem:"delete-domains-warn-modal_loadingItem__kIlSa"}},430426:function(e){e.exports={h1:"heading_h1__M475C",h2:"heading_h2___pllG",h3:"heading_h3__mXqPo",h4:"heading_h4____MFa",h5:"heading_h5__UFgsd",span:"heading_span__kTMuL",command:"heading_command__7yxPL"}},160518:function(e){e.exports={internal:"link_internal__6K48J",error:"link_error__nW_2H","no-underline":"link_no-underline__wlT8S",disabled:"link_disabled__avm8H","in-warning":"link_in-warning__l8E1W",external:"link_external__Zkcct",anchor:"link_anchor__FVwJM",underlineOnHover:"link_underlineOnHover__PdhNz"}},816465:function(e){e.exports={paragraph:"text_paragraph__cc0Nr",large:"text_large__3bHlQ",div:"text_div__og85n",pdiv:"text_pdiv__S_Dt0",bold:"text_bold__DpNVD",hr:"text_hr__DcAz2",blockquote:"text_blockquote__sdGn5"}},206973:function(e){e.exports={gradientOverlay:"domains_gradientOverlay__Vjv6X",search:"domains_search__pRHvg",hidden:"domains_hidden__4Nw7_"}}}]);