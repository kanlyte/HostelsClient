(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54467],{300425:function(e,n,t){"use strict";t.d(n,{P:function(){return a},c:function(){return c}});var i=t(4799),r=t(312253),l=t(14517),s=t(591449),o=t.n(s);let a=e=>{let{title:n,children:t,className:s,...a}=e;return r.Children.count(t)?(0,i.jsxs)("details",{className:(0,l.W)(s,o().item),...a,children:[(0,i.jsx)("summary",{className:o().summary,children:(0,i.jsx)("div",{children:n})}),(0,i.jsx)("div",{className:o().content,children:t})]}):(0,i.jsx)("div",{className:o().childless,children:n})},c=e=>{let{children:n,className:t,...r}=e;return(0,i.jsx)("div",{className:(0,l.W)(t,o().subitem),...r,children:n})}},121490:function(e,n,t){"use strict";t.d(n,{O:function(){return o},q:function(){return s}});var i=t(4799),r=t(258998),l=t(681021);let s=e=>{let{children:n,...t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ZP,{Component:"h1",center:!0,h3:!0,noMargin:!0,...t,children:n}),(0,i.jsx)(l.L,{})]})},o=e=>{let{children:n,...t}=e;return(0,i.jsx)(r.ZP,{noMargin:!0,preset:"body-2",type:"secondary",...t,children:n})}},656846:function(e,n,t){"use strict";t.d(n,{CF:function(){return a},DR:function(){return l},E3:function(){return o},NE:function(){return p},Ss:function(){return s},r_:function(){return c},ui:function(){return u},wn:function(){return v}});var i=t(312253),r=t(687684);let l=20,s={DESTINATION_SELECT:"destination-select",CREATE_TEAM:"create-team",BILLING:"billing",PAID_FEATURES:"paid-features",REMOVE_PAID_FEATURES:"remove-paid-features",GATHER_DEPS:"gather-deps",OVERVIEW:"overview"},o={step:s.DESTINATION_SELECT,history:[s.DESTINATION_SELECT],destinationId:null,conflict:{hasConflict:!1},paidFeatures:{concurrentBuilds:!0,passwordProtection:!0,previewDeploymentSuffix:!0},transferData:null},a=(0,i.createContext)([o,()=>{}]),c=()=>(0,i.useContext)(a),u=()=>{let[{destinationId:e}]=c(),{teams:n,user:t}=(0,r.Z)();if(!e)return null;if(!e.startsWith("team_"))return t;let i=n&&n.find(n=>n.id===e)||null;return i},d=(e,n)=>{var t,i;if(!(null==e?void 0:null===(t=e.billing)||void 0===t?void 0:t.invoiceItems)||!(null==n?void 0:null===(i=n.billing)||void 0===i?void 0:i.invoiceItems))return{hasConflict:!1};let r={};for(let t of h){let i=e.billing.invoiceItems[t],l=n.billing.invoiceItems[t];if(!i||!i.quantity)continue;let s=(null==l?void 0:l.quantity)||0;i.quantity>s&&(r[t]={newAmount:i.quantity,difference:i.quantity-s,price:(null==l?void 0:l.price)||i.price})}return Object.keys(r).length?{hasConflict:!0,conflicts:r}:{hasConflict:!1}},h=["concurrentBuilds","passwordProtection","previewDeploymentSuffix"],v=e=>{var n;let{dispatch:t,isTeam:i,team:r,destinationAccount:l}=e;if(!l)return;let o=(null==l?void 0:null===(n=l.billing)||void 0===n?void 0:n.plan)==="enterprise";if(i){if(o)return t({type:"SET_STEP",step:s.GATHER_DEPS});let e=d(r,l);t({type:"UPDATE",state:{conflict:e}}),t(e.hasConflict?{type:"SET_STEP",step:s.PAID_FEATURES}:{type:"SET_STEP",step:s.GATHER_DEPS})}else t({type:"SET_STEP",step:s.GATHER_DEPS})},p=e=>{var n,t,i,r;let{team:l,dispatch:o}=e;if(!(null==l?void 0:null===(n=l.billing)||void 0===n?void 0:n.invoiceItems))return o({type:"SET_STEP",step:s.GATHER_DEPS});let a={};return(((null===(t=l.billing.invoiceItems.passwordProtection)||void 0===t?void 0:t.quantity)??0)>=1&&(a.passwordProtection=!0),((null===(i=l.billing.invoiceItems.previewDeploymentSuffix)||void 0===i?void 0:i.quantity)??0)>=1&&(a.previewDeploymentSuffix=!0),((null===(r=l.billing.invoiceItems.concurrentBuilds)||void 0===r?void 0:r.quantity)??0)>=2&&(a.concurrentBuilds=!0),Object.keys(a).length)?(o({type:"UPDATE",state:{conflict:{hasConflict:!0,conflicts:a}}}),o({type:"SET_STEP",step:s.REMOVE_PAID_FEATURES})):o({type:"SET_STEP",step:s.GATHER_DEPS})}},754467:function(e,n,t){"use strict";t.d(n,{Q:function(){return L}});var i=t(4799),r=t(312253),l=t(151854),s=t(560630),o=t(39671),a=t(363847),c=t(899693),u=t(681021),d=t(358089),h=t(794845),v=t(910534),p=t(258998),f=t(756842),m=t(20135),x=t(659978),j=t(300425),E=t(687684),y=t(325981),g=t(67575),T=t(52954),_=t(843987),w=t(513437),S=t(694620),I=t(904861),P=t(348631),b=t(424858),A=t(656846),C=t(635390),N=t.n(C),R=t(121490);let D=e=>{let{close:n,project:t,options:C}=e,{account:D,isTeam:Z}=(0,E.Z)(),[{transferData:$,conflict:H,paidFeatures:z},M]=(0,A.r_)(),F=(0,A.ui)(),U=(0,s.useRouter)(),[q,B]=(0,r.useState)(!1),[G,J]=(0,r.useState)((null==t?void 0:t.name)||""),[V,W]=(0,r.useState)($?null:{message:"Transfer information not found, please go back and try again."}),[,{aliases:Y,loadMore:K,isLoadingMore:Q,isReachingEnd:X}]=(0,y.f)({project:t,limit:A.DR}),{data:ee}=(0,g.Z)(U.query.project),{data:en}=(0,I.Z)(U.query.project),et=!!(null==ee?void 0:ee.envs.some(e=>e.edgeConfigId)),ei=en&&en.integrations.length>0,er=(null==ee?void 0:ee.envs)?ee.envs.filter(e=>"secret"===e.type):[],el=(null==ee?void 0:ee.envs)?ee.envs.filter(e=>"secret"!==e.type):[],es=async e=>{var i,r,s;if(e&&e.preventDefault(),!F)return;if(!G)return W({message:"Please enter a new project name."});B(!0);try{return await (0,w.NU)({name:G,teamId:"id"in F?null==F?void 0:F.id:null}),B(!1),W({message:`Project "${G}" already exists, please use a new name.`})}catch(e){if((0,b.B)(e)&&404!==e.status)return B(!1),W({message:`Project "${G}" already exists, please use a new name.`})}let o=H.hasConflict?{concurrentBuilds:z.concurrentBuilds?(null===(i=H.conflicts.concurrentBuilds)||void 0===i?void 0:i.newAmount)??0:0,passwordProtection:!!z.passwordProtection&&null!==(r=H.conflicts.passwordProtection)&&void 0!==r&&!!r.newAmount,previewDeploymentSuffix:!!z.previewDeploymentSuffix&&null!==(s=H.conflicts.previewDeploymentSuffix)&&void 0!==s&&!!s.newAmount}:{};try{await (0,T.I)(`${(0,_.HJ)("v3")}/${t.name}/transfer${(0,S.c)({teamId:Z?D.id:void 0})}`,{method:"POST",body:JSON.stringify({toAccountId:"id"in F&&F.id||"uid"in F&&F.uid,newProjectName:G,paidFeatures:o}),throwOnHTTPError:!0}),et&&P.co.track(P.s6.PROJECT_TRANSFER_INITIATED_WITH_MISSING_EDGE_CONFIG),ei?P.co.track(P.s6.PROJECT_TRANSFER_INITIATED_WITH_MISSING_INTEGRATIONS):P.co.track(P.s6.PROJECT_TRANSFER_INITIATED),z.concurrentBuilds&&z.passwordProtection&&z.previewDeploymentSuffix?P.co.track(P.s6.PROJECT_TRANSFER_CONFIRMED_PAID_FEATURES):P.co.track(P.s6.PROJECT_TRANSFER_DECLINED_PAID_FEATURES)}catch(e){B(!1),W((0,l.SC)(e));return}setTimeout(()=>{if((null==C?void 0:C.redirectOnSuccess)??!0)U.push("/[teamSlug]/[project]?fromTransfer=1",`/${"slug"in F&&F.slug||"username"in F&&F.username}/${encodeURIComponent(G)}`);else{var e;null==C||null===(e=C.onSuccess)||void 0===e||e.call(C,t),n()}},1e3)};return(0,i.jsxs)("form",{onSubmit:es,children:[(0,i.jsxs)(d.Body,{children:[(0,i.jsx)(R.q,{children:"Transfer Project"}),(0,i.jsxs)(h.Z,{center:!0,row:!0,children:[(0,i.jsxs)(h.Z,{center:!0,flex:"0 0 40%",children:[(0,i.jsx)(v.qE,{hash:null==D?void 0:D.avatar,placeholder:!D,size:64,teamId:Z?null==D?void 0:D.id:null,username:Z?null:null==D?void 0:D.uid}),(0,i.jsx)(u.L,{className:"geist-hide-on-mobile",y:.5}),(0,i.jsx)(p.ZP,{className:"geist-ellipsis geist-hide-on-mobile",noMargin:!0,preset:"body-2",type:"secondary",weight:500,children:null==D?void 0:D.name})]}),(0,i.jsxs)(h.Z,{center:!0,children:[(0,i.jsx)(u.L,{inline:!0,x:.25}),L,(0,i.jsx)(u.L,{inline:!0,x:.25})]}),(0,i.jsxs)(h.Z,{center:!0,flex:"0 0 40%",children:[(0,i.jsx)(v.qE,{hash:null==F?void 0:F.avatar,placeholder:!F,size:64,teamId:F&&"id"in F&&F.id||void 0}),(0,i.jsx)(u.L,{className:"geist-hide-on-mobile",y:.5}),(0,i.jsx)(p.ZP,{className:"geist-ellipsis geist-hide-on-mobile",noMargin:!0,preset:"body-2",type:"secondary",weight:500,children:null==F?void 0:F.name})]})]}),(0,i.jsx)(u.L,{}),(0,i.jsxs)(d.Inset,{children:[(0,i.jsx)(m.I,{error:V||void 0,id:"new-project-name",label:"New Project Name",maxLength:100,onChange:e=>{W(null),J(e.target.value)},placeholder:null==t?void 0:t.name,spellCheck:!1,value:G}),(0,i.jsx)(u.L,{}),(0,i.jsx)(R.O,{children:(0,i.jsxs)(h.Z,{Component:"span",noWrap:!0,row:!0,children:[(0,i.jsx)(o.I,{color:"var(--geist-success)",fill:!0,size:20}),(0,i.jsx)(u.L,{inline:!0,x:1/3})," No downtime or workflow interruptions will be caused."]})}),et?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.L,{}),(0,i.jsx)(x.Z,{fill:!0,label:!1,type:"warning",variant:"contrast",children:"Edge Configs won't be transferred. Deployments of your project will fail until you connect it to an Edge Config in the target account."})]}):null,ei?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.L,{}),(0,i.jsx)(x.Z,{fill:!0,label:!1,type:"warning",variant:"contrast",children:"Integrations won't be transferred. They need to be added again after the transfer is complete."})]}):null]}),$?(0,i.jsxs)(d.Outset,{children:[(0,i.jsx)(k,{count:$.domains.length,title:(0,i.jsxs)("span",{children:[$.domains.length," ",1===$.domains.length?"Domain":"Domains"," will be transferred."]}),children:$.domains.map(e=>(0,i.jsxs)(O,{children:[(0,i.jsx)("span",{title:e.name,children:e.name}),(0,i.jsx)(a.o,{color:"var(--accents-6)",size:16}),(0,i.jsx)("span",{title:e.name,children:e.name})]},e.name))}),(0,i.jsxs)(k,{count:Y.length,title:(0,i.jsxs)("span",{children:[Y.length,Y.length===A.DR&&"+"," ",1===Y.length?"Alias":"Aliases"," will be transferred."]}),children:[Y.map(e=>(0,i.jsxs)(O,{children:[(0,i.jsx)("span",{title:e.alias,children:e.alias}),(0,i.jsx)(a.o,{color:"var(--accents-6)",size:16}),(0,i.jsx)("span",{title:e.alias,children:e.alias})]},e.alias)),Y.length===A.DR&&!X&&(0,i.jsxs)("div",{className:N().inset,children:[(0,i.jsx)(f.Z,{loading:Q,onClick:K}),(0,i.jsx)(u.L,{})]})]}),(0,i.jsx)(k,{count:er.length,title:(0,i.jsxs)("span",{children:[er.length," ",1===er.length?"Secret":"Secrets"," ","will be copied."]}),children:er.map((e,n)=>(0,i.jsxs)(O,{children:[(0,i.jsx)("span",{title:e.key,children:e.key}),(0,i.jsx)(c.C,{color:"var(--accents-6)",size:16}),(0,i.jsx)("span",{title:e.key,children:e.key})]},`secret-${e.key}-${n}`))}),(0,i.jsx)(k,{count:el.length??0,title:(0,i.jsxs)("span",{children:[el.length," Environment"," ",1===el.length?"Variable":"Variables"," will be transferred."]}),children:el.map(e=>(0,i.jsxs)(O,{children:[(0,i.jsx)("span",{title:e.key,children:e.key}),(0,i.jsx)(a.o,{color:"var(--accents-6)",size:16}),(0,i.jsx)("span",{title:e.key,children:e.key})]},e.id))}),(0,i.jsx)(j.P,{title:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:"All Deployments"})," will be transferred."]})}),(0,i.jsx)(u.L,{y:-1})]}):null]}),(0,i.jsxs)(d.Actions,{children:[(0,i.jsx)(d.Action,{disabled:q,onClick:()=>M({type:"BACK"}),type:"secondary",children:"Back"}),(0,i.jsx)(d.Action,{buttonType:"submit",loading:q,children:"Transfer"})]})]})};n.Z=D;let k=e=>{let{title:n,count:t,children:r}=e;return 0===t?null:(0,i.jsx)(j.P,{title:n,children:(0,i.jsx)("div",{className:N().content,children:r})})},O=e=>{let{children:n}=e;return(0,i.jsx)(j.c,{className:N().subitem,children:n})},L=(0,i.jsxs)("svg",{fill:"var(--accents-5)",height:"20",viewBox:"0 0 66 20",width:"66",children:[(0,i.jsx)("path",{d:"M43 10c0 5.523-4.477 10-10 10s-10-4.477-10-10S27.477 0 33 0s10 4.477 10 10zM32.53 6.47a.75.75 0 10-1.06 1.06L33.94 10l-2.47 2.47a.75.75 0 101.06 1.06l3-3a.75.75 0 000-1.06l-3-3z"}),(0,i.jsx)("path",{d:"M.5 9.125v1h2.455v-1H.5zM4.864 9.125v1h3.909v-1h-3.91zM10.682 9.125v1h3.909v-1h-3.91zM16.5 9.125v1h3.91v-1H16.5zM45.59 9.125v1h3.91v-1h-3.91zM51.41 9.125v1h3.908v-1H51.41zM57.227 9.125v1h3.91v-1h-3.91zM63.045 9.125v1H65.5v-1h-2.455z"})]})},513437:function(e,n,t){"use strict";t.d(n,{NU:function(){return s},Sj:function(){return a},e5:function(){return o}}),t(560630);var i=t(843987),r=t(52954),l=t(694620);t(5500);let s=e=>{let{name:n,teamId:t}=e;return(0,r.Z)(`${i.VE}/${encodeURIComponent(n)}${(0,l.c)({teamId:t,deploymentInfo:0})}`,{throwOnHTTPError:!0})},o=e=>{let{id:n,teamId:t}=e;return(0,r.Z)(`${i.VE}/${n}${(0,l.c)({teamId:t})}`,{throwOnHTTPError:!0})},a=e=>(null==e?void 0:e.code)==="tarball_not_found"?"Your codebase could not be retrieved. Please check that your repository is not empty.":(null==e?void 0:e.keyword)==="additionalProperties"?"Additional property `"+e.params.additionalProperty+"` is not allowed. Please check the `vercel.json` or `now.json` file in your repository.":e.message||e.toString()},424858:function(e,n,t){"use strict";t.d(n,{B:function(){return s},X:function(){return o}});var i=t(151854),r=t(939373),l=t(213025);let s=e=>(0,r.x)(e)&&"code"in e;async function o(e){if(e.status>=200&&e.status<300)return e;let{type:n}=(0,l.Q)(e.headers.get("Content-Type")||"text/plain");if("application/json"===n){let n=await e.json();if("error"in n&&s(n.error))throw(0,i.SC)(n.error);if(s(n))throw(0,i.SC)(n)}if("text/plain"===n){let n=await e.text();throw(0,i.SC)(n)}throw Error(e.statusText)}},325981:function(e,n,t){"use strict";t.d(n,{Z:function(){return u},f:function(){return d}});var i=t(312253),r=t(581945),l=t(388361),s=t(52954),o=t(843987),a=t(694620),c=t(628497);function u(e){let{projectId:n,project:t,projectData:i,from:l,limit:u}=e,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,{isReady:h,team:v}=(0,c.t7)();return(0,r.ZP)(()=>{let e=n||t.id||i.project.id;return h?`${o.sL}${(0,a.c)({projectId:e,teamId:null==v?void 0:v.id,from:l||null,limit:u})}`:null},e=>(0,s.I)(e,{throwOnHTTPError:!0}),{refreshInterval:d})}function d(e,n){var t;let{projectId:r,project:u,projectData:d,limit:h}=e,{isReady:v,team:p}=(0,c.t7)(),f=r||u.id||d.project.id,m=(0,l.ZP)((e,n)=>{if(!v)return null;let t={projectId:f,teamId:null==p?void 0:p.id,limit:h+1};if(!e)return`${o.sL}${(0,a.c)(t)}`;let i=(null==n?void 0:n.aliases.length)>h&&(null==n?void 0:n.pagination.next)||null;return i?`${o.sL}${(0,a.c)({...t,until:i})}`:null},e=>(0,s.I)(e,{throwOnHTTPError:!0}),n),x=(0,i.useMemo)(()=>m.data?[].concat(...m.data.map(e=>e.aliases.slice(0,h))):[],[m.data,h]),j=!!m.data,E=j&&0===x.length,y=()=>m.setSize(e=>e+1),g=j&&m.size>m.data.length,T=j&&(null===(t=m.data[m.data.length-1])||void 0===t?void 0:t.aliases.length)<=h;return[m,{aliases:x,initialDataLoaded:j,isEmpty:E,loadMore:y,isLoadingMore:g,isReachingEnd:T}]}},67575:function(e,n,t){"use strict";t.d(n,{W:function(){return u},Z:function(){return c}});var i=t(581945),r=t(52954),l=t(843987),s=t(694620),o=t(628497),a=t(747151);function c(e,n){let{isReady:t,team:l}=(0,o.t7)(),{can:s,isLoading:c}=(0,a.ZP)(),d=s(a.aU.Read,a._z.ProjectEnvVars),h=e&&t&&!c&&d;return(0,i.ZP)(()=>h?u(e,null==l?void 0:l.id):"",e=>(0,r.I)(e,{throwOnHTTPError:!0}),n)}function u(e,n){return`${(0,l.HJ)("v9")}/${encodeURIComponent(e)}/env${(0,s.c)({teamId:n})}`}},904861:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var i=t(581945),r=t(52954),l=t(843987),s=t(694620),o=t(628497);function a(e,n){let{isReady:t,team:a}=(0,o.t7)();return(0,i.ZP)(()=>e&&t?`${(0,l.HJ)("v4")}/${encodeURIComponent(e)}/integrations${(0,s.c)({teamId:null==a?void 0:a.id})}`:"",e=>(0,r.I)(e,{throwOnHTTPError:!0}),n)}},591449:function(e){e.exports={item:"details-table_item__Lb3u8",subitem:"details-table_subitem__SksRh",summary:"details-table_summary__cR_dP",childless:"details-table_childless__5uNeU",content:"details-table_content__4rz1N"}},635390:function(e){e.exports={content:"overview_content__oKLUP",inset:"overview_inset__NHq6A",subitem:"overview_subitem__J6RLY",outset:"overview_outset__CYLI5"}}}]);