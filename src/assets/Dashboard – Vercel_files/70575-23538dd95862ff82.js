(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70575],{955001:function(e,t,r){"use strict";r.d(t,{S2:function(){return i},Z:function(){return o},hK:function(){return n}});let n=[{time:"2023-02-09T20:08:21.905Z",host:"a",value:2602.252127377801},{time:"2023-02-09T20:08:21.905Z",host:"b",value:186.97540795349022},{time:"2023-02-09T22:55:01.905Z",host:"a",value:5271.380209038693},{time:"2023-02-09T22:55:01.905Z",host:"b",value:1738.8333841449855},{time:"2023-02-10T01:41:41.905Z",host:"a",value:9251.686876036172},{time:"2023-02-10T01:41:41.905Z",host:"b",value:4324.55006031871},{time:"2023-02-10T04:28:21.905Z",host:"a",value:9021.953240302044},{time:"2023-02-10T04:28:21.905Z",host:"b",value:9815.11050803415},{time:"2023-02-10T07:15:01.905Z",host:"a",value:1749.1760449488802},{time:"2023-02-10T07:15:01.905Z",host:"b",value:6140.137421994125}],i=[{time:"2023-02-09T20:08:21.903Z",host:"a",value:5561},{time:"2023-02-09T20:08:21.903Z",host:"b",value:4279.05921266218},{time:"2023-02-09T22:55:01.903Z",host:"a",value:4915},{time:"2023-02-09T22:55:01.903Z",host:"b",value:5904.493935563078},{time:"2023-02-10T01:41:41.903Z",host:"a",value:4402.387054813905},{time:"2023-02-10T01:41:41.903Z",host:"b",value:5239.6441740898845},{time:"2023-02-10T04:28:21.903Z",host:"a",value:4196.49159208742},{time:"2023-02-10T04:28:21.903Z",host:"b",value:2107.7011669139756},{time:"2023-02-10T07:15:01.903Z",host:"a",value:4085.815404413367},{time:"2023-02-10T07:15:01.903Z",host:"b",value:4122.293248814569}],o=[{time:"2023-02-09T20:08:21.904Z",host:"a",value:8040.82241333019},{time:"2023-02-09T20:08:21.904Z",host:"b",value:6080.4091113970235},{time:"2023-02-09T22:55:01.904Z",host:"a",value:177.85829515955308},{time:"2023-02-09T22:55:01.904Z",host:"b",value:5290.174044452851},{time:"2023-02-10T01:41:41.904Z",host:"a",value:1576.570095580715},{time:"2023-02-10T01:41:41.904Z",host:"b",value:7476.0013640721845},{time:"2023-02-10T04:28:21.904Z",host:"a",value:7567.941575415915},{time:"2023-02-10T04:28:21.904Z",host:"b",value:5292.90891565113},{time:"2023-02-10T07:15:01.904Z",host:"a",value:2428.6473929339236},{time:"2023-02-10T07:15:01.904Z",host:"b",value:5339.242571195302}]},928932:function(e,t,r){"use strict";r.d(t,{T$:function(){return c},l4:function(){return h},nP:function(){return g}});var n=r(581945),i=r(560630),o=r(843987),a=r(694620),s=r(52954),u=r(628497),l=r(901729),d=r(315573);function c(){let{isReady:e,team:t}=(0,u.t7)();return(0,n.ZP)(e?`${o.H6}${(0,a.c)({teamId:null==t?void 0:t.id})}`:null,async e=>{let t=await (0,s.I)(e,{returnStatus:!0});if("error"in t.body&&(t.status||0)>=400){if(403!==t.status)throw t.body.error;return[]}return t.body},{keepPreviousData:!0})}function h(){let e=(0,i.useRouter)(),t=e.isReady,{pageContext:r}=(0,l.R)(),n=t?(0,d.P)("IndividualTab"===r?e.query.chart:e.query.slug):void 0,{chart:o,isLoading:a}=function(e){let{chartId:t}=e,{data:r,isLoading:n}=c();return{chart:null==r?void 0:r.find(e=>e.id===t),isLoading:n}}({chartId:n});return{chart:o??null,isReady:t&&!a,isLoading:a}}function g(){let{team:e}=(0,u.t7)(),{mutate:t}=(0,n.kY)(),r=`${o.H6}${(0,a.c)({teamId:null==e?void 0:e.id})}`;return()=>t(r)}},360588:function(e,t,r){"use strict";r.d(t,{f:function(){return o},l:function(){return i}});var n=r(312253);let i=(0,n.createContext)({canRunQueries:!1});function o(){return(0,n.useContext)(i)}},796259:function(e,t,r){"use strict";r.d(t,{Df:function(){return _},MI:function(){return C},Yy:function(){return k},ev:function(){return T},h$:function(){return Z},hI:function(){return x},oy:function(){return j},xT:function(){return b}});var n=r(652197),i=r(938101),o=r(312253),a=r(151854),s=r(560630),u=r(61964),l=r(687684),d=r(694620),c=r(843987),h=r(52954),g=r(315573),m=r(348631),f=r(928932),p=r(94988),v=r(671245),y=r(476584),w=r(901729);function b(e){let{storedChart:t,onSuccessHandler:r}=e,{team:n,user:i}=(0,l.Z)(),o=n?n.id:null==i?void 0:i.uid,s=(0,u.e1)(),g=(0,f.nP)(),m=async e=>{if(!(null==t?void 0:t.id)||!i)return;let[n,u]=C(e);if(n){s.error(n);return}try{await (0,h.I)(`${(0,c.jg)(t.id)}${(0,d.c)({teamId:o===i.uid?null:o})}`,{method:"PATCH",throwOnHTTPError:!0,body:{title:u}}),await g(),r&&r(),s.success(`Query renamed to '${u}'`)}catch(e){s.error((0,a.SC)(e).message)}};return{handleRenameChart:m}}function x(e){let{onSuccessHandler:t,existingChart:r}=e,{team:n,user:i}=(0,l.Z)(),o=n?n.id:null==i?void 0:i.uid,s=(0,u.e1)(),g=(0,f.nP)(),[p]=R({chart:r}),w=async e=>{let{isDuplicating:u=!1,newTitle:l,newFolderId:f}=e;if(!i||!o)return;let w=f??(null==r?void 0:r.data.folderId)??i.uid,b=l||((null==r?void 0:r.data.title)??""),[x,R]=C(b);if(x){s.error(x);return}try{let e=await (0,h.I)(`${c.pG}${(0,d.c)({teamId:o===i.uid?null:o})}`,{method:"POST",throwOnHTTPError:!0,body:{query:(0,v.A)(p),title:R,folderId:w}});await g(),t&&t();let r=o===i.uid,a=o===(null==n?void 0:n.id),l=r?y.g.USER:y.g.TEAM;if(u){let e="template";r?e="personal":a&&(e="team"),m.co.track(m.s6.MONITORING_DUPLICATE_QUERY,{folder:l,queryType:e}),s.success("Query duplicated")}else m.co.track(m.s6.MONITORING_CREATE_QUERY,{folder:l}),s.success("Query created");return e}catch(e){s.error((0,a.SC)(e).message)}};return{handleSaveNewChart:w}}function R(e){let{chart:t}=e,r=(0,p.f)(t??null),[i,a]=(0,n.XI)({startTime:n.SS.integer.withDefault(r.startTime),deltaTime:n.SS.integer.withDefault(r.deltaTime),visualize:n.SS.string.withDefault(r.visualize),groupBy:n.SS.string.withDefault(r.groupBy),where:n.SS.string.withDefault(r.where),g:n.SS.stringEnum(Object.values(y.H)).withDefault(r.g),h:n.SS.string.withDefault(r.h),md:n.SS.integer.withDefault(r.md),title:n.SS.string.withDefault(r.title)},{history:"push"}),s=(0,o.useCallback)(e=>a(e,{scroll:!1,shallow:!0}),[a]);return[i,s]}function T(e){let{search:t}=e,{data:r,isLoading:n,error:i}=(0,f.T$)(),{team:a,user:u}=(0,l.Z)(),d=a?a.id:null==u?void 0:u.uid,c=(0,s.useRouter)(),{pageContext:h}=(0,w.R)(),m=(0,g.P)("IndividualTab"===h?c.query.chart:c.query.slug),{storedTeamCharts:p,storedUserCharts:v}=function(e,t,r){let n=null==e?void 0:e.filter(e=>e.data.folderId===t||void 0===e.data.folderId),i=null==e?void 0:e.filter(e=>e.data.folderId===r);return{storedTeamCharts:n,storedUserCharts:i}}(r,d,null==u?void 0:u.uid),y=(0,o.useMemo)(()=>t?{storedTeamCharts:null==p?void 0:p.filter(e=>e.data.title.toLowerCase().includes(t.toLowerCase())),storedUserCharts:null==v?void 0:v.filter(e=>e.data.title.toLowerCase().includes(t.toLowerCase())),templateCharts:S.filter(e=>e.title.toLowerCase().includes(t.toLowerCase()))}:{storedTeamCharts:p,storedUserCharts:v,templateCharts:S},[t,p,v]),b=(0,o.useMemo)(()=>!!m&&(v||[]).some(e=>e.id===m),[m,v]),x=(0,o.useMemo)(()=>!!m&&(p||[]).some(e=>e.id===m),[m,p]),R=t.length>0&&y.storedTeamCharts&&0===y.storedTeamCharts.length,T=t.length>0&&y.storedUserCharts&&0===y.storedUserCharts.length,k=t.length>0&&0===y.templateCharts.length,Z=(null==p?void 0:p.length)===0,C=(null==v?void 0:v.length)===0;return{storedTeamCharts:p,storedUserCharts:v,filteredCharts:y,isLoading:n,error:i,teamQueriesFolderHasNoQueries:Z,userQueriesFolderHasNoQueries:C,allSectionsHaveNoSearchResults:R&&T&&k,templateQueriesFolderHasNoSearchResults:k,teamQueriesFolderHasNoSearchResults:R,userQueriesFolderHasNoSearchResults:T,isTeamQuery:x,isPersonalQuery:b,queryId:m}}let S=[{title:"Requests by Hostname",query:{visualize:"sum(requests)",groupBy:"host"}},{title:"Requests by Project",query:{visualize:"sum(requests)",groupBy:"project_id"}},{title:"Requests by IP Address",query:{visualize:"sum(requests)",groupBy:"public_ip"}},{title:"Requests by Bot/Crawler",query:{visualize:"sum(requests)",groupBy:"bot_name"}},{title:"Requests by User Agent",query:{visualize:"sum(requests)",groupBy:"user_agent"}},{title:"Requests by Region",query:{visualize:"sum(requests)",groupBy:"region"}},{title:"Bandwidth by Optimized Image",query:{visualize:"sum(bandwidth_total)",where:"request_path = '/_next/image' OR request_path = '/_vercel/image'",groupBy:"source_path"}},{title:"Bandwidth by Project, Hostname",query:{visualize:"sum(bandwidth_outgoing)",groupBy:"host, project_id"}},{title:"Bandwidth by Path, Hostname",query:{visualize:"sum(bandwidth_outgoing)",groupBy:"host, source_path"}},{title:"Request Cache Hits",query:{visualize:"sum(requests)",where:"cache = 'HIT'"}},{title:"Request Cache Misses",query:{visualize:"sum(requests)",where:"cache = 'MISS'"}},{title:"429 Status Codes by Host, Path",query:{visualize:"sum(requests)",where:"status == 429",groupBy:"host, source_path"}},{title:"5XX Status Codes by Host, Path",query:{visualize:"sum(requests)",where:"status >= 500",groupBy:"host, source_path"}},{title:"Execution by Host, Path",query:{visualize:"sum(execution)",groupBy:"host, source_path"}}],k=()=>{let{isTeam:e,team:t}=(0,l.Z)(),{pageContext:r}=(0,w.R)();return"IndividualTab"===r?e&&t?`/dashboard/${t.slug}/monitoring`:"/dashboard/monitoring":e&&t?`/dashboard/${t.slug}/observe/metrics`:"/dashboard/observe/metrics"},Z=70,C=e=>{let t=e.trim();return""===t?["Title cannot be empty",t]:t.length>Z?[`Title cannot be longer than 70 characters. The current length is ${t.length}.`,t]:[void 0,t]},[j,_]=(0,i.Z)(R,e=>({query:{...e[0]},setQuery:e[1]}))},374970:function(e,t,r){"use strict";r.d(t,{U:function(){return a},n:function(){return s}});var n=r(540851),i=r(938592),o=r(683862);let a="$$";function s(e,t){let r=t.split(",").map(e=>e.trim()),s=new Map,u=e=>{if(""===t)return"All Data";let n=r.map(t=>e[t]);return n.every(e=>!e)?i.Zi:n.join(a)},l=!0;for(let t of e){var d;if("region"in t){let e=t.region;"string"==typeof t.region&&t.region in o.bT&&(e=o.bT[t.region]),t.region=e}"project_id"in t&&"project_name"in t&&""!==t.project_name&&(t.project_id=t.project_name);let e=u(t);e!==i.Zi&&(l=!1),s.has(e)||s.set(e,[]);let r=(0,n.Z)(t.time);null===(d=s.get(e))||void 0===d||d.push({...t,date:r,key:e})}return l?new Map:s}},94988:function(e,t,r){"use strict";r.d(t,{f:function(){return o}});var n=r(355344),i=r(476584);function o(e){let t={startTime:Date.now(),deltaTime:(0,n.Z)("-3days"),visualize:"sum(requests)",groupBy:"",where:"",g:i.H.hour,h:"",md:10,title:"Draft"};if(e){var r,o;let n=e.data.query;t.startTime=n.deltaTime<0?Date.now():n.startTime,t.deltaTime=n.deltaTime,t.visualize=n.visualize.expression,t.groupBy=(null===(r=n.groupBy)||void 0===r?void 0:r.join())??"",t.where=(null===(o=n.where)||void 0===o?void 0:o.expression)??"",t.g=n.granularity??t.g,t.md=n.limit??t.md,t.title=e.data.title}return t}},671245:function(e,t,r){"use strict";function n(e){return{visualize:{expression:e.visualize,name:e.visualize},startTime:e.startTime,deltaTime:e.deltaTime,granularity:e.g,groupBy:e.groupBy.split(",").map(e=>e.trim()),limit:e.md,where:{expression:e.where}}}r.d(t,{A:function(){return n}})},153737:function(e,t,r){"use strict";r.d(t,{Lo:function(){return O},kJ:function(){return G},RM:function(){return H}});var n=r(4799),i=r(338217),o=r(476838),a=r(273710),s=r(822068),u=r(678931),l=r(583245),d=r(966223),c=r(144555),h=r(115157),g=r(574170),m=r(257599),f=r(573528),p=r(312253),v=r(648669),y=r(139378),w=r(249012),b=r(906076),x=r(530472),R=r(574794),T=r(417075),S=r(280760);function k(e){let{left:t,height:r,width:i,canBrush:o,onDragging:a,onBrushEnd:s,children:u}=e,{x:l=0,dx:d,isDragging:c,dragStart:h,dragEnd:g,dragMove:m}=(0,S.Z)({resetOnStart:!0}),f=Math.min(l,l+d)-t,v=f+Math.abs(d),y=(0,p.useCallback)(e=>{s({x0:f,x1:v}),g(e)},[f,v,g,s]);return(0,n.jsxs)(n.Fragment,{children:[u,c?(0,n.jsx)("rect",{fill:"var(--geist-foreground)",height:r,opacity:.2,stroke:"var(--geist-foreground)",style:{pointerEvents:"none",cursor:"move"},width:Math.abs(d),x:Math.min(l,l+d)-t,y:0}):null,(0,n.jsx)("rect",{fill:"transparent",height:r,onMouseDown:h,onMouseMove:e=>{o&&!c?h(e):c&&(a&&a(),m(e))},onMouseUp:e=>{c&&y(e)},pointerEvents:o?"all":"none",width:i})]})}let Z=()=>{let[e,t]=(0,p.useState)(!1);return{canBrush:e,setCanBrush:t}};var C=r(938592),j=r(355344),_=r(307172),M=r(366173),P=r(583062),A=r(990888);let L={position:"relative",backgroundColor:"var(--geist-background)",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",border:"1px solid rgba(0, 0, 0, 0.08)",boxShadow:"var(--shadow-small)",lineHeight:"1em"},$=function(e){let t,{children:r,left:i=0,offsetLeft:o=0,offsetTop:a=0,style:s=L,top:u=0,unstyled:l=!1,isPinned:d,...c}=e,h=(0,p.createRef)(),[g,m]=(0,p.useState)({ownBounds:null,parentBounds:null}),{ownBounds:f,parentBounds:v}=g;if(f&&v){let e=i,r=u,n=!1;if(v.width){let t=e+o+f.width-v.width,r=f.width-e-o;n=t>0&&t>r}else{let t=e+o+f.width-window.innerWidth,r=f.width-e-o;n=t>0&&t>r}e=n?e-f.width-o:e+o,r=r-f.height-a,t=`translate(${e=Math.round(e)}px, ${r=Math.round(r)}px)`}return(0,A.Z)(()=>{let e=h.current;if(!e)return;let t=e.parentNode,r=e.getBoundingClientRect(),n=t.getBoundingClientRect();m({ownBounds:r,parentBounds:n})},[]),(0,n.jsx)("div",{ref:h,style:{left:0,top:0,transform:t,position:"absolute",zIndex:10,pointerEvents:d?"initial":"none"},children:(0,n.jsx)(P.Z,{style:{...!l&&{...s,cursor:d?"initial":"none"}},...c,children:r})})};var U=r(469866),q=r.n(U);function D(e){let t=Object.entries(e.datum??[]).filter(e=>{let[t]=e;return"time"!==t&&"date"!==t&&"__hidden"!==t});return t.sort((e,t)=>{let[r,n]=e,[i,o]=t;return o-n||r.localeCompare(i)}),{date:e.nearestDatumXInverted,values:t}}let E=e=>e;function B(e){let{left:t,top:r,tooltipData:i,colorScale:o,isTooltipPinned:a,onTooltipItemMouseEnter:s,onTooltipItemMouseLeave:u,formatter:l,dataKeyFormatter:d=E}=e,{values:c}=D(i);return(0,n.jsx)($,{isPinned:a,left:t,offsetLeft:24,style:{...L,padding:"4px",borderRadius:"var(--geist-radius)",border:"none",boxShadow:a?"var(--shadow-large)":"var(--shadow-medium)",backgroundColor:a?"var(--accents-1)":"var(--geist-background",maxHeight:"calc(32px * 15)",overflow:"auto"},top:r,children:c.map(e=>{let[t,r]=e,i=o(t);return(0,n.jsx)("div",{className:q().row,onMouseEnter:()=>{s(t)},onMouseLeave:u,children:(0,n.jsxs)(b.K,{align:"baseline",className:q().contents,direction:"row",gap:3,justify:"space-between",children:[(0,n.jsxs)(b.K,{align:"center",className:q().key,direction:"row",gap:2,children:[(0,n.jsx)(M.C,{className:q().icon,color:i,fill:!0,size:11}),(0,n.jsx)(x.x,{children:d(t)})]}),(0,n.jsx)(x.x,{as:"span",className:q().value,children:l(r)})]})},t)})})}var I=r(477115),N=r(167117),z=r.n(N);let F={left:60,right:0,top:30,bottom:30},O=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc","#8d4e91","#cb774d","#cb584d","#4dcb97","#7c4c28","#36696e"];function H(e){let{height:t,data:r,parentWidth:n,isLoading:i,error:o,margins:a=F}=e,s="number"==typeof n?n:Number.NaN,u="number"==typeof s?s-a.left-a.right:Number.NaN,l=t-a.top-a.bottom,d=(0,p.useMemo)(()=>[...r.keys()],[r]),c=(0,p.useMemo)(()=>(0,C.xH)(r),[r]),h=(0,p.useMemo)(()=>(0,C.SG)(c,d),[d,c]),g=0===c.length&&0===h.length,[m,f]=(0,p.useState)(null),{lineXScale:v,lineYScale:y,barStackYScale:b,barDateScale:x,colorScale:R}=(0,p.useMemo)(()=>(0,C.yu)(c,h,d,u,l,O),[c,h,d,u,l]),[S,k]=(0,p.useState)(null),Z=(0,w.Z)(),j=()=>{Z.hideTooltip(),k(null)},_=Object.fromEntries(d.map(e=>[e,R(e)])),M=(0,T.Av)();return{width:s,height:t,innerGraphWidth:u,innerGraphHeight:l,allData:c,allDataGroupedByTime:h,allDataKeys:d,lineXScale:v,lineYScale:y,barStackYScale:b,barDateScale:x,colorScale:R,seriesColor:_,activeDataKey:m,setActiveDataKey:f,sliceDatum:S,setSliceDatum:k,tooltipProps:Z,closeTooltip:j,shouldShowPlaceholders:!i&&!!o||g,isMobile:M}}function G(e){let{data:t,allDataKeys:r,allDataGroupedByTime:i,height:o,width:a,lineXScale:s,lineYScale:u,barDateScale:l,barStackYScale:d,colorScale:c,hideTooltipOnMouseLeave:h,innerGraphWidth:g,innerGraphHeight:m,activeDataKey:f,onRangeChosen:v,chartType:w,setSliceDatum:T,shouldShowPlaceholders:S,tooltipProps:k,onTooltipItemMouseEnter:Z,onTooltipItemMouseLeave:C,tooltipFormatter:j,tooltipDataKeyFormatter:_,configuration:M={},margins:P=F}=e,[A,L]=(0,p.useState)(!1),[$,U]=(0,p.useState)({x:0,y:0});(0,p.useEffect)(()=>{function e(){A||U({x:window.scrollX,y:window.scrollY})}return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[A]);let{tooltipData:q,tooltipLeft:D,tooltipTop:E,tooltipOpen:N,hideTooltip:O}=k;return S?(0,n.jsxs)("div",{className:z().placeholder,children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{className:z().message,children:(0,n.jsxs)(b.K,{direction:"column",gap:2,children:[(0,n.jsx)(x.x,{size:14,weight:500,children:"No Data"}),(0,n.jsx)(x.x,{color:"accents-5",size:14,children:"There's no data available for your query."})]})})]}):(0,n.jsx)(R.Z,{onClick:()=>{A&&(L(!1),O(),null==T||T(null))},render:e=>{let{innerRef:p}=e;return(0,n.jsxs)("div",{ref:p,style:{position:"relative"},children:[(0,n.jsx)(K,{activeDataKey:f,allDataGroupedByTime:i,allDataKeys:r,barDateScale:l,barStackYScale:d,chartType:w,colorScale:c,configuration:M,data:t,height:o,hideTooltipOnMouseLeave:h,innerGraphHeight:m,innerGraphWidth:g,isTooltipPinned:A,lineXScale:s,lineYScale:u,margins:P,onRangeChosen:v,setIsTooltipPinned:L,setSliceDatum:T,tooltipProps:k,width:a}),N&&q?(0,n.jsxs)("span",{className:z().tooltips,children:[(0,n.jsx)(B,{colorScale:c,dataKeyFormatter:_,formatter:j,isTooltipPinned:A,left:D??0,onTooltipItemMouseEnter:Z,onTooltipItemMouseLeave:C,tooltipData:q,top:(0,y.clamp)(E??0,Math.min(144+P.bottom+$.y,m+P.top),m+P.top)},Math.random()),E?(0,n.jsx)(I.x,{colorScale:c,tooltipData:q,top:m,x:(0,y.clamp)(D??0,2*P.left,g-P.right)},Math.random()):null]}):null]})}})}function K(e){let{data:t,allDataKeys:r,allDataGroupedByTime:y,height:w,width:b,lineXScale:x,lineYScale:R,barDateScale:T,barStackYScale:S,colorScale:M,hideTooltipOnMouseLeave:P,innerGraphWidth:A,innerGraphHeight:L,activeDataKey:$,onRangeChosen:U,chartType:q,setSliceDatum:E,configuration:B={},tooltipProps:I,isTooltipPinned:N,setIsTooltipPinned:z,margins:O=F}=e,{canBrush:H,setCanBrush:G}=Z(),K=(0,p.useCallback)(e=>{let{x0:t,x1:r}=e;if(r-t>50){let e=x.invert(t),n=x.invert(r);null==U||U({x0:e,x1:n})}z(!1)},[x,U,z]),W=(0,p.useMemo)(()=>T.domain().map(e=>{let t=T(e);return{date:e,x:t}}),[T]),{tooltipData:X,showTooltip:Y,hideTooltip:Q}=I,J=(0,p.useCallback)(e=>{if(N)return;let{x:t,y:r}=(0,l.Z)(e)||{x:0,y:0},n="line"===q?function(e){let{data:t,xScale:r,yScale:n,x:i,y:o,margins:a=F}=e,s=n.invert(o),u=r.invert(i-a.left),l=(0,C.w0)(u,t),d=r((0,C.nZ)(l)??0);return{nearestDatumX:d,nearestDatumXInverted:u,y:o,yInverted:s,datum:l}}({data:y,xScale:x,yScale:R,x:t,y:r,chartType:q,margins:O}):function(e){let{data:t,barDateScale:r,barDateScaleValues:n,yScale:i,x:o,y:a,margins:s=F}=e,u=i.invert(a),l=r.bandwidth()/2,d=(0,v.Z)(n,e=>Math.abs(e.x-(o-s.left-l))),c=((null==d?void 0:d.x)??0)+l,h=null==d?void 0:d.date,g=(0,C.w0)(h,t);return{nearestDatumX:c,nearestDatumXInverted:h,y:a,yInverted:u,datum:g}}({data:y,barDateScale:T,barDateScaleValues:W,yScale:R,x:t,y:r,chartType:q,margins:O});Y({tooltipLeft:t,tooltipTop:r,tooltipData:n}),E&&E(D(n))},[y,T,W,q,N,x,R,E,Y,O]);return(0,n.jsx)("svg",{height:w,onMouseLeave:()=>{N||P||Q()},onMouseMove:J,onPointerDown:()=>{G(!0),z(e=>!e)},onPointerUp:()=>{G(!1)},width:"100%",children:(0,n.jsxs)(c.Z,{left:void 0!==B.hideYAxis&&B.hideYAxis?0:O.left,top:O.top,children:[(0,n.jsxs)(k,{canBrush:void 0!==B.disableBrush?!B.disableBrush:H,height:L,left:O.left,onBrushEnd:K,onDragging:()=>{Q()},width:A,children:[void 0===B.hideGridRows||B.hideGridRows?null:(0,n.jsx)(d.Z,{numTicks:4,pointerEvents:"none",scale:R,stroke:"var(--accents-2)",strokeDasharray:"4,4",width:A}),"bar"===q&&(0,n.jsx)(h.Z,{color:M,data:y,keys:r,x:C.nZ,xScale:T,yScale:S,children:e=>e.map(e=>e.bars.map(t=>(0,n.jsx)(g.Z,{fill:t.color,fillOpacity:null!==$&&t.key!==$?.5:1,height:t.height,width:t.width,x:t.x,y:t.y},`bar-stack-bar-${e.index}-${t.index}`)))}),"line"===q&&(0,n.jsx)(n.Fragment,{children:[...t.entries()].map((e,t)=>{let[r,i]=e;return(0,n.jsx)(c.Z,{children:(0,n.jsx)(m.Z,{cursor:"crosshair",curve:u.Z,data:i,onMouseMove:J,stroke:M(r),strokeOpacity:null!==$&&r!==$?.5:1,strokeWidth:r===$?2:1,x:e=>x((0,C.nZ)(e)??0),y:e=>R((0,C.Ff)(e))})},`lines-${r}`)})})]}),(0,n.jsx)(i.Z,{hideAxisLine:!0,hideTicks:!0,numTicks:4,scale:R,stroke:"var(--accents-3)",tickFormat:e=>(0,C.nr)(Number(e)),tickLabelProps:()=>({...(0,s.leftTickLabelProps)(),fontSize:12,fill:"var(--accents-3)",pointerEvents:"none"}),tickStroke:"var(--accents-3)"}),(0,n.jsx)(o.Z,{hideTicks:!0,numTicks:4,rangePadding:0,scale:"line"===q?x:T,stroke:"var(--accents-3)",tickFormat:e=>(function(e,t){let r=t[1].getTime()-t[0].getTime()<=(0,j.Z)("1d");return(0,_.Z)(e,r?{hour:"numeric",hour12:!1}:{month:"numeric",day:"numeric"})})(String(e),x.domain()),tickLabelProps:(e,t,r)=>({...(0,a.bottomTickLabelProps)(),fill:"var(--accents-3)",fontSize:12,textAnchor:r.length-1!==t?"middle":"end",pointerEvents:"none"}),tickStroke:"var(--accents-3)",top:L}),X?(0,n.jsxs)("g",{children:[(0,n.jsx)(f.Z,{from:{x:X.nearestDatumX,y:0},pointerEvents:"none",stroke:"var(--accents-4)",strokeWidth:1,to:{x:X.nearestDatumX,y:w-O.top-O.bottom}}),"line"===q&&Object.entries(X.datum??{}).filter(e=>{let[t]=e;return"date"!==t&&"time"!==t}).map(e=>{let[t,r]=e;return(0,n.jsx)("circle",{cx:X.nearestDatumX,cy:R(r),fill:"black",fillOpacity:.1,pointerEvents:"none",r:3,stroke:M(t),strokeOpacity:1,strokeWidth:1},`tooltip-circle-${t}`)})]}):null]})})}},477115:function(e,t,r){"use strict";r.d(t,{v:function(){return u},x:function(){return l}});var n=r(4799),i=r(583062),o=r(349177),a=r(361888),s=r.n(a);function u(e){return null==e?void 0:e.toLocaleString(navigator.language,{hour:"numeric",minute:"2-digit",day:"numeric",year:"2-digit",month:"2-digit"})}function l(e){var t;let{x:r,top:a,tooltipData:l}=e;return(0,n.jsx)(i.Z,{className:s().tooltipContainer,left:r,offsetLeft:0,offsetTop:0,top:a,unstyled:!0,children:(0,n.jsx)(o.Ct,{className:s().badge,size:"sm",children:u(null===(t=l.datum)||void 0===t?void 0:t.date)})})}},938592:function(e,t,r){"use strict";r.d(t,{Ff:function(){return g},SG:function(){return f},Zi:function(){return c},nZ:function(){return h},nr:function(){return y},w0:function(){return v},xH:function(){return m},yu:function(){return p}});var n=r(589729),i=r(927772),o=r(306232),a=r(219028),s=r(357873),u=r(59901),l=r(631349),d=r(910590);let c="__hidden";function h(e){return null==e?void 0:e.date}function g(e){return e.value}function m(e){return Array.from(e.values()).reduce((e,t)=>e.concat(t),[])}function f(e,t){let r=e.map(e=>{let{time:r,date:n}=e;return[r,{time:r,date:n,...Object.fromEntries(t.map(e=>[e,0]))}]}),n=new Map(r);return e.forEach(e=>{let{time:t,key:r,value:i}=e,o=n.get(t);o&&(o[r]=i)}),[...n.values()].sort((e,t)=>e.date.getTime()-t.date.getTime())}function p(e,t,r,l,d,c,m){let f=(0,n.Z)({domain:(0,s.Z)(e,h),range:[0,l]}),p=(0,i.Z)({domain:[0,(0,u.Z)(e,g)],range:m||[d,0]}),v=(0,o.Z)({domain:e.map(e=>h(e)??new Date).sort((e,t)=>e.getTime()-t.getTime()),paddingInner:.3,range:[0,l]}),y=(0,a.Z)({domain:r,range:c}),w=e=>r.reduce((t,r)=>{if("number"==typeof e[r]){let n=e[r];return t+n}return t},0),b=(0,i.Z)({domain:[0,(0,u.Z)(t,w)],range:[d,0]});return{lineXScale:f,lineYScale:p,barStackYScale:b,barDateScale:v,colorScale:y}}function v(e,t){let r=e.getTime(),n=(0,l.Z)((e,t)=>e.date.getTime()-t),i=n.center(t,r);return t[i]}function y(e){return e>1e3?(0,d.P)(e):e.toFixed(2)}},683862:function(e,t,r){"use strict";r.d(t,{UA:function(){return T},Xx:function(){return S},bT:function(){return k}});let n="https://assets.vercel.com/image/upload/front/flags",i={name:"San Francisco, USA",key:"sfo1",cardinal:"West",flagURL:`${n}/us.svg`,providerRegion:"us-west-1",CFRegion:"SJC",worldRegion:"North America"},o={name:"Washington, D.C., USA",key:"iad1",cardinal:"East",flagURL:`${n}/us.svg`,providerRegion:"us-east-1",CFRegion:"IAD",worldRegion:"North America"},a={name:"Portland, USA",cardinal:"West",key:"pdx1",flagURL:`${n}/us.svg`,providerRegion:"us-west-2",CFRegion:"SEA",worldRegion:"North America"},s={name:"Cleveland, USA",cardinal:"East",key:"cle1",flagURL:`${n}/us.svg`,providerRegion:"us-east-2",CFRegion:"ORD",worldRegion:"North America"},u={name:"S\xe3o Paulo, Brazil",cardinal:"East",key:"gru1",flagURL:`${n}/br.svg`,providerRegion:"sa-east-1",CFRegion:"GRU",worldRegion:"South America"},l={name:"Hong Kong",cardinal:"East",key:"hkg1",flagURL:`${n}/hk.svg`,providerRegion:"ap-east-1",CFRegion:"HKG",worldRegion:"Asia Pacific"},d={name:"Tokyo, Japan",cardinal:"Northeast",key:"hnd1",flagURL:`${n}/jp.svg`,providerRegion:"ap-northeast-1",CFRegion:"NRT",worldRegion:"Asia Pacific"},c={name:"Osaka, Japan",cardinal:"Northeast",key:"kix1",flagURL:`${n}/jp.svg`,providerRegion:"ap-northeast-3",CFRegion:"KIX",worldRegion:"Asia Pacific"},h={name:"Seoul, South Korea",cardinal:"Northeast",key:"icn1",flagURL:`${n}/kr.svg`,providerRegion:"ap-northeast-2",CFRegion:"ICN",worldRegion:"Asia Pacific"},g={name:"Singapore",cardinal:"Southeast",key:"sin1",flagURL:`${n}/sg.svg`,providerRegion:"ap-southeast-1",CFRegion:"SIN",worldRegion:"Asia Pacific"},m={name:"Mumbai, India",cardinal:"South",key:"bom1",flagURL:`${n}/in.svg`,providerRegion:"ap-south-1",CFRegion:"BOM",worldRegion:"Asia Pacific"},f={name:"Sydney, Australia",cardinal:"Southeast",key:"syd1",flagURL:`${n}/au.svg`,providerRegion:"ap-southeast-2",CFRegion:"SYD",worldRegion:"Asia Pacific"},p={name:"Paris, France",cardinal:"West",key:"cdg1",flagURL:`${n}/fr.svg`,providerRegion:"eu-west-3",CFRegion:"CDG",worldRegion:"Europe"},v={name:"Stockholm, Sweden",cardinal:"North",key:"arn1",flagURL:`${n}/se.svg`,providerRegion:"eu-north-1",CFRegion:"ARN",worldRegion:"Europe"},y={name:"Brussels, Belgium",cardinal:"West",key:"bru1",flagURL:`${n}/eu.svg`,providerRegion:"eu-central-1",CFRegion:"BRU",worldRegion:"Europe"},w={name:"Dublin, Ireland",cardinal:"West",key:"dub1",flagURL:`${n}/ie.svg`,providerRegion:"eu-west-1",CFRegion:"DUB",worldRegion:"Europe"},b={name:"London, United Kingdom",cardinal:"West",key:"lhr1",flagURL:`${n}/uk.svg`,providerRegion:"eu-west-2",CFRegion:"LHR",worldRegion:"Europe"},x={name:"Frankfurt, Germany",cardinal:"West",key:"fra1",flagURL:`${n}/de.svg`,providerRegion:"eu-central-1",CFRegion:"FRA",worldRegion:"Europe"},R={name:"Cape Town, South Africa",cardinal:"South",key:"cpt1",flagURL:`${n}/za.svg`,providerRegion:"af-south-1",CFRegion:"CPT",worldRegion:"Africa"},T={cdg1:p,arn1:v,bru1:y,dub1:w,lhr1:b,iad1:o,sfo1:i,pdx1:a,cle1:s,gru1:u,hkg1:l,hnd1:d,icn1:h,sin1:g,bom1:m,syd1:f,fra1:x,cpt1:R,kix1:c};t.ZP=T;let S={Europe:[p,v,y,w,b,x],"North America":[o,i,a,s],"South America":[u],"Asia Pacific":[l,d,h,g,m,f,c],Africa:[R]},k={arn1:"Stockholm, Sweden",bom1:"Mumbai, India",cdg1:"Paris, France",cle1:"Cleveland, Ohio",cpt1:"Cape Town, South Africa",dub1:"Dublin, Ireland",fra1:"Frankfurt, Germany",gru1:"S\xe3o Paulo, Brazil",hkg1:"Hong Kong",hnd1:"Tokyo, Japan",iad1:"Washington, DC., USA",icn1:"Seoul, South Korea",kix1:"Osaka, Japan",lhr1:"London, United Kingdom",pdx1:"Portland, USA",sfo1:"San Francisco, USA",sin1:"Singapore",syd1:"Sydney, Australia",dev1:"localhost"}},910590:function(e,t,r){"use strict";r.d(t,{P:function(){return o},c:function(){return a}});var n=r(824446);let i=["","k","M","G","T","P","E"],o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short";if("number"!=typeof e)return"–";if("short"!==t)return(0,n.x)(Math.round(e));let r=Math.log10(Math.abs(e))/3|0;if(0===r)return String(Math.round(e));let o=i[r];return[Math.round(e/Math.pow(10,3*r)),o].filter(Boolean).join(" ")};function a(e){let{singular:t,plural:r}=e;return(e,n)=>{let i=o(e,n);return"long"===n?`${i} ${1===e?t:r}`:i}}},136225:function(e,t,r){"use strict";r.d(t,{Q:function(){return o},g:function(){return i}});var n=r(824446);let i=e=>{if("number"!=typeof e)return"–";if(e<60)return`${e.toFixed(0)} s`;let t=Math.round(e/3600);return t<1?`${Math.round(e/60)} m`:`${(0,n.x)(t)} h`},o=e=>"number"!=typeof e?"–":i(Math.round(e/1e3),"short")},824446:function(e,t,r){"use strict";r.d(t,{k:function(){return o},x:function(){return i}});var n=r(136225);function i(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function o(e,t){if(0===e)return t===n.g?300:5;let r=Math.pow(10,Math.floor(Math.log10(e)));e=Math.ceil(10*e/r)*r/10;let i=5*r;if(e>=3*r&&e<=i)return i;let o=r/10,a=0;for(;!function(e){let r=e/5,n=new Set([0,r,2*r,3*r,4*r,e].map(e=>t(e)));return 6===n.size}(e);)e+=o,++a>=10&&(o*=10,a=0);return e}},307172:function(e,t){"use strict";let r=(e,t)=>{let r=navigator.language;return new Date(e).toLocaleString(r,t)};t.Z=r},688319:function(e,t,r){"use strict";r.d(t,{v:function(){return o}});var n=r(4799),i=r(14517);function o(e){let{children:t,className:r,full:o}=e;return(0,n.jsx)("div",{className:(0,i.W)("geist-wrapper",{full:o},r),children:t})}},167117:function(e){e.exports={placeholder:"graph_placeholder__Q3Ncj",message:"graph_message__tMcUE",tooltips:"graph_tooltips__vA7eK"}},469866:function(e){e.exports={contents:"results-tooltip_contents__usLAe",key:"results-tooltip_key__z3p8v",value:"results-tooltip_value__pfzj7",icon:"results-tooltip_icon__uOyJI",row:"results-tooltip_row___hLm4"}},361888:function(e){e.exports={tooltipContainer:"time-tooltip_tooltipContainer__FUT7T",badge:"time-tooltip_badge__IZoYZ"}}}]);