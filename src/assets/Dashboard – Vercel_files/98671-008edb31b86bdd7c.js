(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98671],{596944:function(e,n,t){"use strict";t.d(n,{h:function(){return f}});var r=t(4799),o=t(14517),i=t(779810),l=t(910534),a=t(314194),c=t(450969),u=t(999250),d=t.n(u),s=t(856740),v=t.n(s);function f(e){let{framework:n,deploymentId:t,size:u=20}=e,{data:s}=(0,c.Z)(t?{id:t}:void 0),f=(0,a.mk)({framework:n});return!f||t&&void 0===s?(0,r.jsx)(i.O,{height:u,rounded:!0,style:{flexShrink:0},width:u}):(0,r.jsx)(l.qE,{className:(0,o.W)({[v().favicon]:!!(!s||!s.isSquare),[d().frameworkIcon]:!!(!s&&n)}),size:u,src:(null==s?void 0:s.src)||f.logo,title:`${f.name}`})}},728236:function(e,n,t){"use strict";function r(e){var n,t;if("number"==typeof(null===(n=e.resourceConfig)||void 0===n?void 0:n.edgeConfigSize))return 1e3*e.resourceConfig.edgeConfigSize;switch(null===(t=e.billing)||void 0===t?void 0:t.plan){case"enterprise":return 512e3;case"pro":return 64e3;default:return 8e3}}function o(e){var n,t;if("number"==typeof(null===(n=e.resourceConfig)||void 0===n?void 0:n.edgeConfigs))return 1e3*e.resourceConfig.edgeConfigs;switch(null===(t=e.billing)||void 0===t?void 0:t.plan){case"enterprise":return 10;case"pro":return 3;default:return 1}}t.d(n,{HX:function(){return o},iO:function(){return i},io:function(){return r}});let i=52},186868:function(e,n,t){"use strict";t.d(n,{v:function(){return O},U:function(){return y}});var r=t(4799),o=t(906076),i=t(312253),l=t(560677),a=t(13452),c=t(358089),u=t(52954),d=t(843987),s=t(694620),v=t(728236),f=t(348066),p=t(61964),h=t(188555),m=t(687684),g=t(170617),j=t(464801),x=t(20135),P=t(799690),w=t(239918),$=t(150966);function I(e){var n,t;let{advancedOptions:i,tokenLabelPlaceholder:l,onAdvancedOptionsChange:a,isLoading:c}=e;return(0,r.jsxs)(o.K,{gap:6,children:[(0,r.jsx)(w.Q,{environments:i.environments,error:null===(n=i.error)||void 0===n?void 0:n.environments,onChange:e=>a({...i,environments:e,error:{...i.error,environments:void 0}})}),(0,r.jsx)($.j,{isExpandedDefault:!!i.error,children:(0,r.jsxs)(o.K,{gap:3,children:[(0,r.jsx)(o.K,{gap:3,children:(0,r.jsx)(x.I,{"aria-label":"Environment Variable",disabled:c,error:null===(t=i.error)||void 0===t?void 0:t.envVarName,label:"Environment Variable",onChange:e=>a({...i,envVarName:e.currentTarget.value,error:{...i.error,envVarName:void 0}}),placeholder:"EDGE_CONFIG",value:i.envVarName,width:"100%"})}),(0,r.jsx)(P.Z,{margin:0}),(0,r.jsx)(o.K,{gap:3,children:(0,r.jsx)(x.I,{"aria-label":"Token label",disabled:c,label:"Token label",maxLength:v.iO,onChange:e=>a({...i,tokenName:e.currentTarget.value}),placeholder:l,value:i.tokenName,width:"100%"})})]})})]})}function y(e){let{edgeConfig:n,title:t,subtitle:j,ProjectSelector:x,onClickOutside:P,onConnectionCreated:w,project:$}=e,{mutate:y}=(0,l.i)(),[O,E]=(0,i.useState)({envVarName:"",tokenName:"",environments:{[f.r.Development]:!0,[f.r.Preview]:!0,[f.r.Production]:!0}}),[T,C]=(0,i.useState)(!1),[_,S]=(0,i.useState)(null),{team:k}=(0,m.Z)(),b=(0,g.Z)($);(0,i.useEffect)(()=>{null!==O.error&&(!$||b&&$.id!==b.id)&&E({...O,error:null})},[O,b,$]);let Z=(0,i.useMemo)(()=>{if(!$)return"";let e=$.name.slice(0,v.iO-6);return`${e.replace(/-*$/g,"")}-token`},[$]),H=O.tokenName||Z,D=O.envVarName||"EDGE_CONFIG",N=(0,i.useCallback)(async e=>{if(e.preventDefault(),!n||T||!$)return;let t=[f.r.Production,f.r.Preview,f.r.Development].filter(e=>O.environments[e]);try{if(S(null),C(!0),E({...O,error:null}),0===t.length){E({...O,error:{environments:"Select at least one Environment for your Environment Variable"}}),C(!1);return}let e=!!$.env&&$.env.some(e=>e.key===D&&("string"==typeof e.target?t.includes(e.target):e.target.some(e=>t.includes(e))));if(e){E({...O,error:{envVarName:1===t.length?`This project already has an environment variable called ${D} in the chosen environment.`:`This project already has an environment variable called ${D} in one of the chosen environments.`}}),C(!1);return}let r=await (0,u.I)(`${d.PL}/${n.id}/token${(0,s.c)({teamId:null==k?void 0:k.id})}`,{method:"POST",throwOnHTTPError:!0,body:{label:H}});await (0,h.mT)($.id,[{name:D,value:`https://edge-config.vercel.com/${n.id}?token=${r.token}`,type:f.t.Encrypted,target:t}],null==k?void 0:k.id),await w(),P(),p.Vy.success(`Connected Project ${$.name} to Edge Config ${n.slug}`),await y()}catch(e){if(e instanceof Error)S(e);else throw e}finally{C(!1)}},[n,T,$,O,null==k?void 0:k.id,H,D,w,P,y]);return(0,r.jsxs)("form",{onSubmit:e=>void N(e),children:[(0,r.jsx)(c.Body,{children:(0,r.jsxs)(o.K,{gap:6,children:[(0,r.jsx)(c.Title,{children:t}),j?(0,r.jsx)(c.Subtitle,{children:j}):null,(0,r.jsx)(c.Inset,{last:!0,children:(0,r.jsxs)(o.K,{gap:6,children:[x,(0,r.jsx)(I,{advancedOptions:O,isLoading:T,onAdvancedOptionsChange:E,tokenLabelPlaceholder:$?Z:""}),_?(0,r.jsx)(a.Z,{children:_.message}):null]})})]})}),(0,r.jsxs)(c.Actions,{children:[(0,r.jsx)(c.Action,{onClick:P,children:"Cancel"}),(0,r.jsx)(c.Action,{buttonType:"submit",disabled:!$||""===D.trim()||""===H.trim(),loading:T,children:"Connect"})]})]})}function O(e){let{active:n,edgeConfig:t,onClickOutside:o,onConnectionCreated:l,onAnimationDone:a}=e,[u,d]=(0,i.useState)(null),{team:s,user:v}=(0,m.Z)(),f=s?s.slug:null==v?void 0:v.username;return(0,r.jsx)(c.Modal,{active:n,allowOverflow:!0,onAnimationDone:a,onClickOutside:o,width:540,children:(0,r.jsx)(y,{ProjectSelector:(0,r.jsx)(j.l,{account:f,allowSelectConnectedProjects:!0,includedInConnectedProjects:e=>{var n;return(null==e?void 0:null===(n=e.env)||void 0===n?void 0:n.some(e=>e.edgeConfigId===(null==t?void 0:t.id)))??!1},onProjectSelected:e=>{d(e)},selectedProject:u}),edgeConfig:t,onClickOutside:o,onConnectionCreated:l,project:u,title:"Connect Project"})})}},150966:function(e,n,t){"use strict";t.d(n,{j:function(){return s}});var r=t(4799),o=t(312253),i=t(291320),l=t(906076),a=t(530472),c=t(14517),u=t(956144),d=t.n(u);function s(e){let{children:n,isExpandedDefault:t}=e,[u,s]=(0,o.useState)(t);return(0,o.useEffect)(()=>{t&&s(t)},[t]),(0,r.jsxs)(l.K,{className:(0,c.W)(u&&d().advancedOptionsWrapperExpanded),children:[(0,r.jsxs)("div",{"aria-label":"Advanced Options",className:d().advancedOptionsButton,onClick:e=>{e.preventDefault(),s(e=>!e)},onKeyDown:e=>{("Enter"===e.code||"Space"===e.code)&&(e.preventDefault(),s(e=>!e))},role:"button",tabIndex:0,children:[(0,r.jsx)(i._,{color:"var(--accents-5)",size:20,style:{transition:"transform 200ms ease",transform:u?"rotate(90deg)":"rotate(0deg)"}}),(0,r.jsx)(a.x,{color:"accents-5",weight:500,children:"Advanced Options"})]}),u?(0,r.jsx)(l.K,{className:d().advancedOptionsExpanded,children:n}):null]})}},239918:function(e,n,t){"use strict";t.d(n,{Q:function(){return d}});var r=t(4799),o=t(906076),i=t(530472),l=t(954898),a=t(120885),c=t(13452),u=t(348066);function d(e){let{environments:n,error:t,onChange:d}=e;return(0,r.jsx)(l.Z,{value:"Environments",children:(0,r.jsxs)(o.K,{gap:3,children:[(0,r.jsx)(i.x,{color:"accents-5",lineHeight:16,size:13,children:"Choose which environments of the project to make this store available to."}),(0,r.jsxs)(o.K,{direction:"row",gap:4,children:[(0,r.jsx)(a.Z,{checked:n[u.r.Production],onChange:()=>{d({...n,[u.r.Production]:!n[u.r.Production]})},children:"Production"}),(0,r.jsx)(a.Z,{checked:n[u.r.Preview],onChange:()=>{d({...n,[u.r.Preview]:!n[u.r.Preview]})},children:"Preview"}),(0,r.jsx)(a.Z,{checked:n[u.r.Development],onChange:()=>{d({...n,[u.r.Development]:!n[u.r.Development]})},children:"Development"})]}),t?(0,r.jsx)(c.Z,{children:t}):null]})})}},464801:function(e,n,t){"use strict";t.d(n,{l:function(){return g}});var r=t(4799),o=t(312253),i=t(114978),l=t.n(i),a=t(349177),c=t(906076),u=t(530472),d=t(237609),s=t(37690),v=t(231655),f=t(659978),p=t(596944),h=t(596642),m=t.n(h);function g(e){var n,t;let{allowSelectConnectedProjects:i,selectedProject:h,account:g,onProjectSelected:j,...x}=e,[P,w]=(0,o.useState)(""),$=(0,o.useMemo)(()=>l()(w,500),[]),{data:I}=(0,s.ZP)({limit:8,search:P,latestDeployments:null},{},g),y=e=>!!e&&("connectedProjectIds"in x?x.connectedProjectIds.includes(e.id):x.includedInConnectedProjects(e)),O=y(h);return(0,r.jsxs)(c.K,{gap:4,children:[(0,r.jsxs)(v.Z,{filter:e=>e,onChange:e=>{let n=(null==I?void 0:I.projects.find(n=>n.id===e))??null,t=y(n);(!t||i)&&j(n)},placeholder:"Select Project",prefixIcon:h?(0,r.jsx)(p.h,{deploymentId:(null===(n=h.latestDeployments)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.id)??"",framework:h.framework,size:20}):null,value:(null==h?void 0:h.name)??null,children:[(0,r.jsx)(v.Z.Input,{onChange:e=>$(e.target.value)}),(0,r.jsx)(v.Z.List,{emptyMessage:I?P?`No project found with the name "${P}".`:"No project under this account.":"Loading...",children:null==I?void 0:I.projects.map(e=>{var n,t;let o=y(e);return(0,r.jsxs)(v.Z.Option,{className:m().storeSelectorProjectOption,disabled:o&&!i,value:e.id,children:[(0,r.jsxs)(c.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(p.h,{deploymentId:null===(n=e.latestDeployments)||void 0===n?void 0:null===(t=n[e.latestDeployments.length-1])||void 0===t?void 0:t.id,framework:e.framework,size:20}),(0,r.jsx)(u.x,{weight:600,children:e.name})]}),o?(0,r.jsx)(a.Ct,{variant:"gray",children:"connected"}):null]},e.id)})})]}),O&&i?(0,r.jsx)(f.Z,{fill:!0,label:!1,type:"secondary",variant:"contrast",children:(0,r.jsxs)(c.K,{direction:"column",children:[(0,r.jsxs)(c.K,{direction:"row",gap:2,children:[(0,r.jsx)(d.k,{className:m().infoIcon,size:20}),(0,r.jsx)(u.x,{color:"geist-foreground",lineHeight:24,weight:500,children:"This project has already been connected to this store"})]}),(0,r.jsx)(u.x,{color:"accents-5",children:"To connect it again, use a different Environment Variable Name."})]})}):null]})}},937216:function(e,n,t){"use strict";t.d(n,{$:function(){return o},t:function(){return i}});var r=t(312253);let o=32,i=e=>{let{projectName:n,storeType:t}=e,[i,l]=(0,r.useState)("");return(0,r.useEffect)(()=>{if(n&&n.length>0){let e="edge-config"===t?"-store":`-${t}`;l(t=>""===t?[n.replaceAll("_","-").substr(0,o-e.length),e].join(""):t)}},[n,t]),[i,l]}},180945:function(e,n,t){"use strict";t.d(n,{b:function(){return o}});var r=t(312253);function o(e){let[n,t]=(0,r.useState)(!1),o=(0,r.useCallback)(()=>{t(!1)},[]),i=(0,r.useCallback)(()=>{t(!0)},[]),[l,a]=(0,r.useState)(0),c=(0,r.useCallback)(()=>{a(e=>e+1)},[a]);return[i,{active:n,onClickOutside:o,key:`${e}${String(l)}`,onAnimationDone:c}]}},188555:function(e,n,t){"use strict";t.d(n,{FR:function(){return a},Fy:function(){return s},ie:function(){return d},mT:function(){return u},sx:function(){return c}});var r=t(348066),o=t(52954),i=t(843987),l=t(694620);function a(e){return e.startsWith("VERCEL_")}function c(e){return e.map(e=>{let n,t=e.type;return void 0===t&&(t=a(e.name)?r.t.System:r.t.Encrypted),e.target&&(n=Array.isArray(e.target)?e.target:[e.target]),{type:t,key:e.name,value:t===r.t.System?e.name:e.value,target:n??[r.r.Production,r.r.Preview,r.r.Development],gitBranch:e.gitBranch}})}async function u(e,n,t){let r=c(n);return(0,o.I)(`${(0,i.HJ)("v10")}/${e}/env${(0,l.c)({teamId:t})}`,{method:"POST",body:JSON.stringify(r),throwOnHTTPError:!0})}async function d(e){let{projectId:n,key:t,value:r,target:a,type:c,teamId:u,gitBranch:d}=e;await (0,o.I)(`${(0,i.HJ)("v7")}/${n}/env${(0,l.c)({teamId:u})}`,{method:"POST",body:JSON.stringify({key:t,value:r,target:a,type:c,gitBranch:d}),throwOnHTTPError:!0})}async function s(e,n,t){await (0,o.I)(`${(0,i.HJ)("v4")}/${e}/env/${n.key}${(0,l.c)({teamId:t,target:n.target})}`,{method:"DELETE",throwOnHTTPError:!0})}Object.values(r.r),r.r.Production,r.r.Preview,r.r.Development},821795:function(e,n,t){"use strict";function r(e){return e.startsWith("*.")}t.d(n,{Z:function(){return r}})},734610:function(e,n,t){"use strict";t.d(n,{Z:function(){return l},c:function(){return o}});var r=t(821795);function o(e){return[...e||[]].filter(i).sort((e,n)=>l(e.name,n.name))}function i(e){return!e.redirect}function l(e,n){if(e.endsWith(".now.sh")&&!n.endsWith(".now.sh"))return 1;if(!e.endsWith(".now.sh")&&n.endsWith(".now.sh"))return -1;if((0,r.Z)(e)&&!(0,r.Z)(n))return 1;if(!(0,r.Z)(e)&&(0,r.Z)(n))return -1;if(e.endsWith(".vercel.app")&&!n.endsWith(".vercel.app"))return 1;if(!e.endsWith(".vercel.app")&&n.endsWith(".vercel.app"))return -1;let t=e.length-n.length;return 0!==t?t:e.localeCompare(n)}},314194:function(e,n,t){"use strict";t.d(n,{KR:function(){return d},VW:function(){return f},d:function(){return s},ic:function(){return u},mk:function(){return p},zR:function(){return v}});var r=t(560630),o=t(628497),i=t(234048),l=t(586430),a=t(457970),c=t(92371);let u=()=>{let e=(0,r.useRouter)(),{project:n}=e.query;return n},d=e=>{let{isReady:n,team:t}=(0,o.t7)(),{user:r}=(0,i.a)();if(!e)return null;if(n){if(t)return`/${t.slug}/${e.name}`;if(r)return`/${r.username}/${e.name}`}return null},s=(e,n)=>{var t,r;return(0,l.ZP)(null==e?void 0:null===(t=e.targets)||void 0===t?void 0:null===(r=t.production)||void 0===r?void 0:r.id,n)},v=e=>{let{data:n}=(0,c.B8)(e,{limit:1});return n?0===n.length:void 0},f=e=>{var n;return null==e?void 0:null===(n=e.targets)||void 0===n?void 0:n.production},p=e=>{let{data:n}=(0,a.G)();return e&&(null==n?void 0:n.find(n=>n.slug===(e.framework||null)))||null}},603672:function(e,n,t){"use strict";t.d(n,{Dc:function(){return p},FT:function(){return d},R1:function(){return s},RM:function(){return f},Zl:function(){return v},cE:function(){return h}});var r=t(581945),o=t(312253),i=t(52954),l=t(843987),a=t(694620),c=t(628497),u=t(560677);function d(){var e;let n=(0,u.i)(),t=(0,o.useMemo)(()=>{var e;return null===(e=n.data)||void 0===e?void 0:e.stores.filter(e=>"edge-config"===e.type)},[null===(e=n.data)||void 0===e?void 0:e.stores]);return{data:t}}function s(e,n){let{isReady:t,team:o}=(0,c.t7)();return(0,r.ZP)(()=>e&&t?`${l.PL}/${encodeURIComponent(e)}${(0,a.c)({teamId:null==o?void 0:o.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}),n)}function v(e,n){let{isReady:t,team:o}=(0,c.t7)();return(0,r.ZP)(()=>e&&t?`${l.PL}/${encodeURIComponent(e)}/items${(0,a.c)({teamId:null==o?void 0:o.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}),n)}function f(e,n){let{isReady:t,team:o}=(0,c.t7)();return(0,r.ZP)(()=>e&&t?`${l.PL}/${encodeURIComponent(e)}/tokens${(0,a.c)({teamId:null==o?void 0:o.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}),n)}function p(e,n){let{isReady:t,team:o}=(0,c.t7)();return(0,r.ZP)(e&&t?`${l.PL}/${encodeURIComponent(e)}/backups${(0,a.c)({teamId:null==o?void 0:o.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}).then(e=>e.backups),n)}function h(e,n,t){let{isReady:o,team:u}=(0,c.t7)();return(0,r.ZP)(()=>e&&n&&"current"!==n&&o?`${l.PL}/${encodeURIComponent(e)}/backups/${encodeURIComponent(n)}${(0,a.c)({teamId:null==u?void 0:u.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}),t)}},450969:function(e,n,t){"use strict";var r=t(363593),o=t(694620),i=t(628497);let l=(e,n)=>{let{isReady:t,team:l}=(0,i.t7)();return(0,r.Z)(e&&t?[e.id,"favicon"]:null,async e=>{let[n]=e,t=await fetch(`/api/favicon${(0,o.c)({deploymentId:n,teamId:null==l?void 0:l.id})}`);if(!t.ok)return;if(204===t.status)return null;let r=await t.blob(),i=URL.createObjectURL(r);try{return{src:i,isSquare:await a(i)}}catch{return null}},{...n})},a=async e=>new Promise((n,t)=>{let r=document.createElement("canvas"),o=new Image;o.onload=()=>{let{width:e,height:t}=o;r.width=e,r.height=t;let i=r.getContext("2d");null==i||i.drawImage(o,0,0,e,t);let l=(e,n)=>{var t;return((null===(t=null==i?void 0:i.getImageData(e,n,1,1))||void 0===t?void 0:t.data[3])??0)<255};for(let r=0;r<e;r++)if(l(r,0)||l(r,t-1))return n(!1);for(let r=0;r<t;r++)if(l(0,r)||l(e-1,r))return n(!1);n(!0)},o.onerror=()=>{t()},o.src=e});n.Z=l},457970:function(e,n,t){"use strict";t.d(n,{G:function(){return l}});var r=t(363593),o=t(52954),i=t(843987);function l(){return(0,r.Z)(i.Aw,e=>(0,o.I)(e,{throwOnHTTPError:!0}))}},92371:function(e,n,t){"use strict";t.d(n,{B8:function(){return v},C8:function(){return p},Oe:function(){return f},g4:function(){return s}});var r=t(312253),o=t(581945),i=t(388361),l=t(52954),a=t(694620),c=t(843987),u=t(734610),d=t(628497);function s(e,n){let{isReady:t,team:r}=(0,d.t7)();return(0,o.ZP)(e&&t?`${(0,c.z1)("v9")}/${e.projectId}/domains/${e.name}${(0,a.c)({teamId:null==r?void 0:r.id})}`:null,e=>(0,l.I)(e,{throwOnHTTPError:!0}),n)}function v(e){let{limit:n=10,gitBranch:t,production:r,redirect:i,redirects:u,verified:s,order:v}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:f,team:p}=(0,d.t7)();return(0,o.ZP)(e&&f?`${(0,c.z1)("v9")}/${e}/domains${(0,a.c)({limit:n,gitBranch:t,production:r,redirects:u,redirect:i,verified:s,order:v,teamId:null==p?void 0:p.id})}`:null,async e=>{let n=await (0,l.I)(e,{throwOnHTTPError:!0});return n.domains})}function f(e){var n;let{limit:t=20,gitBranch:o,production:u,redirect:s,redirects:v}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments.length>2?arguments[2]:void 0,{isReady:p,team:h}=(0,d.t7)(),m=(0,i.ZP)((n,r)=>{var i;if(!e||!p)return null;let l=`${(0,c.z1)("v9")}/${e}/domains`;if(!n)return`${l}${(0,a.c)({limit:t+1,gitBranch:o,production:u,redirect:s,redirects:v,teamId:null==h?void 0:h.id})}`;let d=((null==r?void 0:null===(i=r.domains)||void 0===i?void 0:i.length)||0)>t?null==r?void 0:r.domains[t-1].createdAt:null;return d?`${l}${(0,a.c)({limit:t+1,gitBranch:o,production:u,redirects:v,teamId:null==h?void 0:h.id,until:d})}`:null},async e=>(0,l.I)(e,{throwOnHTTPError:!0}),f),g=(0,r.useMemo)(()=>m.data?[].concat(...m.data.map(e=>e.domains.slice(0,t))):[],[m.data,t]),j=!!m.data,x=j&&0===g.length,P=()=>m.setSize(e=>e+1),w=m.data&&m.size>m.data.length,$=m.data&&(null===(n=m.data[m.data.length-1])||void 0===n?void 0:n.domains.length)<=t;return[m,{domains:g,initialDataLoaded:j,isEmpty:x,loadMore:P,isLoadingMore:w,isReachingEnd:$}]}function p(e){let{data:n,...t}=v(e,{limit:10,production:"true",redirects:"false",verified:"true",order:"ASC"}),[r=null]=(0,u.c)(n),o=!!(t.error||n);return{domain:r,loaded:o,...t}}},37690:function(e,n,t){"use strict";t.d(n,{MX:function(){return p},ZP:function(){return h},uS:function(){return v},xk:function(){return f}});var r=t(312253),o=t(581945),i=t(388361),l=t(61771),a=t(52954),c=t(843987),u=t(694620),d=t(55991);let s=null;function v(e,n){let{limit:t=8,latestDeployments:r=3,excludeReposRef:o}=e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v9",l=`${(0,c.HJ)(i)}${(0,u.c)({limit:t,latestDeployments:r,slug:n,excludeRepos:(null==o?void 0:o.current[0])??null})}`;s=[l,(0,a.I)(l)]}function f(){var e;let{limit:n=8,latestDeployments:t=3,search:v,excludeReposRef:f,revalidateFirstPage:p=!0,edgeConfigId:h,edgeConfigTokenId:m,connectConfigurationId:g,version:j="v9"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=arguments.length>2&&void 0!==arguments[2]&&arguments[2],w=arguments.length>3&&void 0!==arguments[3]&&arguments[3],$=(0,l.useRouter)(),I=(0,d.Z)(),y=(0,i.ZP)((e,r)=>{if($&&!$.isReady)return null;if(!e)return`${(0,c.HJ)(j)}${(0,u.c)({limit:n,latestDeployments:t,search:v,slug:I,excludeRepos:(null==f?void 0:f.current[0])??null,edgeConfigId:h,edgeConfigTokenId:m,connectConfigurationId:g})}`;let o=(null==r?void 0:r.pagination.next)?r.pagination.next:null;return o?`${(0,c.HJ)(j)}${(0,u.c)({until:o,limit:n,latestDeployments:t,search:v,slug:I,excludeRepos:(null==f?void 0:f.current[e])??null,edgeConfigId:h,edgeConfigTokenId:m,connectConfigurationId:g})}`:null},async e=>{if(s&&s[0]===e){let e=await s[1];return s=null,e}return(0,a.I)(e,{throwOnHTTPError:!0})},{...x,keepPreviousData:w,revalidateFirstPage:p,persistSize:!0}),O=!!y.data,E=!!(y.data&&(null===(e=y.data[y.data.length-1])||void 0===e?void 0:e.projects.length)<n),T=(0,r.useMemo)(()=>y.data?y.data.map(e=>e.projects).flat():[],[y.data]),C=O&&0===T.length,_=()=>y.setSize(e=>e+1),S=!!(y.data&&y.size>y.data.length);return P&&(0,o.ZP)(()=>{if(!y.data||E)return null;let e=y.data[y.data.length-1],r=e.pagination.next?e.pagination.next:null;return`${(0,c.HJ)(j)}${(0,u.c)({until:r,limit:n,latestDeployments:t,search:v,slug:I,excludeRepos:(null==f?void 0:f.current[0])??null,edgeConfigId:h,edgeConfigTokenId:m,connectConfigurationId:g})}`},e=>(0,a.I)(e,{throwOnHTTPError:!0})),[y,{projects:T,initialDataLoaded:O,isEmpty:C,loadMore:_,isLoadingMore:S,isReachingEnd:E,isValidating:y.isValidating}]}function p(){let{enabled:e,limit:n,search:t,latestDeployments:r=3,repo:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,v=s||(0,d.Z)();return(0,o.ZP)(()=>e?`${(0,c.HJ)("v2")}/${(0,u.c)({limit:n,latestDeployments:r,search:t,slug:v,repo:i})}`:null,e=>(0,a.I)(e,{throwOnHTTPError:!0}),l)}function h(){let{limit:e,from:n,linked:t,search:r,hasProductionDomains:i,domain:s,latestDeployments:v=3,deploymentInfo:f,includePermissions:p=!1,edgeConfigId:h,edgeConfigTokenId:m,connectConfigurationId:g,excludeConnectConfigurationId:j}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=arguments.length>2?arguments[2]:void 0,w=P||(0,d.Z)(),$=(0,l.useRouter)();return(0,o.ZP)(()=>$&&!$.isReady?null:`${(0,c.HJ)("v8")}/${(0,u.c)({from:n||null,limit:e,linked:!!t||null,search:r,hasProductionDomains:i?"1":null,domain:s,latestDeployments:void 0===v?null:v,deploymentInfo:f||null,slug:w,includePermissions:p,edgeConfigId:h,edgeConfigTokenId:m,connectConfigurationId:g,excludeConnectConfigurationId:j})}`,e=>(0,a.I)(e,{throwOnHTTPError:!0}),x)}h.preload=e=>`${(0,c.HJ)("v8")}/${(0,u.c)({limit:e,latestDeployments:3})}`},348066:function(e,n,t){"use strict";var r,o,i,l;t.d(n,{r:function(){return r},t:function(){return o}}),(i=r||(r={})).Production="production",i.Preview="preview",i.Development="development",(l=o||(o={})).Plain="plain",l.Secret="secret",l.System="system",l.Encrypted="encrypted",l.Sensitive="sensitive"},856740:function(e){e.exports={favicon:"project-logo_favicon__cL1C7"}},956144:function(e){e.exports={advancedOptionsTitle:"store-advanced-options-expander_advancedOptionsTitle__qA8Ny",advancedOptionsTitleExpanded:"store-advanced-options-expander_advancedOptionsTitleExpanded__Yee0Z",advancedOptionsExpanded:"store-advanced-options-expander_advancedOptionsExpanded__LsREP",advancedOptionsIcon:"store-advanced-options-expander_advancedOptionsIcon__GaYml",advancedOptionsIconExpanded:"store-advanced-options-expander_advancedOptionsIconExpanded__mb5u1",advancedOptionsWrapperExpanded:"store-advanced-options-expander_advancedOptionsWrapperExpanded____JPL",advancedOptionsButton:"store-advanced-options-expander_advancedOptionsButton__JrIcN"}},596642:function(e){e.exports={storeSelectorProjectOption:"store-project-selector_storeSelectorProjectOption__sOJ9t",storeSelectorProjectSelect:"store-project-selector_storeSelectorProjectSelect__DTsuE",storeSelectorProjectSelectedProject:"store-project-selector_storeSelectorProjectSelectedProject__pir_X",storeSelectorProjectSelectedXIcon:"store-project-selector_storeSelectorProjectSelectedXIcon__OO9E7",infoIcon:"store-project-selector_infoIcon__sr9fU"}},999250:function(e){e.exports={frameworkIcon:"framework-icon_frameworkIcon__vdwOe"}}}]);