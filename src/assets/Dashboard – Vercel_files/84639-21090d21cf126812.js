(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84639],{544722:function(e,t,n){"use strict";n.d(t,{A:function(){return A},O:function(){return J}});var s=n(4799),r=n(14517),i=n(312253),l=n(690601),a=n.n(l),c=n(323373),o=n(178187),u=n(573049),d=n(682310),h=n(39671),x=n(906076),p=n(530472),g=n(56280),j=n.n(g),m=n(581945),f=n(349177),_=n(779810),v=n(384208),y=n(167160),b=n(838262),k=n(418013),w=n.n(k);let C=e=>fetch(e).then(e=>e.json()),N=e=>{let{onClose:t}=e,[n,l]=(0,i.useState)(""),[a,c]=(0,i.useState)(!1),[o,h]=(0,i.useState)(0),[x,p]=(0,i.useState)(!1),g=(0,i.useRef)(null),j=(0,i.useRef)(null),f=(0,v.useRouter)(),[_,b]=(0,i.useState)(""),k=(0,y.c)(_,100),{data:N=[],isLoading:W}=(0,m.ZP)(()=>k?`/api/algolia/blog/search?q=${k}`:null,C),z=W||n!==k,K=(0,i.useCallback)(e=>{let t=e.target.value;p(!!t),h(0),l(t),t.length<5||t.endsWith(" "),b(t)},[b]);(0,i.useEffect)(()=>{let e=e=>{var t;let{target:n}=e,s=null===(t=g.current)||void 0===t?void 0:t.contains(n);x&&!s&&p(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[x]);let R=(0,i.useCallback)(e=>{"/"===e.key&&j.current&&document.activeElement!==j.current&&document.activeElement===document.body&&(e.preventDefault(),j.current.focus())},[]);return(0,i.useEffect)(()=>(window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R)}),[R]),(0,s.jsxs)("div",{className:w().container,children:[(0,s.jsxs)("label",{"aria-haspopup":"listbox",className:(0,r.W)(w().label,{[w().focused]:a}),ref:g,children:[(0,s.jsx)("span",{className:w().iconWrapper,children:(0,s.jsx)(u.o,{className:w().icon})}),(0,s.jsx)("span",{className:"geist-sr-only",children:"Search"}),(0,s.jsx)("input",{"aria-autocomplete":"list","aria-controls":"index-blog-output","aria-expanded":x,autoComplete:"off",className:(0,r.W)({[w().input]:!0}),onBlur:()=>c(!1),onChange:K,onFocus:()=>{c(!0),p(!!n)},onKeyDown:e=>{switch(e.key){case"ArrowDown":e.preventDefault(),h(Math.min(N.length-1,o+1));break;case"ArrowUp":e.preventDefault(),h(Math.max(0,o-1));break;case"Enter":{let e=N[o];e&&(f.prefetch(e.entry.url),f.push(e.entry.url))}}},placeholder:"Search posts...",ref:j,role:"combobox",type:"search",value:n}),t?(0,s.jsx)("button",{className:w().closeButton,onClick:t,type:"button",children:(0,s.jsx)(d.X,{className:w().icon})}):null]}),(0,s.jsxs)("ul",{className:w().results,id:"index-blog-output",role:"listbox",style:{display:x?"":"none"},tabIndex:-1,children:[z?(0,s.jsx)(E,{}):null,z||N.length?null:(0,s.jsx)(L,{inputValue:n}),!z&&N.length?N.map((e,t)=>(0,s.jsx)(S,{entry:e.entry,excerpts:e.excerpts,index:t,isChangelog:e.isChangelog,selectedIndex:o,setSelectedIndex:h,titleHighlightRanges:e.titleHighlightRanges},t)):null]})]})};function S(e){let{entry:t,excerpts:n,titleHighlightRanges:r,index:i,selectedIndex:l,setSelectedIndex:a,isChangelog:c}=e,o=(null==n?void 0:n.find(e=>e.text[0].toUpperCase()===e.text[0]))||(null==n?void 0:n[0]);return(0,s.jsx)("li",{"aria-selected":i===l,className:w().result,onKeyDown:function(e){if("Enter"===e.key){var t;null===(t=e.currentTarget.querySelector("a"))||void 0===t||t.click()}},onMouseEnter:()=>a(i),role:"option",tabIndex:0,children:(0,s.jsxs)(b.r,{href:t.url,children:[(0,s.jsxs)(x.K,{align:"center",direction:"row",gap:2,children:[(0,s.jsx)(W,{className:w().title,ranges:r,text:t.title}),(0,s.jsx)(f.Ct,{variant:c?"amber-subtle":"blue-subtle",children:c?"Changelog":"Blog"})]}),(null==o?void 0:o.text)?(0,s.jsx)(W,{className:w().excerpt,ranges:o.highlight_ranges,text:o.text}):null]})})}function W(e){let{text:t,ranges:n,className:r}=e,i=[],l=0;if(!(null==n?void 0:n.length))return(0,s.jsx)("span",{className:r,children:t});for(let[e,s]of n)i.push({str:t.slice(l,e)}),i.push({str:t.slice(e,s),highlight:!0}),l=s;return i.push({str:t.slice(l)}),(0,s.jsx)("div",{className:r,children:i.map(e=>e.highlight?(0,s.jsx)("mark",{className:w().highlight,children:e.str},e.str):(0,s.jsx)("span",{children:e.str},e.str))})}function L(e){let{inputValue:t}=e;return(0,s.jsx)("li",{"aria-selected":"false",className:w().result,role:"option",children:(0,s.jsxs)("div",{className:w().titleNoResult,children:['No results found for "',t,'".',(0,s.jsx)("br",{}),"Try again with a different keyword."]})})}function z(){return(0,s.jsxs)("li",{"aria-selected":"false",className:w().result,role:"option",children:[(0,s.jsxs)(x.K,{direction:"row",gap:2,children:[(0,s.jsx)(_.O,{width:"45%"}),(0,s.jsx)(_.O,{width:"10%"})]}),(0,s.jsx)("div",{className:w().excerpt,children:(0,s.jsx)(_.O,{width:"95%"})})]})}function E(){return(0,s.jsx)(s.Fragment,{children:[0,1].map(e=>(0,s.jsx)(z,{},e))})}var K=(0,i.memo)(N),R=n(263922),Z=n(120885),B=n(20135),I=n(794845),T=n(536212),O=n(358089),P=n(433084),q=n(792126),M=n.n(q),H=n(153289),D=n(611542);let F=(0,i.createContext)({openSubscribeModal:()=>{console.warn("You must render <LayoutHero> inside of a <Layout>")},category:null});function A(e){let{category:t,marketingDescription:n,marketingImage:r,marketingTitle:l,children:a}=e,[h,g]=(0,i.useState)(!1),[j,m]=(0,i.useState)(!1),[f,_]=(0,i.useState)(!1);return(0,s.jsxs)(T.Z,{description:n,image:r,title:l,children:[(0,s.jsxs)("nav",{className:M().nav,children:[(0,s.jsx)(I.Z,{wrapper:!0,children:(0,s.jsx)("div",{className:M().navInner,children:j?(0,s.jsx)(K,{onClose:()=>m(!1)}):(0,s.jsxs)(I.Z,{row:!0,style:{justifyContent:"space-between"},children:[(0,s.jsx)(R.z,{onClick:()=>g(!0),prefix:(0,s.jsx)(c.a,{}),size:"small",style:{paddingLeft:8,paddingRight:8},variant:"ghost",children:(0,s.jsx)(p.x,{weight:700,children:"Categories"})}),(0,s.jsxs)(x.K,{direction:"row",gap:1,children:[(0,s.jsx)(R.z,{Component:"a","aria-label":"RSS Feed",href:"/atom",shape:"square",size:"small",svgOnly:!0,variant:"ghost",children:(0,s.jsx)(o.y,{})}),(0,s.jsx)(R.z,{"aria-label":"Search all blog posts and changelogs",onClick:()=>m(!0),shape:"square",size:"small",svgOnly:!0,variant:"ghost",children:(0,s.jsx)(u.o,{})})]})]})})}),(0,s.jsx)(O.Modal,{active:h,onClickOutside:()=>g(!1),children:(0,s.jsx)(O.Body,{children:(0,s.jsxs)(x.K,{gap:4,style:{paddingBottom:"8px"},children:[(0,s.jsxs)(x.K,{align:"center",direction:"row",justify:"space-between",children:[(0,s.jsx)(p.x,{color:"geist-foreground",size:16,style:{letterSpacing:"-0.01em"},weight:700,children:"Categories"}),(0,s.jsx)(R.z,{"aria-label":"Close",onClick:()=>g(!1),shape:"square",style:{marginRight:-12},svgOnly:!0,variant:"ghost",children:(0,s.jsx)(d.X,{})})]}),(0,s.jsx)(D.NZ,{children:(0,s.jsx)(X,{afterSelect:()=>g(!1),currentCategory:t})}),(0,s.jsx)(D.iB,{children:(0,s.jsx)(G,{afterSelect:()=>g(!1),currentCategory:t})})]})})})]}),(0,s.jsx)("main",{className:M().wrapper,children:(0,s.jsxs)(x.K,{children:[(0,s.jsxs)("div",{className:M().header,children:[(0,s.jsx)(X,{currentCategory:t}),(0,s.jsxs)(x.K,{direction:"row",gap:4,children:[(0,s.jsx)(K,{}),(0,s.jsx)(D.NZ,{children:(0,s.jsx)(R.z,{Component:"a","aria-label":"RSS Feed",href:"/atom",shape:"square",svgOnly:!0,type:"secondary",children:(0,s.jsx)(o.y,{})})})]})]}),(0,s.jsx)("div",{className:M().feed,children:(0,s.jsx)(F.Provider,{value:{openSubscribeModal:()=>{_(!0)},category:t},children:a})})]})}),(0,s.jsx)(U,{currentCategory:t,isShowing:f,onClose:()=>_(!1)},t.id)]})}function J(e){let{title:t,children:n}=e;return(0,s.jsx)("div",{children:(0,s.jsxs)(x.K,{gap:{sm:8,md:12},children:[(0,s.jsxs)(x.K,{gap:{sm:3,md:3,lg:4},children:[(0,s.jsx)(D.NZ,{children:(0,s.jsx)(p.x,{as:"h1",className:(0,r.W)(M().heroTitle),size:40,children:t})}),(0,s.jsx)(D.iB,{children:(0,s.jsx)(p.x,{as:"h1",className:(0,r.W)(M().heroTitle),size:24,children:t})})]}),n||null]})})}function U(e){let{isShowing:t,currentCategory:n,onClose:r}=e,l=H.bd.filter(e=>"all"!==e.id),[c,o]=(0,i.useState)(l.reduce((e,t)=>({...e,[t.id]:"all"===n.id||n.id===t.id}),{})),[u,g]=(0,i.useState)(""),j=e=>{let t=l.reduce((t,n)=>({...t,[n.id]:e}),c);o(t)},m=()=>j(!0),f=()=>j(!1),_=e=>c[e],v=e=>o(t=>({...t,[e]:!t[e]})),y=l.every(e=>_(e.id)),b=l.some(e=>_(e.id)),k=b&&a()(u),[w,C]=(0,i.useState)(!1),[N,S]=(0,i.useState)(!1),W=async e=>{e.preventDefault(),C(!0),await new Promise(e=>{setTimeout(e,2e3)}),S(!0),C(!1)};return(0,s.jsx)(O.Modal,{active:t,onClickOutside:r,children:(0,s.jsxs)(O.Body,{children:[(0,s.jsx)("div",{style:{position:"absolute",top:8,right:8},children:(0,s.jsx)(R.z,{"aria-label":"Close",onClick:r,shape:"square",svgOnly:!0,variant:"ghost",children:(0,s.jsx)(d.X,{})})}),N?(0,s.jsxs)(x.K,{align:"center",gap:6,justify:"center",style:{padding:"56px 16px"},children:[(0,s.jsx)(h.I,{color:"var(--geist-cyan)",fill:!0,size:48}),(0,s.jsxs)(x.K,{align:"center",gap:3,children:[(0,s.jsx)(p.x,{size:24,style:{letterSpacing:"-0.03em"},weight:700,children:"Thanks for subscribing."}),(0,s.jsxs)(p.x,{align:"center",lineHeight:24,size:16,style:{letterSpacing:"-0.01em"},children:["We sent an email to ",u," to confirm your subscription."]})]})]}):(0,s.jsxs)(x.K,{gap:12,style:{paddingTop:24},children:[(0,s.jsx)(p.x,{align:"center",size:24,style:{letterSpacing:"-0.03em"},weight:700,children:"Get the latest updates."}),(0,s.jsx)("form",{onSubmit:e=>void W(e),children:(0,s.jsxs)(x.K,{gap:6,children:[(0,s.jsxs)(x.K,{gap:2,children:[(0,s.jsx)(p.x,{color:"accents-5",lineHeight:12,size:12,transform:"uppercase",weight:600,children:"Subscription"}),(0,s.jsx)(Z.Z,{checked:y,fullWidth:!0,onChange:y?f:m,style:{backgroundColor:y?"var(--accents-2)":"var(--accents-1)",color:y?"var(--geist-foreground)":"var(--accents-5)",padding:12,borderRadius:4},children:"All Posts"}),l.map(e=>(0,s.jsx)(Z.Z,{checked:_(e.id),fullWidth:!0,onChange:()=>v(e.id),style:{backgroundColor:_(e.id)&&!y?"var(--accents-2)":"var(--accents-1)",color:_(e.id)&&!y?"var(--geist-foreground)":"var(--accents-5)",padding:12,borderRadius:4},children:e.name},e.id))]}),(0,s.jsxs)(x.K,{gap:2,children:[(0,s.jsx)(B.I,{id:"subscription-modal-email",label:"Email",onChange:e=>g(e.target.value),required:!0,typeName:"email",value:u}),(0,s.jsx)(R.z,{disabled:!k||w,loading:w,children:"Subscribe"})]})]})})]})]})})}function X(e){let{currentCategory:t}=e;return(0,s.jsx)("ul",{className:M().tabsWrapper,children:H.bd.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(j(),{className:(0,r.W)({[M().active]:e.id===t.id}),href:e.url,children:e.name})},e.id))})}function G(e){let{currentCategory:t,afterSelect:n}=e;return(0,s.jsx)(x.K,{gap:1,children:H.bd.map(e=>(0,s.jsx)(P.Z,{align:"start",className:(0,r.W)(M().categoryLink,{[M().categoryLinkCurrent]:t.id===e.id}),href:e.url,onClick:n,prefix:(0,s.jsx)(e.Icon,{}),variant:"ghost",children:e.name},e.url))})}},831961:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var s=n(21800);let r=(0,s.ZP)((e,t)=>({cache:{},setHighestLoadedPage(t,n){e(e=>({cache:{...e.cache,[t]:n}}))},getHighestLoadedPage(e){let n=t().cache;return n[e]??1}})),i=e=>{let{setHighestLoadedPage:t,getHighestLoadedPage:n}=r();return{setHighestLoadedPage:n=>t(e,n),highestLoadedPage:n(e)}}},120885:function(e,t,n){"use strict";n.d(t,{O:function(){return h}});var s=n(4799),r=n(312253),i=n(14517),l=n(954898),a=n(575092),c=n(380297),o=n(503025),u=n.n(o);let d=e=>{let{label:t,disabled:n,checked:o=!1,className:d,children:h,indeterminate:g,style:j,fullWidth:m,textOverflow:f,..._}=e,v=(0,c.M)("checkbox-"),y=(0,a.B)()||n,b=t?l.Z:r.Fragment;return(0,s.jsx)(b,{...t?{value:t,withInput:!0,id:v}:void 0,children:(0,s.jsxs)(void 0===t?"label":"span",{className:(0,i.W)(u().container,d,{[u().disabled]:n,[u().fullWidth]:m}),"data-version":"v1",style:j,children:[(0,s.jsxs)("span",{className:u().check,children:[h?(0,s.jsx)(s.Fragment,{children:"​"}):null,(0,s.jsx)("input",{..._,checked:o,className:(0,i.W)("geist-sr-only",u().input),disabled:y,id:v,type:"checkbox"}),(0,s.jsx)("span",{"aria-hidden":!0,className:(0,i.W)(u().icon,{[u().indeterminate]:g&&!o,[u().disabled]:y}),children:(0,s.jsx)("svg",{fill:"none",height:16,viewBox:"0 0 20 20",width:16,children:o?x:g?p:null})})]}),h?(0,s.jsx)("span",{className:u().text,style:!1===f?{overflow:"hidden"}:{},children:h}):null]})})};t.Z=(0,r.memo)(d);let h=e=>{let[t,n]=(0,r.useState)(e),s=(0,r.useCallback)(()=>n(e=>!e),[]);return[t,s]},x=(0,s.jsx)("path",{d:"M14 7L8.5 12.5L6 10",stroke:"var(--geist-background)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),p=(0,s.jsx)("line",{stroke:"var(--checkbox-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"5",x2:"15",y1:"10",y2:"10"})},67181:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(4799),r=n(312253),i=n(234048),l=n(621836);function a(e){let t=t=>{let{data:n,isLoading:a,isValidating:c}=(0,i.a)(),o=n?n.user:null;return(0,r.useEffect)(()=>{!o||a||c||l.co.identify(o.uid)},[a,c,o]),(0,s.jsx)(e,{...t,user:o||t.user})};return e.getInitialProps&&(t.getInitialProps=e.getInitialProps.bind(e)),t}},167160:function(e,t,n){"use strict";n.d(t,{c:function(){return i},y:function(){return r}});var s=n(312253);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,s.useRef)(null),r=()=>{n.current&&clearTimeout(n.current)};return(0,s.useEffect)(()=>()=>r(),[]),function(){for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];r(),n.current=setTimeout(()=>{e(...i)},t)}}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[n,r]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let n=setTimeout(()=>r(e),t);return()=>clearTimeout(n)},[e,t]),n}},792126:function(e){e.exports={nav:"layout_nav__Pzp8J",navInner:"layout_navInner__elr0u",wrapper:"layout_wrapper__UM8mp",header:"layout_header__mu_Jh",tabsWrapper:"layout_tabsWrapper__zJJTw",active:"layout_active__CRq7c",heroTitle:"layout_heroTitle__rB3kg",categoryLink:"layout_categoryLink__gX8Bq",categoryLinkCurrent:"layout_categoryLinkCurrent__Gepeq"}},418013:function(e){e.exports={container:"input_container__LT65h",label:"input_label__vYb1d",focused:"input_focused__yzmUG",icon:"input_icon__kN_zM",iconWrapper:"input_iconWrapper___yRwk",input:"input_input__xW92_",closeButton:"input_closeButton__VGeD3",results:"input_results__OcQqf",result:"input_result__fw1yi",title:"input_title__JubxZ",titleNoResult:"input_titleNoResult__y__bS",excerpt:"input_excerpt__oddts",skeletonContainer:"input_skeletonContainer__Ol3Fc",highlight:"input_highlight__SBd5k"}},503025:function(e){e.exports={container:"checkbox_container__XkJAP",fullWidth:"checkbox_fullWidth__tx3v2",disabled:"checkbox_disabled__hsr7H",check:"checkbox_check__SQMWc",text:"checkbox_text__bUZzS",icon:"checkbox_icon__3HIjW",input:"checkbox_input__eRhc0"}}}]);