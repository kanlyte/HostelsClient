(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80863,86306],{445340:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var l=n(4799),i=n(312253),r=n(869480),s=n.n(r),a=n(838262),o=n(804369),c=n(358089),d=n(681021),u=n(20135),h=n(816786);let p=e=>{let{active:t,url:n,onCancel:r}=e,[s,a]=(0,i.useState)(""),p=(0,i.useMemo)(()=>!s||s.includes(".")||!(0,o.isValid)(`${s}.${n}`),[s,n]),m=(0,i.useCallback)(()=>{a(""),r()},[r]),x=(0,i.useCallback)(e=>{e.preventDefault(),window.open((0,h.j)(`${s}.${n}`),"_blank","noopener"),m()},[s,n,m]);return n?(0,l.jsx)(c.Modal,{active:t,onClickOutside:m,children:(0,l.jsxs)("form",{onSubmit:x,children:[(0,l.jsxs)(c.Body,{children:[(0,l.jsx)(c.Title,{children:"Wildcard Domain"}),(0,l.jsx)(d.L,{}),(0,l.jsx)(c.Subtitle,{children:"Enter a subdomain to visit below."}),(0,l.jsx)(d.L,{y:.75}),(0,l.jsx)(u.I,{autoFocus:!0,id:"hostname",label:"Hostname",onChange:e=>a(e.target.value),suffix:`.${n}`,value:s})]}),(0,l.jsxs)(c.Actions,{children:[(0,l.jsx)(c.Action,{onClick:r,children:"Cancel"}),(0,l.jsx)(c.Action,{buttonType:"submit",disabled:p,children:"Visit"})]})]})}):null};var m=(0,i.memo)(p),x=n(874463),g=n(821795),f=n(466867),y=n.n(f);let j=e=>{let{url:t,showIcon:n=!0,...r}=e,[s,o]=(0,x.Z)("#wildcard"),[c,d]=(0,i.useState)(null),[u,p]=(0,i.useState)(!1),f=(0,i.useCallback)(()=>{let e=(0,g.Z)(t)?t.slice(2):t;d(e),o(!0)},[d,o,t]);return t?(0,g.Z)(t)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.r,{className:y().aliasLink,onClick:f,...r,onMouseEnter:()=>p(!0),style:{minWidth:0,maxWidth:r.truncate?"100%":void 0},children:r.truncate?(0,l.jsx)("span",{className:"geist-ellipsis",children:t}):t}),u||s?(0,l.jsx)(m,{active:s,onCancel:()=>o(!1),url:c}):null]}):(0,l.jsx)(a.r,{className:y().aliasLink,external:!0,href:(0,h.j)(t),icon:n,...r,style:{minWidth:0,maxWidth:r.truncate?"100%":void 0},children:r.truncate?(0,l.jsx)("span",{className:"geist-ellipsis",children:t}):t}):null};j.propTypes={url:s().string.isRequired,icon:s().bool,color:s().bool};var v=(0,i.memo)(j)},351185:function(e,t,n){"use strict";var l=n(4799),i=n(14517),r=n(906076),s=n(530472),a=n(794845),o=n(621837),c=n.n(o);let d=e=>{let{children:t,title:n,description:o,message:d,controls:u,hideControlsOnMobile:h,actions:p,darkFold:m,buttons:x,buttonsStackDirection:g,truncateTitle:f,noBorder:y=!1}=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("header",{className:(0,i.W)(c().wrapper,{[c().border]:!y}),children:[(0,l.jsx)(a.Z,{wrapper:!0,children:(0,l.jsxs)(r.K,{align:{sm:"stretch",md:"flex-start",lg:"center"},className:c()["title-container"],direction:{sm:"column",lg:"row"},gap:{sm:6,md:6,lg:10},children:[(0,l.jsxs)(r.K,{direction:"column",flex:1,gap:4,style:{minWidth:f?0:void 0},children:["string"==typeof n?(0,l.jsx)(s.x,{as:"h1",size:32,title:f?n:void 0,truncate:f,weight:500,wrap:!f,children:n}):n,!!o&&(0,l.jsx)(s.x,{color:"accents-5",children:o})]}),!!x&&(0,l.jsx)(r.K,{direction:g||{sm:"column",md:"row",lg:"row"},gap:{sm:4,md:4,lg:4},style:{flexWrap:"wrap"},children:x})]})}),d?(0,l.jsx)("div",{className:c().message,children:d}):null,u||p?(0,l.jsxs)("div",{className:(0,i.W)(c().menu,{[c().center]:!u||!p||h}),children:[u?(0,l.jsx)("div",{className:(0,i.W)(c().controls,{[c().hideOnMobile]:h}),children:u}):(0,l.jsx)("div",{}),p?(0,l.jsx)("div",{className:c().actions,children:p}):(0,l.jsx)("div",{})]}):null]}),m?(0,l.jsx)("div",{className:c()["child-wrapper"],children:(0,l.jsx)("div",{className:c().main,children:t})}):t?(0,l.jsx)("div",{className:c().main,children:t}):null]})};t.Z=d},167970:function(e,t,n){"use strict";var l=n(4799),i=n(943220),r=n.n(i);n(312253);var s=n(560630),a=n(358089),o=n(838262),c=n(258998),d=n(881808);t.Z=function(e){let{active:t,onCancel:n}=e,{teamSlug:i,project:u}=(0,s.useRouter)().query;return(0,l.jsxs)(a.Modal,{active:t,onClickOutside:n,children:[(0,l.jsxs)(a.Body,{children:[(0,l.jsx)("header",{className:"jsx-82477dff3d3a1197",children:(0,l.jsx)(c.ZP,{Component:"h2",h3:!0,noMargin:!0,children:"Assign Domain"})}),(0,l.jsxs)(c.ZP,{preset:"body-2",children:["In order to assign a domain to your production deployments, configure it in"," ",(0,l.jsx)(o.r,{as:`/${i}/${u}/settings/domains`,href:"/[teamSlug]/[project]/settings/domains",variant:"highlight",children:"the project settings"})," ",(0,l.jsx)("strong",{className:"jsx-82477dff3d3a1197",children:"(recommended)"}),"."]}),(0,l.jsxs)(c.ZP,{preset:"body-2",children:["If you want to assign to this specific deployment, however, you can do so using our"," ",(0,l.jsx)(o.r,{href:"/cli",tab:!0,variant:"highlight",children:"command-line interface"}),":"]}),(0,l.jsx)(d.Z,{text:"vercel alias <deployment> <domain>",width:"100%"})]}),(0,l.jsx)(a.Actions,{children:(0,l.jsx)(a.Action,{fullWidth:!0,onClick:n,children:"OK"})}),(0,l.jsx)(r(),{id:"82477dff3d3a1197",children:"header.jsx-82477dff3d3a1197{text-align:center}"})]})}},789507:function(e,t,n){"use strict";var l=n(4799),i=n(349177),r=n(906076),s=n(530472),a=n(891300),o=n(941095),c=n(417075),d=n(445340),u=n(796380);function h(e){let{hidden:t,showIcon:n=!0}=e;return(0,l.jsx)(l.Fragment,{children:t.map(e=>(0,l.jsx)("div",{children:(0,l.jsx)(d.Z,{showIcon:n,title:e,truncate:!0,url:e})},e))})}function p(e){let{hidden:t}=e,n=(0,c.ac)(690);return void 0===n?null:n?(0,l.jsx)(a.C,{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},trigger:(0,l.jsx)(i.Ct,{children:`+${t.length}`}),children:(0,l.jsx)(u.Menu,{style:{position:"relative",top:"20px"},tipOffset:4,tipSide:"right",width:"300px",children:(0,l.jsx)(r.K,{style:{maxHeight:"210px",overflow:"scroll",padding:"0 8px",fontWeight:400},children:(0,l.jsx)(h,{hidden:t})})})}):(0,l.jsx)(o.Z,{text:(0,l.jsx)(h,{hidden:t}),children:(0,l.jsx)(i.Ct,{children:`+${t.length}`})})}t.Z=function(e){let{className:t,domains:n,firstOnly:i,showIcon:a=!0,style:o}=e;if(!n)return(0,l.jsx)(s.x,{as:"span",className:t,color:"accents-3",style:o,weight:400,children:"-"});let{visible:c,hidden:u}=n.reduce((e,t)=>0===e.visible.length||!i&&1===e.visible.length&&e.visible[0].length<=20?(e.visible.push(t),e):(e.hidden.push(t),e),{visible:[],hidden:[]});return(0,l.jsx)(s.x,{as:"span",className:t,weight:500,children:(0,l.jsxs)(r.K,{align:"center",direction:"row",gap:3,style:{display:"flex",maxWidth:"100%",alignItems:"stretch",...o},children:[c.map((e,t)=>{let n=t===c.length-1;return(0,l.jsx)(d.Z,{showIcon:a,style:{marginRight:n?void 0:"var(--geist-gap-half)",minWidth:0},truncate:!0,url:e},e)}),u.length?(0,l.jsx)(p,{hidden:u}):null]})})}},894690:function(e,t,n){"use strict";n.d(t,{I:function(){return Z}});var l=n(4799),i=n(14517),r=n(312253),s=n(726796),a=n(722792),o=n(32562),c=n(265542),d=n(260700),u=n(65289),h=n(779810),p=n(906076),m=n(530472),x=n(402737),g=n(762578),f=n(838262),y=n(808885),j=n(220395),v=n(862200),b=n(747151),k=n(586430),_=n(804868),w=n(495280),C=n(77935),S=n(384357),N=n(269704),D=n(199515),R=n(632996),P=n.n(R);function I(e){var t,n;let i,{deployment:m,deploymentsMap:x,gitInfo:y}=e,j=(0,C.T$)(m),v=null==m?void 0:null===(t=m.meta)||void 0===t?void 0:t.originalDeploymentId;v&&(i=null==x?void 0:x.get(v));let{data:b}=(0,k.ZP)(i?void 0:v,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});b&&(i=b);let S=(0,C.T$)(i),N=(0,r.useMemo)(()=>i?(0,w.Z)(i).hash:"",[i]);if(v){let e=(null===(n=m.meta)||void 0===n?void 0:n.action)==="promote"||"production"===m.target&&(null==i?void 0:i.target)!=="production";return(0,l.jsx)(g.Sn,{className:P().deploymentSource,descriptionSkeletonWidth:100,title:(0,l.jsx)(p.K,{className:P().line,direction:"row",gap:2,children:i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:P().icon,children:e?(0,l.jsx)(s.k,{size:16,weight:"bold"}):(0,l.jsx)(a.k,{size:16,weight:"bold"})}),(0,l.jsxs)("span",{className:P().rebuild,children:[e?"Production Rebuild":"Redeploy"," of"," ",(0,l.jsx)(f.r,{href:S,title:i.host||"",variant:"secondary",children:N?(0,l.jsx)(_.Z,{children:N}):i.host||""})]})]}):(0,l.jsx)(h.O,{boxHeight:22,height:14,vcenter:!0,width:100})}),titleSkeletonWidth:100})}return y&&"1"!==y.gitDirty?(0,l.jsx)(g.Sn,{className:P().deploymentSource,description:(0,l.jsxs)(p.K,{className:P().line,direction:"row",gap:2,children:[(0,l.jsx)("div",{className:P().icon,children:(0,l.jsx)(d.a,{size:16,weight:"bold"})}),(0,l.jsxs)(f.r,{href:y.commitUrl,target:"_blank",title:y.commitMessage,variant:"secondary",children:[(0,l.jsx)(_.Z,{children:y.commitSha.substring(0,7)}),"\xa0",(0,l.jsx)("span",{children:y.commitMessage})]})]}),descriptionSkeletonWidth:100,title:"1"!==y.gitDirty?(0,l.jsxs)(p.K,{className:P().line,direction:"row",gap:2,children:[(0,l.jsx)("div",{className:P().icon,children:(0,l.jsx)(u.X,{size:16,weight:"bold"})}),(0,l.jsx)(f.r,{href:y.refUrl,target:"_blank",variant:"secondary",children:(0,l.jsx)(_.Z,{children:y.commitRef})})]}):null,titleSkeletonWidth:100}):(0,l.jsx)(g.Sn,{className:P().deploymentSource,description:(null==y?void 0:y.gitDirty)==="1"||m?(0,l.jsxs)(p.K,{className:P().line,direction:"row",gap:2,children:[(0,l.jsx)("div",{className:P().icon,children:(0,l.jsx)(o.o,{size:16})}),(0,l.jsx)(f.r,{href:"/docs/cli/deploy",title:"Vercel CLI Docs",variant:"secondary",children:(0,l.jsx)(_.Z,{noWrap:!0,children:"vercel deploy"})})]}):null,descriptionSkeletonWidth:100,title:(null==y?void 0:y.gitDirty)==="1"||m?(0,l.jsxs)(p.K,{className:P().line,direction:"row",gap:2,children:[(0,l.jsx)("div",{className:P().icon,children:(0,l.jsx)(c.E,{size:16})}),(0,l.jsx)(f.r,{href:j?`${j}/source`:"",variant:"secondary",children:"View code"})]}):null,titleSkeletonWidth:100})}function Z(e){var t,n;let{deployment:r,deploymentsMap:s,isCurrentProductionDeployment:a,redeploy:o,handleClickCreateAlias:c,handleCancelDeployment:d,project:u,openRollbackModal:h,getRollbackTooltip:p}=e,k=(0,y.R)((null==r?void 0:r.created)||0),_=(0,C.T$)(r),w=r?(0,v.S)(r):null,R=(null==r?void 0:null===(t=r.meta)||void 0===t?void 0:t.deployHookId)||void 0,{can:P,isLoading:Z}=(0,b.ZP)({projectId:null==u?void 0:u.id}),E=(null==r?void 0:r.target)!==null?b._z.Deployment:b._z.DeploymentPreview,L=P(b.aU.Update,E),A=P(b.aU.Read,E),$=P(b.aU.Create,b._z.DeploymentRollback),T=P(b.aU.Create,b._z.Deployment),z=P(b.aU.Create,b._z.DeploymentFromProductionBranch),M=T||z||L||A||$;return(0,l.jsxs)(g.JH,{className:(0,i.W)({"deployment-entity":!!r}),"data-testid":(0,j.C)("deployments","deployment-entity",(null==r?void 0:r.uid)??"no-uid"),disabledDotMenuTooltip:M?void 0:(0,l.jsxs)(l.Fragment,{children:["Additional permissions are required to manage Deployment."," ",(0,l.jsx)(f.r,{href:"/docs/concepts/deployments/overview",variant:"highlight",children:"Learn More →"})]}),isDotMenuDisabled:!M,menuButtonProps:{"aria-label":"Deployment Actions","data-testid":(0,j.C)("deployment-entity","dots-menu","button")},menuItems:r?(0,l.jsx)(N.M,{canPromoteToProduction:T,canReadDeployment:A,canRedeployProduction:z,canRollbackDeployment:$,canUpdateDeployment:L,deployment:r,getRollbackTooltip:p,handleCancelDeployment:()=>null==d?void 0:d(r),handleClickCreateAlias:()=>null==c?void 0:c(r),handleClickRollback:()=>{h&&h(a?void 0:r)},itemsOnly:!0,redeploy:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==o?void 0:o(...t)}}):null,menuListTestId:`${(null==r?void 0:r.uid)??"no-uid"}-dots-menu`,placeholder:!r||Z,children:[(0,l.jsx)(g.Sn,{"data-testid":(0,j.C)("deployment-entity","target"),description:r?(0,l.jsxs)(l.Fragment,{children:["production"===r.target?"Production":"staging"===r.target?"Staging":"Preview",a?" (Current)":null]}):null,descriptionSkeletonWidth:80,title:r?(0,l.jsx)(f.r,{href:_,title:r.url,children:r.url}):null,titleSkeletonWidth:220}),(0,l.jsx)(g.Sn,{description:(0,l.jsx)("span",{style:{display:"block",height:"20px"},children:(0,l.jsx)(x.ZP,{deployment:r,padLeft:!0})}),descriptionSkeletonWidth:146,descriptionWrap:!1,title:r?(0,l.jsx)(m.x,{as:"span",style:{color:"var(--accents-6)",fontWeight:400},weight:500,children:(0,l.jsx)(S.Z,{deployment:r,label:!0,state:r.state,statusTextColor:"accents-5"})}):null,titleSkeletonWidth:146,width:146}),(0,l.jsx)(I,{deployment:r,deploymentsMap:s,gitInfo:w}),(0,l.jsx)(g.Sn,{avatar:r?(0,l.jsx)(D.DY,{deployment:r,showProviderIcon:!0,size:24}):null,description:r?(0,l.jsxs)(l.Fragment,{children:[k,void 0===R&&(!(null===(n=r.meta)||void 0===n?void 0:n.originalDeploymentId)&&(null==w?void 0:w.commitAuthorLogin)?` by ${w.commitAuthorLogin}`:` by ${null==r?void 0:r.creator.username}`),void 0!==R&&(0,l.jsx)(l.Fragment,{children:"\xa0via Deploy Hook"})]}):null,descriptionTitle:(null==r?void 0:r.created)?new Date(r.created).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",right:!0})]})}},269704:function(e,t,n){"use strict";n.d(t,{M:function(){return y}});var l=n(4799);n(312253);var i=n(349177),r=n(980996),s=n(996572),a=n(379780),o=n(906076),c=n(530472),d=n(473763),u=n(186306),h=n(386163),p=n(838262),m=n(61964),x=n(77935),g=n(220395),f=n(941095);function y(e){let{deployment:t,redeploy:n,handleClickCreateAlias:y,itemsOnly:j,handleCancelDeployment:v,canPromoteToProduction:b,canRedeployProduction:k,canUpdateDeployment:_,canReadDeployment:w,canRollbackDeployment:C,isRollbackMenu:S,handleClickRollback:N,getRollbackTooltip:D}=e,R=(0,m.e1)(),P=(0,x.T$)(t),I=()=>{(0,d.v)(t.url),R.message("Copied to clipboard!")},Z=()=>n(t,!0),E=()=>n(t),L=v&&"state"in t&&("QUEUED"===t.state||"BUILDING"===t.state),A="state"in t&&"READY"===t.state,$=_||(!("target"in t)||"production"===t.target)&&k,T=(null==D?void 0:D(t))??"",z=void 0!==D?!!T:!t.isRollbackCandidate,M=z?(0,l.jsx)(f.Z,{forceHide:""===T,text:T,children:(0,l.jsx)(h.sN,{"data-testid":(0,g.C)("deployment-entity","dots-menu","instant-rollback"),disabled:!0,onClick:N,children:(0,l.jsxs)(o.K,{align:"center",direction:"row",gap:2,children:[(0,l.jsx)(c.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,l.jsx)(r.b,{color:"var(--accents-3)",size:16}),(0,l.jsx)(i.Ct,{size:"sm",variant:"pink",children:"Beta"})]})})}):(0,l.jsx)(h.sN,{"data-testid":(0,g.C)("deployment-entity","dots-menu","instant-rollback"),onClick:N,title:T,children:(0,l.jsxs)(o.K,{align:"center",direction:"row",gap:2,children:[(0,l.jsx)(c.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,l.jsx)(s.b,{size:16}),(0,l.jsx)(i.Ct,{size:"sm",variant:"pink",children:"Beta"})]})}),B=S&&C?(0,l.jsxs)(l.Fragment,{children:[M,(0,l.jsx)(h.R,{})]}):(0,l.jsxs)(l.Fragment,{children:[C?M:null,b?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.sN,{onClick:Z,children:"Promote to Production"}),(0,l.jsx)(h.R,{})]}):null]}),O=(0,l.jsxs)(l.Fragment,{children:[b||C?B:null,$&&!S?(0,l.jsx)(h.sN,{onClick:E,children:"Redeploy"}):null,w?(0,l.jsx)(h.sN,{Component:p.r,href:P,isLink:!0,children:"Inspect Deployment"}):null,w&&!S?(0,l.jsx)(h.sN,{Component:p.r,href:`${P}/source`,isLink:!0,children:"View Source"}):null,w?(0,l.jsx)(h.sN,{onClick:I,children:"Copy URL"}):null,A&&_?(0,l.jsx)(h.sN,{onClick:y,children:"Assign Domain"}):null,L&&_?(0,l.jsx)(h.sN,{onClick:"state"in t?()=>null==v?void 0:v(t):void 0,type:"error",children:"Cancel Deployment"}):null,w?(0,l.jsxs)(h.sN,{Component:p.r,disabled:!t,href:`https://${t.url}`,isLink:!0,target:"_blank",children:["Visit \xa0 ",(0,l.jsx)(a.d,{align:"top",size:16})]}):null,!(b&&$&&_&&w&&C)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.R,{}),C?null:(0,l.jsx)(h.dc,{children:"Instant Rollback"}),b?null:(0,l.jsx)(h.dc,{children:"Promote to Production"}),$?null:(0,l.jsx)(h.dc,{children:"Redeploy"}),w?null:(0,l.jsx)(h.dc,{children:"Inspect Deployment"}),w?null:(0,l.jsx)(h.dc,{children:"View Source"}),w?null:(0,l.jsx)(h.dc,{children:"Copy URL"}),A&&!_?(0,l.jsx)(h.dc,{children:"Assign Domain"}):null,L&&!_?(0,l.jsx)(h.dc,{children:"Cancel Deployment"}):null,w?null:(0,l.jsxs)(h.dc,{children:["Visit \xa0 ",(0,l.jsx)(a.d,{align:"top",size:16})]})]})]});return j?O:(0,l.jsx)(u.DotsMenu,{closeOnSelect:S,children:O})}},100449:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var l=n(4799),i=n(414098),r=n(103148),s=n(876298),a=n(794845),o=n(258998),c=n(220395),d=n(273639),u=n.n(d);function h(e){var t;let{scope:n,project:d,hasProjectLink:h,style:p}=e;return(0,l.jsx)(s.Z,{className:u().defaultHeight,style:p,children:(0,l.jsxs)(a.Z,{center:!0,className:u().container,hcenter:!0,children:[(0,l.jsx)("div",{className:u().icon,children:(0,l.jsx)(i.W,{})}),(0,l.jsx)(o.ZP,{className:u().title,"data-testid":(0,c.C)("no-deployment-card","title"),h3:!0,noMargin:!0,children:"No Production Deployment"}),(0,l.jsx)(a.Z,{className:u().subtitleContainer,flex:0,children:(0,l.jsx)(o.ZP,{noMargin:!0,preset:"body-2",children:h?(0,l.jsxs)(l.Fragment,{children:["To update your Production Deployment, push to the"," ",(null==d?void 0:null===(t=d.link)||void 0===t?void 0:t.productionBranch)?`"${d.link.productionBranch}"`:"Repository Default"," ","branch."]}):"Connect your Project with a Git repository to create a Production Deployment."})}),(0,l.jsx)(a.Z,{center:!0,direction:["column","column","row"],flex:0,style:{color:"var(--accents-5)",fontSize:"12px"},children:h?(0,l.jsx)(r.Z,{external:!0,href:"/docs/git#production-branch",children:"Learn More"}):(0,l.jsx)(r.Z,{as:`/${n}/${null==d?void 0:d.name}/settings/git`,disabled:!d,href:"/[teamSlug]/[project]/settings/git",children:"Connect Git repository"})})]})})}},996077:function(e,t,n){"use strict";var l=n(4799),i=n(560630),r=n(659978),s=n(253790),a=n(399810);let o=()=>{let e=(0,i.useRouter)(),{data:t}=(0,s.PY)(e.query.project),n=(0,a.F)(t);return(null==t?void 0:t.name)&&n?(0,l.jsxs)(r.Z,{fill:!0,label:!1,type:"warning",variant:"contrast",children:["The Project ",(0,l.jsx)("b",{children:t.name})," is being transferred into"," ",(0,l.jsx)("b",{children:n.name}),"."]}):(0,l.jsx)(r.Z,{fill:!0,label:!1,type:"warning",variant:"contrast",children:"\xa0"})};t.Z=o},708099:function(e,t,n){"use strict";var l=n(4799),i=n(560630),r=n(200494),s=n(258998),a=n(794845),o=n(910534),c=n(876298),d=n(681021),u=n(253790),h=n(399810),p=n(915049),m=n.n(p),x=n(754467);let g=()=>{let e=(0,i.useRouter)(),{data:t}=(0,u.PY)(e.query.project),{transferredFromAccountId:n}=t||{},p=(0,h.F)(t),g=null==n?void 0:n.startsWith("team_");return t&&p?(0,l.jsx)(c.Z,{children:(0,l.jsx)("div",{className:m().wrapper,children:(0,l.jsxs)(a.Z,{center:!0,children:[(0,l.jsx)(s.ZP,{h3:!0,noMargin:!0,style:{maxWidth:"360px",marginBottom:"16px"},children:"Transferring Project"}),(0,l.jsxs)(a.Z,{center:!0,row:!0,children:[(0,l.jsx)(o.qE,{placeholder:!n,size:48,teamId:g?n:void 0,uid:g?void 0:n}),(0,l.jsx)(d.L,{inline:!0,x:.25}),x.Q,(0,l.jsx)(d.L,{inline:!0,x:.25}),(0,l.jsx)(o.qE,{hash:null==p?void 0:p.avatar,placeholder:!p,size:48,teamId:p.id})]}),(0,l.jsx)(d.L,{}),(0,l.jsx)(r.$,{}),(0,l.jsx)(d.L,{}),(0,l.jsxs)(s.ZP,{center:!0,className:m().message,noMargin:!0,type:"secondary",children:["The Project ",(0,l.jsx)("b",{children:t.name})," is being transferred into"," ",(0,l.jsx)("b",{children:p.name}),"."]})]})})}):null};t.Z=g},785045:function(e,t,n){"use strict";n.d(t,{n:function(){return p}});var l=n(4799),i=n(651938),r=n(312253),s=n(779810),a=n(231655),o=n(560555),c=n(348631),d=n(479396),u=n(990888),h=n(256889);let p=(0,r.memo)(e=>{let{skeleton:t,onSelect:n,project:p,value:m,includeProductionBranch:x}=e,[g,f]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),[v,b,{currentValue:k,setValueImmediate:_}]=(0,d.$)(m||"",300);(0,r.useEffect)(()=>{m&&_(m)},[_,m]);let[,{branches:w,isValidating:C,fetchedQuery:S}]=(0,h.F)({project:p,includeProductionBranch:x,query:v},{revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1}),N=!!y&&!!g&&!!k&&(S||"")!==v,{filterBranch:D}=(0,o.i)();(0,r.useEffect)(()=>{D&&_(D)},[_,D]),(0,r.useEffect)(()=>{_(m||"")},[_,m]),(0,r.useEffect)(()=>{g||!w||C||f(!0)},[g,w,C]);let[R,P]=(0,r.useState)([]);(0,r.useEffect)(()=>{C||void 0===w||(0!==I.current.query.indexOf(k)&&(I.current={values:[],query:k}),P(w||[]))},[JSON.stringify(w),S]);let I=(0,r.useRef)({values:[],query:""}),Z=C||k.length>=v.length&&k.length>=1,E=Z?I.current.values:[],L=[...new Set([...E,...N?R:w||[]])],A=(0,r.useRef)(null);return(0,u.Z)(()=>{if(k){var e;null===(e=A.current)||void 0===e||e.setValue(k)}},[k]),(0,u.Z)(()=>{if(!m){var e;null===(e=A.current)||void 0===e||e.clear()}},[m]),(0,l.jsx)(s.O,{show:!!(t&&!g),style:{height:40},children:(0,l.jsxs)(a.Z,{filter:function(e,t){let n=""===t?e:(0,i.Lu)(e,t,{keys:["value","label"]}),l=[];for(let e of E)n.find(t=>t.value===e)&&l.push(e);let r=[...new Set([...l,...n.map(e=>e.value)])],s=r.map(e=>{let t=n.find(t=>t.value===e);if(!t)throw Error("impossible state");return t});return I.current={values:r,query:k},s},onChange:e=>{e===D?setTimeout(()=>{var e;null==n||n(null),null===(e=A.current)||void 0===e||e.clear(),_("")}):(c.co.track(c.s6.DEPLOYMENT_OVERVIEW_FILTERS_BRANCH,{value:e}),_(e||""),null==n||n(e))},onChangeOpen:e=>{j(e)},placeholder:"All Branches...",ref:A,children:[(0,l.jsx)(a.Z.Input,{loading:N,onChange:e=>{""===e.target.value?_(""):b(e.target.value)}}),(0,l.jsx)(a.Z.List,{children:L.map((e,t)=>(0,l.jsx)(a.Z.Option,{value:e,children:e},k?e:`${e}${t}`))})]})})})},952358:function(e,t,n){"use strict";n.d(t,{G:function(){return l}});let l=!0},272554:function(e,t,n){"use strict";n.d(t,{V:function(){return k}});var l=n(4799),i=n(312253),r=n(65289),s=n(899693),a=n(779810),o=n(433084),c=n(762578),d=n(794845),u=n(838262),h=n(386163),p=n(681021),m=n(61964),x=n(862200),g=n(586430),f=n(473763);let y=(e,t)=>{let n=(0,i.useRef)(0);return t||(n.current=Math.random()),(0,i.useMemo)(()=>e(),[n.current])};var j=n(621836),v=n(107930),b=n.n(v);let k=(0,i.memo)(e=>{var t;let{project:n,branch:i,deployments:v,onClearBranch:k,isLoading:_}=e,w=null==v?void 0:v.find(e=>"READY"===e.state),C=(0,m.e1)(),{data:S,isValidating:N}=(0,g.ZP)(null==w?void 0:w.uid,{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!0}),D=(0,x.S)(w),R=(null==n?void 0:null===(t=n.link)||void 0===t?void 0:t.type)||"github",P=(null==D?void 0:D.prUrl)??(null==D?void 0:D.refUrl)??(null==D?void 0:D.commitUrl)??"",I=_||N,Z=(null==S?void 0:S.alias[0])??(null==S?void 0:S.url),E=y(()=>(0,l.jsxs)(c.JH,{filled:!0,placeholder:I,thumbnail:(0,l.jsx)(c.bL,{circular:!0,size:30,children:(0,l.jsx)(r.X,{color:"var(--geist-success)",size:16})}),...!!P&&!I&&{menuItems:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.sN,{onClick:()=>{(0,f.v)(P),C&&C.current&&C.current.message("Copied url to clipboard!")},children:["Copy ",(null==D?void 0:D.prUrl)?"PR":"Branch"," URL ",(0,l.jsx)(p.L,{})," ",(0,l.jsx)(s.C,{size:14})]}),!!k&&(0,l.jsx)(h.sN,{onClick:k,type:"error",children:"Clear filter"})]})},children:[(0,l.jsx)(c.Sn,{description:(0,l.jsxs)(l.Fragment,{children:["Branch URL for\xa0\xa0",P?(0,l.jsx)(u.r,{className:b().entitySpan,href:P,children:i}):(0,l.jsx)("span",{className:b().entitySpan,children:i})]}),title:Z?(0,l.jsx)(u.r,{className:b().inline,external:!0,href:`https://${Z}`,onClick:()=>{j.co.track(j.nH.CLICK_EVENT,{click_name:"click_button",click_value:"deployments_page_primary_preview_deployments"})},variant:"highlight",children:Z}):(0,l.jsx)("div",{className:b().entityMarginBottom,children:"No successful deploy, yet."})}),(0,l.jsx)(c.Sn,{className:b().maxWidthFitContent,right:!0,children:(0,l.jsx)(d.Z,{center:!0,row:!0,children:I?(0,l.jsxs)(d.Z,{center:!0,className:b().skeletonContainer,children:[(0,l.jsx)(a.O,{show:!0,children:(0,l.jsx)(o.Z,{href:"",children:"View PR"})}),(0,l.jsx)(a.O,{style:{width:26,height:18}})]}):(0,l.jsxs)(l.Fragment,{children:[!!(null==D?void 0:D.prUrl)&&(0,l.jsx)(o.Z,{href:null==D?void 0:D.prUrl,tab:!0,type:"secondary",children:"github"===R?"View PR":"View Changes"}),!(null==D?void 0:D.prUrl)&&!!(null==D?void 0:D.refUrl)&&(0,l.jsx)(o.Z,{href:null==D?void 0:D.refUrl,tab:!0,type:"secondary",children:"View Branch"})]})})})]}),I);return I||i?E:null})},312749:function(e,t,n){"use strict";n.d(t,{Lj:function(){return b},ZP:function(){return w},zK:function(){return j}});var l=n(4799),i=n(312253),r=n(14517),s=n(349177),a=n(560630),o=n(906076),c=n(779810),d=n(530472),u=n(386163),h=n(348631),p=n(716150),m=n.n(p);let x={READY:{label:"Ready",className:m().ready,key:"ready"},ERROR:{label:"Error",className:m().error,key:"error"},BUILDING:{label:"Building",className:m().building,key:"building"},QUEUED:{label:"Queued",className:m().queued,key:"queued"},CANCELED:{label:"Canceled",className:m().canceled,key:"canceled"}},g=["ready","error","building","queued"],f="empty";function y(e){let{status:t,...n}=e;return(0,l.jsx)("span",{className:(0,r.W)(m().status,t),...n})}function j(e){let t=Object.keys(e).filter(t=>e[t]).map(e=>e.toUpperCase());return 0===t.length?f:t.join(",")}let v={[x.READY.key]:!0,[x.ERROR.key]:!0,[x.BUILDING.key]:!0,[x.QUEUED.key]:!0,[x.CANCELED.key]:!1};function b(){let e=(0,a.useRouter)(),[t,n]=(0,i.useState)(!0),[l,r]=(0,i.useState)(v),s=e=>{r(t=>{let n={...t,[e]:!t[e]};return h.co.track(h.s6.DEPLOYMENT_OVERVIEW_FILTERS_STATUS,{status:JSON.stringify(n)}),n})};return(0,i.useEffect)(()=>{if(t&&e.isReady){var l;r((l=e.query.status)?l===f?{[x.READY.key]:!1,[x.ERROR.key]:!1,[x.BUILDING.key]:!1,[x.QUEUED.key]:!1,[x.CANCELED.key]:!1}:{[x.READY.key]:l.includes(x.READY.key),[x.ERROR.key]:l.includes(x.ERROR.key),[x.BUILDING.key]:l.includes(x.BUILDING.key),[x.QUEUED.key]:l.includes(x.QUEUED.key),[x.CANCELED.key]:l.includes(x.CANCELED.key)}:{[x.READY.key]:!0,[x.ERROR.key]:!0,[x.BUILDING.key]:!0,[x.QUEUED.key]:!0,[x.CANCELED.key]:!1}),n(!1)}},[e.query.status,e.isReady,t]),(0,i.useEffect)(()=>{let t={...e.query},n=function(e){let t=Object.keys(e).filter(t=>e[t]).sort().join(",");return g.sort().join(",")===t?null:""===t?f:t}(l);n?t.status=n:delete t.status,e.isReady&&e.replace({query:t},void 0,{scroll:!1})},[l,e.query.status]),{isInitialStatusItems:Object.entries(l).every(e=>{let[t,n]=e;return v[t]===n}),selectedStatusItems:l,clearStatus(){r(v)},handleSelectStatusItem:s,selectStatusFilterValues:Object.keys(l).filter(e=>l[e]).map(e=>e.toUpperCase())}}let k=(0,i.memo)(e=>{let{selectedStatusItems:t}=e;return(0,l.jsx)("div",{className:m().icon,children:Object.values(x).map((e,n)=>{let{key:i,className:r}=e;return(0,l.jsx)(y,{status:t[i]?r:m().dimmed,style:{left:`${-4*n}px`}},i)})})}),_=(0,l.jsx)("svg",{className:m().check,fill:"none",height:"18",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"18",children:(0,l.jsx)("path",{d:"M20 6L9 17l-5-5"})});function w(e){let{className:t,selectedStatusItems:n,handleSelectStatusItem:a,skeleton:h=!1,position:p="right"}=e,[g,f]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{h||f(!0)},[h]),(0,l.jsx)("div",{className:(0,r.W)({[m().leftAligned]:"left"===p,[m().rightAligned]:"right"===p},t),children:(0,l.jsx)(c.O,{show:!!(h&&!g),children:(0,l.jsxs)(u.Fe,{closeOnSelect:!1,children:[(0,l.jsx)(u.j2,{align:"flex-grow",showChevron:!0,type:"secondary",children:(0,l.jsxs)(o.K,{align:"center",direction:"row",flex:1,children:[(0,l.jsx)(k,{selectedStatusItems:n}),(0,l.jsx)("span",{className:m().label,children:"Status"}),(0,l.jsxs)(s.Ct,{className:m().badge,variant:"gray-subtle",children:[Object.values(n).filter(Boolean).length,"/",Object.keys(x).length]})]})}),(0,l.jsx)(u.v2,{arrow:!1,width:186,children:Object.values(x).map(e=>{let{key:t,className:i,label:r}=e;return(0,l.jsxs)(u.sN,{onClick:()=>a(t),children:[(0,l.jsx)(y,{status:i}),(0,l.jsx)(d.x,{className:m().item,children:r}),n[t]?_:null]},t)})})]})})})}},494991:function(e,t,n){"use strict";n.d(t,{b:function(){return ea}});var l=n(4799),i=n(312253),r=n(116810),s=n(349177),a=n(395314),o=n(379780),c=n(906076),d=n(530472),u=n(61964),h=n(358089),p=n(220395),m=n(263922),x=n(92586),g=n(930115),f=n(797996),y=n(39671),j=n(200494),v=n(444215),b=n(252685),k=n.n(b);function _(e){let{className:t,label:n,labelPadding:i=7,labelSize:r=14,size:s=22,status:a}=e,o=(0,v.Z)(s);return(0,l.jsxs)("div",{className:`${k().wrapper} ${t||""}`,style:{height:o},children:["loading"===a&&(0,l.jsx)(j.$,{size:s}),"error"===a&&(0,l.jsx)(f.a,{color:"var(--geist-error)",fill:!0,size:s}),"success"===a&&(0,l.jsx)(y.I,{color:"var(--geist-success)",fill:!0,size:s}),n?(0,l.jsx)(d.x,{as:"span",size:r,style:{lineHeight:o,paddingLeft:(0,v.Z)(i)},children:n}):null]})}var w=n(581945),C=n(52954),S=n(843987),N=n(694620),D=n(628497),R=n(388361),P=n(313768),I=n(968026),Z=n(659978),E=n(852625),L=n.n(E),A=n(996572),$=n(65289),T=n(838262),z=n(77935),M=n(862200),B=n(808885),O=n(402737),W=n(199515),U=n(772337),F=n.n(U);function q(e){let{isForm:t,children:n,className:i}=e;return t?(0,l.jsx)("label",{className:i,children:n}):(0,l.jsx)("div",{className:i,children:n})}function H(e){var t,n;let{deployment:i,isForm:r,isPreviousDeployment:s,isProductionDeployment:a,selectedDeployment:o,setSelectedDeployment:c}=e,u=(0,B.R)(i.createdAt||0),h=(0,z.T$)(i),p=(0,M.S)(i),m="Preview";if("target"in i)switch(i.target){case"staging":m="Staging";break;case"production":m="Production";break;default:m="Preview"}else m="Production";let x="uid"in i?i.uid:i.id,g="";return"target"in i&&(g=(0,O.Ez)(i)||"&mdash;"),(0,l.jsxs)(q,{className:`${F().card} ${a?F().current:""}`,isForm:r,children:[r?(0,l.jsx)("input",{"aria-label":"Rollback Deployment",checked:(null==o?void 0:o.uid)===x,className:F().input,name:"rollbackDeployment",onChange:()=>{"uid"in i&&"type"in i&&c(i)},type:"radio",value:x}):null,!r&&a?(0,l.jsx)(f.a,{className:F().icon,fill:!0,size:16,style:{flexShrink:0}}):null,!r&&!a&&(0,l.jsx)(A.b,{className:F().icon,color:"var(--geist-success)",size:16,style:{flexShrink:0}}),(0,l.jsxs)("div",{children:[(0,l.jsx)(T.r,{className:F().deploymentLink,href:h,target:"_blank",children:(0,l.jsx)(d.x,{as:"span",title:i.url,truncate:1,weight:700,children:i.url})}),(null==p?void 0:p.commitMessage)?(0,l.jsx)(d.x,{as:"p",color:"accents-5",size:14,title:p.commitMessage,truncate:1,weight:500,children:p.commitMessage}):null,(0,l.jsxs)("div",{className:F().branch,children:[(0,l.jsxs)(d.x,{as:"span",color:"accents-5",size:14,style:{marginRight:"4px"},children:[m," "]}),(null==p?void 0:p.commitRef)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)($.X,{color:"accents-5",size:16}),(0,l.jsx)(d.x,{as:"span",className:F().code,title:p.commitRef,children:p.commitRef}),(0,l.jsx)(d.x,{as:"span",color:"accents-5",children:"by"}),(0,l.jsxs)("div",{className:F().gitAvatar,children:[(0,l.jsx)(d.x,{as:"span",color:"accents-5",children:(null===(t=i.meta)||void 0===t?void 0:t.originalDeploymentId)||!p.commitAuthorLogin?null===(n=i.creator)||void 0===n?void 0:n.username:p.commitAuthorLogin}),(0,l.jsx)(W.DY,{deployment:i,size:16})]})]}):null]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(d.x,{as:"span",color:"accents-5",size:14,children:["Deployed"," "]}),(0,l.jsx)(d.x,{as:"span",color:"accents-5",size:14,weight:500,children:u}),(0,l.jsxs)(d.x,{as:"span",color:"accents-5",size:14,children:[","," "]}),"target"in i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(d.x,{as:"span",color:"accents-5",size:14,children:["live for"," "]}),(0,l.jsx)(d.x,{as:"span",color:"accents-5",size:14,weight:600,children:g})]}):(0,l.jsx)(d.x,{as:"span",color:"accents-5",size:14,weight:600,children:"Currently Live"})]})]}),a?(0,l.jsx)(d.x,{as:"div",className:F()["badge-current"],children:"Current"}):null,s?(0,l.jsx)(d.x,{as:"div",className:F()["badge-previous"],children:"Previous"}):null]})}var V=n(789507),Y=n(622448),K=n.n(Y);function G(){return(0,l.jsx)(h.Header,{children:(0,l.jsx)(h.Title,{children:(0,l.jsx)(c.K,{align:"center",direction:"row",gap:2,justify:"center",children:(0,l.jsxs)(l.Fragment,{children:["Instant Rollback",(0,l.jsx)(s.Ct,{variant:"pink",children:"Beta"})]})})})})}function J(e){let{setStage:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.Body,{children:[(0,l.jsx)(G,{}),(0,l.jsx)(d.x,{as:"p",style:{marginBottom:"24px"},children:"Error: You must select a deployment to roll back."})]}),(0,l.jsx)(h.Actions,{children:(0,l.jsx)(h.Action,{fullWidth:!0,onClick:()=>{t("initial")},type:"secondary",children:"Back"})})]})}function Q(){return(0,l.jsx)("div",{style:{marginBottom:"24px"},children:(0,l.jsx)(Z.Z,{className:L()["warning-note"],fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,l.jsxs)(c.K,{align:"center",direction:"row",gap:4,style:{padding:4},children:[(0,l.jsx)(a.u,{fill:!0,size:"16",style:{flexShrink:0}}),(0,l.jsxs)(c.K,{align:"start",children:[(0,l.jsx)(d.x,{as:"p",color:"inherit",children:"Make sure the domains listed above are correct."}),(0,l.jsx)(d.x,{as:"p",color:"inherit",children:"This deployment has custom aliases not included in the project's domain settings."})]})]})})})}function X(e){let{deployments:t,previousDeployment:n,productionDeployment:i,selectedDeployment:r,setSelectedDeployment:s,swr:a}=e;return(0,l.jsxs)(l.Fragment,{children:[t.map(e=>i.id!==e.uid&&(0,l.jsx)(H,{deployment:e,isForm:!0,isPreviousDeployment:n.uid===e.uid,selectedDeployment:r,setSelectedDeployment:s},e.uid)),!a.isReachingEnd&&(0,l.jsx)(m.z,{className:K()["choose-deployment-btn"],loading:a.isLoadingMore,onClick:()=>{a.loadMore()},variant:"ghost",children:"Show More"})]})}function ee(e){let{hasFloatingAliases:t,onCancel:n,previousDeployment:r,productionAliases:s,productionDeployment:a,rollbackCandidates:o,setStage:c,selectedDeployment:u,setSelectedDeployment:x,deploymentSwr:g}=e,[f,y]=(0,i.useState)(!1);return o.length&&r&&u?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.Body,{children:[(0,l.jsx)(G,{}),(0,l.jsxs)(d.x,{as:"p",style:{marginBottom:"24px"},children:["Roll back",(0,l.jsx)(V.Z,{domains:s,firstOnly:!0,style:{display:"inline-flex",fontWeight:"bold"}})]}),t?(0,l.jsx)(Q,{}):null,(0,l.jsx)(H,{deployment:a,isProductionDeployment:!0,selectedDeployment:u,setSelectedDeployment:x}),(0,l.jsx)(d.x,{as:"p",style:{marginBottom:"24px",marginTop:"24px"},children:"To the following deployment:"}),f?(0,l.jsx)(X,{deployments:o,previousDeployment:r,productionDeployment:a,selectedDeployment:u,setSelectedDeployment:x,swr:g}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(H,{deployment:u,isForm:f,isPreviousDeployment:u.uid===r.uid,selectedDeployment:u,setSelectedDeployment:x}),(0,l.jsx)(m.z,{className:K()["choose-deployment-btn"],onClick:()=>{y(!0)},variant:"ghost",children:"Choose another deployment"})]})]}),(0,l.jsxs)(h.Actions,{children:[(0,l.jsx)(h.Action,{onClick:n,type:"secondary",children:"Cancel"}),(0,l.jsx)(h.Action,{"data-testid":(0,p.C)("deployment","rollback-modal","continue-button"),onClick:()=>{c("selected")},children:"Continue"})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.Body,{children:[(0,l.jsx)(G,{}),(0,l.jsx)(d.x,{as:"p",children:"This project does not have any valid deployments to roll back to."})]}),(0,l.jsx)(h.Actions,{children:(0,l.jsx)(h.Action,{onClick:n,type:"secondary",children:"Cancel"})})]})}function et(e){let{hasFloatingAliases:t,productionAliases:n,productionDeployment:i,productionBranch:r,rollbackCandidates:s,selectedDeployment:u,setSelectedDeployment:m,setStage:f,requestRollback:y}=e;if(!u)return(0,l.jsx)(J,{setStage:f});let j=r?`This rollback will be replaced by the next merge to ${r}.`:"This rollback will be replaced by the next production deployment.";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.Body,{children:[(0,l.jsx)(G,{}),(0,l.jsxs)(c.K,{gap:6,children:[(0,l.jsxs)(d.x,{as:"p",children:["Roll back"," ",(0,l.jsx)(V.Z,{domains:n,style:{display:"inline-flex",fontWeight:"bold"}})]}),t?(0,l.jsx)(Q,{}):null,(0,l.jsx)(H,{deployment:i,isProductionDeployment:!0,selectedDeployment:u,setSelectedDeployment:m}),(0,l.jsx)(d.x,{as:"p",children:"To the following deployment:"}),(0,l.jsx)(H,{deployment:u,isPreviousDeployment:u.uid===s[0].uid,selectedDeployment:u,setSelectedDeployment:m}),(0,l.jsxs)(x.UL,{className:K()["warning-list"],children:[(0,l.jsx)(x.LI,{children:"Instant Rollback assigns domains to a previous deployment. All Environment Variables from the original build will remain."}),(0,l.jsxs)(x.LI,{children:[(0,l.jsxs)(g.r,{className:K()["deployment-link"],href:`https://${u.url}`,target:"_blank",children:["View selected deployment"," ",(0,l.jsx)(o.d,{color:"geist-success",size:14,style:{flexShrink:0}})]})," ","before rolling back—external APIs, databases, and CMS platforms may not behave as expected."]})]}),(0,l.jsx)(Z.Z,{className:L()["warning-note"],fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,l.jsxs)(c.K,{align:"center",direction:"row",gap:4,style:{padding:1},children:[(0,l.jsx)(a.u,{fill:!0,size:"16",style:{flexShrink:0}}),(0,l.jsxs)(c.K,{align:"start",children:[(0,l.jsx)(d.x,{as:"p",color:"inherit",children:j}),(0,l.jsxs)(g.r,{className:L()["warning-note-link"],href:"https://vercel.com/docs/concepts/deployments/instant-rollback",target:"_blank",children:[(0,l.jsx)(d.x,{as:"span",color:"inherit",weight:600,children:"Learn more about Instant Rollback"}),(0,l.jsx)(o.d,{size:14,style:{flexShrink:0}})]})]})]})})]})]}),(0,l.jsxs)(h.Actions,{children:[(0,l.jsx)(h.Action,{onClick:()=>{f("initial")},type:"secondary",children:"Back"}),(0,l.jsx)(h.Action,{"data-testid":(0,p.C)("deployment","rollback-modal","rollback-button"),onClick:()=>{y(u.uid),f("processing")},children:"Confirm Rollback"})]})]})}function en(e){let{jobStatus:t,rollbackDeploymentId:n,rollbackCandidates:r,selectedDeployment:s,setStage:a,onCancel:o,statusSwr:c,requestRollback:u}=e;return((0,i.useEffect)(()=>{n===(null==s?void 0:s.uid)&&("failed"===t?a("error"):"succeeded"===t&&a("done"))},[n,t,s,a]),s)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.Body,{children:[(0,l.jsx)(G,{}),(0,l.jsxs)(d.x,{as:"p",style:{marginBottom:"24px"},children:["Assigning ",(0,l.jsx)("strong",{children:"Production"})," Domains:"]}),(0,l.jsx)(H,{deployment:s,isPreviousDeployment:s.uid===r[0].uid,selectedDeployment:s,setSelectedDeployment:()=>null}),(0,l.jsxs)(x.UL,{className:K()["alias-list"],children:[c.aliases.map(e=>{let t="loading";return"completed"===e.status?t="success":"failed"===e.status&&(t="error"),(0,l.jsx)(x.LI,{children:(0,l.jsx)(_,{label:e.alias,labelPadding:"18px",status:t})},e.alias)}),!c.isReachingEnd&&c.initialDataLoaded?(0,l.jsx)(x.LI,{children:(0,l.jsx)(m.z,{className:K()["choose-deployment-btn"],loading:c.isLoadingMore,onClick:()=>{c.loadMore()},variant:"ghost",children:"Show More"})}):null]})]}),(0,l.jsx)(h.Actions,{children:(0,l.jsx)(h.Action,{"data-testid":(0,p.C)("deployment","rollback-modal","finish-button"),fullWidth:!0,loading:"failed"!==t&&"succeeded"!==t,onClick:()=>{"failed"===t?u(s.uid):"succeeded"===t&&(a("initial"),o())},children:"failed"===t?"Retry":"Done"})})]}):(0,l.jsx)(J,{setStage:a})}function el(e){let{active:t,initialSelectedDeployment:n,onCancel:r,productionBranch:s,productionDeployment:a,projectId:o,rollbackCandidates:c,swr:d}=e,[m,x]=(0,i.useState)("initial"),{isReady:g,team:f}=(0,D.t7)(),y=(0,u.e1)(),j=(0,i.useMemo)(()=>{if(c.length)return c[0].uid!==a.id?c[0]:c[1]},[c,a]),[v,b]=(0,i.useState)(null);(0,i.useEffect)(()=>{b(n||j||null)},[n,j]);let k=(0,i.useCallback)(x,[x]),_=(0,i.useCallback)(b,[b]),[,{aliases:Z}]=(0,P.k)({rollbackDeploymentId:a.id}),{data:E}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,{isReady:n,team:l}=(0,D.t7)();return(0,w.ZP)(()=>n?`${(0,S.Z8)(e)}${(0,N.c)({teamId:null==l?void 0:l.id,rollbackInfo:!0})}`:null,e=>(0,C.I)(e,{throwOnHTTPError:!0}),{refreshInterval:t})}(o,500),{lastRollbackTarget:L,hasFloatingAliases:A}=E||{lastRollbackTarget:null,hasFloatingAliases:!1},{toDeploymentId:$,jobStatus:T}=L||{toDeploymentId:null,jobStatus:null},[,z]=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,{isReady:r,team:s}=(0,D.t7)(),a=(0,R.ZP)((t,n)=>{if(!r)return null;let i={teamId:null==s?void 0:s.id,limit:l};return t?(null==n?void 0:n.next)?`${(0,S.Ew)(e)}${(0,N.c)({...i,until:n.next})}`:null:`${(0,S.Ew)(e)}${(0,N.c)(i)}`},e=>(0,C.I)(e,{throwOnHTTPError:!0}),{refreshInterval:n}),o=(0,i.useMemo)(()=>a.data?[].concat(...a.data.filter(Boolean).map(e=>e.aliases.slice(0,l))):[],[a.data,l]),c=!!a.data,d=c&&0===o.length,u=c&&a.data&&a.size>a.data.length,h=c&&a.data&&(null===(t=a.data[a.data.length-1])||void 0===t?void 0:t.aliases.length)<l,p=()=>a.setSize(e=>e+1);return[a,{aliases:o,initialDataLoaded:c,isEmpty:d,loadMore:p,isLoadingMore:u,isReachingEnd:h,mutate:a.mutate}]}(o,2e3),M=(0,i.useMemo)(()=>a,[t]),B=()=>{x("initial"),b(n||j||null),r()},O=(0,i.useCallback)(async e=>{if(!g)return;let t=`${(0,S.ix)(o,e)}${(0,N.c)({teamId:null==f?void 0:f.id})}`;try{await (0,C.I)(t,{throwOnHTTPError:!0,method:"POST",body:{}})}catch(e){y.error({text:"Something went wrong - please try requesting an Instant Rollback again",key:"rollback-deployment"}),(0,I.captureError)(e)}},[g,o,null==f?void 0:f.id,y]),W={rollbackDeploymentId:$,hasFloatingAliases:!!A,jobStatus:T,onCancel:B,previousDeployment:j,productionBranch:s,productionDeployment:M,productionAliases:Z.map(e=>{let{alias:t}=e;return t}),projectId:o,rollbackCandidates:c,setStage:k,selectedDeployment:v,setSelectedDeployment:_,deploymentSwr:d,statusSwr:z,requestRollback:O};return(0,l.jsxs)(h.Modal,{active:t,"data-testid":(0,p.C)("deployment","rollback-modal"),onClickOutside:B,sticky:!0,width:"500px",children:["initial"===m&&(0,l.jsx)(ee,{...W}),"selected"===m&&(0,l.jsx)(et,{...W}),["processing","error","done"].includes(m)&&(0,l.jsx)(en,{...W})]})}var ei=n(490740),er=n(747151);function es(e){if(!e)return;if("id"in e==!1)return e;let{aliasAssigned:t,aliasError:n=null,aliasAssignedAt:l,buildingAt:i,created:r=e.createdAt,createdAt:s,creator:a,name:o,ready:c,state:d="BUILDING",target:u=null,uid:h=e.id,url:p,isRollbackCandidate:m="production"===e.target}=e;return{aliasAssigned:t,aliasError:n,aliasAssignedAt:l,buildingAt:i,created:r,createdAt:s,creator:{email:"",githubLogin:"",...a},name:o,ready:c,state:d,target:u,type:"LAMBDAS",uid:h,url:p,isRollbackCandidate:m}}function ea(e){var t;let{onClose:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[s,a]=(0,i.useState)(!1),[o,c]=(0,i.useState)(),{deployment:d,mutate:u,isLoading:h}=(0,r.s)(null==e?void 0:e.id),{can:p}=(0,er.ZP)({projectId:null==e?void 0:e.id}),m=p(er.aU.Create,er._z.DeploymentRollback),x=(null==e?void 0:null===(t=e.link)||void 0===t?void 0:t.productionBranch)?e.link.productionBranch:void 0,[g,f]=(0,ei.V)({projectId:s&&e?e.id:"",limit:10,rollbackCandidate:!0},{}),{deployments:y,initialDataLoaded:j}=f,v=!!(j&&e&&!y.length),b=(0,i.useCallback)(e=>{c(es(e)),a(!0)},[]),k=(0,i.useCallback)(()=>{a(!1),u().finally(()=>null),null==n||n()},[u,n]),_=(0,i.useCallback)(e=>{let t=es(e);if(v)return"There are no previous deployments to roll back to.";if(t){if(h)return"Loading...";if(t.uid===(null==d?void 0:d.id))return"This Deployment is already in Production.";if(!t.isRollbackCandidate)return"Only Deployments previously aliased to a Production domain can be rolled back."}return""},[v,h,d]),w=(0,i.useMemo)(()=>m&&s&&d&&e?(0,l.jsx)(el,{active:s,initialSelectedDeployment:o,onCancel:k,productionBranch:x,productionDeployment:d,projectId:e.id,rollbackCandidates:y,swr:f}):null,[m,s,o,x,d,y,e,f,k]);return{rollbackModal:w,closeRollbackModal:k,openRollbackModal:b,getRollbackTooltip:_,canRollbackDeployment:m,noRollbackCandidates:v}}},295629:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var l=n(4799),i=n(312253),r=n(151854),s=n(560630),a=n(794845),o=n(258998),c=n(838262),d=n(681021),u=n(120885),h=n(358089),p=n(13452),m=n(61964),x=n(633898),g=n(186306),f=n(234048),y=n(628497),j=n(52954),v=n(694620),b=n(843987),k=n(77935),_=n(92371),w=n(220395),C=n(799690),S=n(896904),N=n(952358);function D(e,t){let[n,D]=(0,i.useState)(!1),[R,P]=(0,i.useState)(!1),[I,Z]=(0,i.useState)(null),[E,L]=(0,i.useState)(void 0),A=(0,S.q)({project:t,deployment:I}),[$,T]=(0,i.useState)(N.G),z=(0,m.e1)(),M=(0,s.useRouter)(),{user:B}=(0,f.a)(),{team:O}=(0,y.t7)(),{data:W}=(0,_.B8)(e,{limit:3,production:"true"}),U=(0,i.useCallback)(e=>{Z(e),D(!0),T(N.G)},[]),F=(0,i.useCallback)(()=>{D(!1)},[]),q=(0,i.useCallback)(()=>{P(!1),Z(null),L(void 0)},[]),H=(0,i.useCallback)(async()=>{if(I&&t){P(!0),L(void 0);try{let e=null==O?void 0:O.id,n=await (0,j.I)(`${(0,b.PP)("v13")}${(0,v.c)({teamId:e,skipIgnoreBuildStep:A&&!$?"1":null})}`,{method:"POST",body:JSON.stringify({deploymentId:I.uid||I.id,meta:{action:"promote"},name:t.name,target:"production"}),throwOnHTTPError:!0}),l="production"===I.target&&(I.uid||I.id)===n.id?"Deployment is already the current Production Deployment.":"production"===I.target&&(I.uid||I.id)!==n.id?"Promoted Deployment to Production successfully.":"Created Production Deployment successfully.";z.success({text:l,key:"production-deployment"});let i=(0,k.Rj)(n,B,O);M.push(i),F()}catch(e){L((0,r.SC)(e))}finally{P(!1),T(N.G)}}},[I,z,M,B,O,F,t,$,A]),V=(0,i.useMemo)(()=>t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.ZP,{preset:"body-2",children:["This Deployment will be promoted to ",(0,l.jsx)("strong",{children:"Production"}),"."]}),I&&"production"!==I.target?(0,l.jsx)(o.ZP,{preset:"body-2",children:"A new Production Deployment (which includes a Build) will be issued using your Production Environment."}):null,W&&(null==W?void 0:W.length)>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.ZP,{preset:"body-2",children:"The following Domains will point to your new Deployment:"}),(0,l.jsxs)(g.Table,{children:[W.slice(0,2).map(e=>{let{name:t}=e;return(0,l.jsx)(g.TableRow,{children:(0,l.jsx)(g.TableCell,{style:{padding:1===W.length?0:"0 10px"},children:t.startsWith("*")?t:(0,l.jsx)(c.r,{"data-testid":(0,w.C)("deployments","promote-to-production-overlay","preview-link"),external:!0,href:`https://${t}`,variant:"highlight",children:t})})},t)}),W.length>2?(0,l.jsx)(g.TableRow,{children:(0,l.jsx)(g.TableCell,{children:(0,l.jsxs)(c.r,{as:`/${O?O.slug:null==B?void 0:B.username}/${encodeURIComponent(t.name)}/settings/domains`,href:"/[teamSlug]/[project]/settings/domains",variant:"highlight",children:["...and ",W.length-2," more"]})})}):null]})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(o.ZP,{preset:"body-2",children:["Warning: Your Project does not have a Production Domain. We recommend you"," ",(0,l.jsx)(c.r,{href:`/${O?O.slug:null==B?void 0:B.username}/${encodeURIComponent(t.name)}/settings/domains`,variant:"highlight",children:"add"})," ","one."]})}),(0,l.jsx)(o.ZP,{preset:"body-2",children:"Additionally, all Environment Variables defined for the Production Environment in the Project Settings will be applied."}),A?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.L,{y:.25}),(0,l.jsx)(u.Z,{checked:$,fullWidth:!0,onChange:()=>{T(!$)},children:"Use project's Ignore Build Step"}),(0,l.jsx)(C.Z,{margin:24})]}):null,(0,l.jsx)(o.ZP,{preset:"body-2",children:"Are you sure you want to continue?"})]}):(0,l.jsx)(a.Z,{center:!0,style:{marginTop:10},children:(0,l.jsx)(x.Z,{size:4})}),[W,t,O,B,I,$,A]),Y=(0,i.useMemo)(()=>(0,l.jsx)(h.Action,{"data-testid":(0,w.C)("deployments","promote-to-production-overlay","confirm-button"),loading:R,onClick:H,children:"Promote to Production"}),[H,R]),K=(0,i.useMemo)(()=>(0,l.jsxs)(h.Modal,{active:n,"data-testid":(0,w.C)("deployments","promote-to-production-overlay"),onAnimationDone:q,onClickOutside:F,width:"500px",children:[(0,l.jsxs)(a.Z,{center:!0,children:[(0,l.jsx)(o.ZP,{h3:!0,children:"Promote to Production"}),(0,l.jsx)(d.L,{y:-2})]}),(0,l.jsxs)(h.Body,{children:[V,E?(0,l.jsx)(p.Z,{error:E}):null]}),(0,l.jsxs)(h.Actions,{children:[(0,l.jsx)(h.Action,{"data-testid":(0,w.C)("deployments","promote-to-production-overlay","cancel-button"),loading:!1,onClick:F,type:"secondary",children:"Cancel"}),Y]})]}),[V,F,q,n,Y,E]);return{modal:K,close:F,open:U}}},206809:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var l=n(4799),i=n(312253),r=n(560630),s=n(120885),a=n(794845),o=n(799690),c=n(762578),d=n(258998),u=n(838262),h=n(681021),p=n(358089),m=n(13452),x=n(61964),g=n(234048),f=n(628497),y=n(253376),j=n(77935),v=n(821795),b=n(132184),k=n(92371),_=n(220395),w=n(896904),C=n(952358),S=n(240544),N=n.n(S);function D(e,t){let[n,S]=(0,i.useState)(!1),[D,R]=(0,i.useState)(!1),[P,I]=(0,i.useState)(null),[Z,E]=(0,i.useState)(void 0),[L,A]=(0,i.useState)(!1),$=(0,w.q)({project:t,deployment:P}),[T,z]=(0,i.useState)(C.G),M=(0,x.e1)(),B=(0,r.useRouter)(),{user:O}=(0,g.a)(),{team:W}=(0,f.t7)(),U=null==P?void 0:P.target,F=(0,i.useMemo)(()=>{if(!P)return null;let e=Array.isArray(P.alias)?P.alias:[];return Array.from(new Set(e))},[P]),{data:q}=(0,k.B8)("production"===U?e:null,{limit:3,production:"true"}),H=(0,i.useCallback)(e=>{I(e),S(!0),A(!1),z(C.G)},[]),V=(0,i.useCallback)(()=>{S(!1)},[]),Y=(0,i.useCallback)(()=>{R(!1),I(null),E(void 0)},[]),K=(0,i.useCallback)(async()=>{R(!0),E(void 0),(0,y.Z)({deployment:P,includeBuildCache:L,project:t,target:U,team:W,skipIgnoreBuildStep:!!$&&!T}).then(e=>{if(!e)return;M.success("Deployment created successfully.");let t=(0,j.Rj)(e,O,W);B.push(t),V()}).catch(e=>{E(e)}).finally(()=>{R(!1),A(!1),z(C.G)})},[P,t,M,B,O,W,V,U,L,T,$]),G=(0,i.useMemo)(()=>(null==F?void 0:F.length)!==0||q&&(null==q?void 0:q.length)!==0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.ZP,{noMargin:!0,preset:"body-2",style:{color:"var(--accents-6)"},children:"You are about to create a new Deployment with the same source code as your current Deployment, but with the newest configuration from your Project Settings."}),(0,l.jsx)(h.L,{y:2/3}),(0,l.jsx)(d.ZP,{noMargin:!0,preset:"body-2",style:{color:"var(--accents-6)"},children:"The following Domains will point to your new Deployment:"}),(0,l.jsx)(h.L,{y:2/3}),"production"!==U&&F?F.map(e=>(0,l.jsx)(c.JH,{children:(0,l.jsx)(c.Sn,{title:(0,l.jsx)(u.r,{external:!0,href:"https://"+e,variant:"highlight",children:e})})},e)):null,q?(0,l.jsxs)(l.Fragment,{children:["production"===U&&q.slice(0,2).map(e=>{let{name:t}=e;return(0,l.jsx)(c.JH,{children:(0,l.jsx)(c.Sn,{title:(0,v.Z)(t)?t:(0,l.jsx)(u.r,{external:!0,href:"https://"+t,variant:"highlight",children:t})})},t)}),t&&"production"===U&&q.length>2?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.L,{y:2/3}),(0,l.jsxs)(u.r,{href:`/${W?W.slug:null==O?void 0:O.username}/${encodeURIComponent(t.name)}/settings/domains`,tab:!0,variant:"highlight",children:["...and ",q.length-2," more."]})]}):null,t&&"production"!==U&&q.length>0?(0,l.jsxs)(u.r,{href:`/${W?W.slug:null==O?void 0:O.username}/${encodeURIComponent(t.name)}/settings/domains`,tab:!0,variant:"highlight",children:["...and ",q.length," more."]}):null]}):null]}):(0,l.jsx)(d.ZP,{noMargin:!0,preset:"body-2",children:"Your new Deployment will not be assigned any Domains."}),[F,q,U,t,O,W]),J=(0,i.useMemo)(()=>(0,l.jsxs)(p.Modal,{active:n,"data-testid":(0,_.C)("redeploy-modal","modal"),onAnimationDone:Y,onClickOutside:V,width:"500px",children:[(0,l.jsx)(a.Z,{center:!0,className:N().heading,children:(0,l.jsxs)(d.ZP,{h4:!0,noMargin:!0,weight:500,children:["Redeploy ",U&&`to ${(0,b.Z)(U)}`]})}),(0,l.jsxs)(p.Body,{className:N().body,children:[G,(0,l.jsx)(h.L,{y:1}),Z?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.Z,{error:Z}),(0,l.jsx)(h.L,{y:1})]}):null,(0,l.jsxs)(a.Z,{row:!0,children:[(0,l.jsx)(s.Z,{checked:L,fullWidth:!0,onChange:()=>{A(!L)},children:"Use existing Build Cache"}),$?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.L,{y:.25}),(0,l.jsx)(s.Z,{checked:T,fullWidth:!0,onChange:()=>{z(!T)},children:"Use project's Ignore Build Step"})]}):null,(0,l.jsx)(o.Z,{margin:24}),(0,l.jsx)(u.r,{external:!0,href:"/docs/concepts/deployments/troubleshoot-a-build#understanding-build-cache",variant:"highlight",children:"Learn more about Caching"})]})]}),(0,l.jsxs)(p.Actions,{children:[(0,l.jsx)(p.Action,{loading:!1,onClick:V,type:"secondary",children:"Cancel"}),(0,l.jsx)(p.Action,{"data-testid":(0,_.C)("redeploy-modal","redeploy-button"),disabled:!F&&!q,loading:D,onClick:K,children:"Redeploy"})]})]}),[G,V,Y,n,D,Z,K,F,q,L,U,T,$]);return{modal:J,close:V,open:H}}},896904:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var l=n(312253),i=n(923475);function r(e){let{commandForIgnoringBuildStep:t}=e||{};return"string"==typeof t&&t.trim().length>0}function s(e){let{project:t,deployment:n}=e,[s,a]=(0,l.useState)(!1),{isReady:o,value:c}=(0,i.eC)();return(0,l.useEffect)(()=>{let e=o&&c&&(r(t)||r(null==n?void 0:n.projectSettings));a(!!e)},[o,c,t,null==n?void 0:n.projectSettings]),s}},92586:function(e,t,n){"use strict";n.d(t,{LI:function(){return c},OL:function(){return o},UL:function(){return a}});var l=n(4799),i=n(14517),r=n(343159),s=n.n(r);let a=e=>{let{children:t,className:n}=e;return(0,l.jsx)("ul",{className:(0,i.W)(s().ul,n),children:t})},o=e=>{let{children:t,className:n}=e;return(0,l.jsx)("ol",{className:(0,i.W)(s().ol,n),children:t})},c=e=>{let{children:t,className:n}=e;return(0,l.jsx)("li",{className:(0,i.W)(s().li,n),children:t})}},876298:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var l=n(4799);n(312253);var i=n(943220),r=n.n(i),s=n(794845);function a(e){let{className:t,classNames:n=[],styles:i,hoverAnimation:a,border:o=!1,shadow:c=!0,padding:d=!0,children:u,...h}=e,{className:p,styles:m}={styles:(0,l.jsx)(r(),{id:"c0b0c9ba5f9da5c8",dynamic:[d?"var(--geist-gap)":"0",c?"var(--shadow-small)":"none",o?"border: 1px solid var(--accents-2);":"",a?"var(--shadow-large)":c?"var(--shadow-small)":"none",a?"1":"auto"],children:`.geist-card.__jsx-style-dynamic-selector{padding:${d?"var(--geist-gap)":"0"};-webkit-border-radius:var(--geist-radius);-moz-border-radius:var(--geist-radius);border-radius:var(--geist-radius);background:var(--geist-background);-webkit-box-shadow:${c?"var(--shadow-small)":"none"};-moz-box-shadow:${c?"var(--shadow-small)":"none"};box-shadow:${c?"var(--shadow-small)":"none"};${o?"border: 1px solid var(--accents-2);":""}
      transition: box-shadow .2s ease;}.__jsx-style-dynamic-selector:hover{-webkit-box-shadow:${a?"var(--shadow-large)":c?"var(--shadow-small)":"none"};-moz-box-shadow:${a?"var(--shadow-large)":c?"var(--shadow-small)":"none"};box-shadow:${a?"var(--shadow-large)":c?"var(--shadow-small)":"none"};z-index:${a?"1":"auto"}}`}),className:r().dynamic([["c0b0c9ba5f9da5c8",[d?"var(--geist-gap)":"0",c?"var(--shadow-small)":"none",o?"border: 1px solid var(--accents-2);":"",a?"var(--shadow-large)":c?"var(--shadow-small)":"none",a?"1":"auto"]]])};return(0,l.jsx)(s.Z,{classNames:["geist-card",p,t,...n],"data-version":"v1",styleSets:(0,l.jsxs)(l.Fragment,{children:[m,i]}),...h,children:u})}function o(e){let{disabled:t,active:n,children:i,...s}=e,{className:o,styles:c}={styles:(0,l.jsx)(r(),{id:"a47cad01214c0ace",dynamic:[n?"var(--geist-foreground)":"var(--accents-2)",t?"not-allowed":"pointer",n?"var(--geist-foreground)":t?"var(--accents-1)":"var(--geist-background)",n?"var(--geist-background)":t?"var(--accents-4)":"none"],children:`.geist-card-picker.__jsx-style-dynamic-selector{width:512pt;max-width:100%;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;border:1px solid ${n?"var(--geist-foreground)":"var(--accents-2)"};cursor:${t?"not-allowed":"pointer"};-webkit-transition:background.2s ease,border.2s ease;-moz-transition:background.2s ease,border.2s ease;-o-transition:background.2s ease,border.2s ease;transition:background.2s ease,border.2s ease;background:${n?"var(--geist-foreground)":t?"var(--accents-1)":"var(--geist-background)"};color:${n?"var(--geist-background)":t?"var(--accents-4)":"none"}}.geist-card-picker.__jsx-style-dynamic-selector:hover{border:1px solid var(--geist-foreground)}`}),className:r().dynamic([["a47cad01214c0ace",[n?"var(--geist-foreground)":"var(--accents-2)",t?"not-allowed":"pointer",n?"var(--geist-foreground)":t?"var(--accents-1)":"var(--geist-background)",n?"var(--geist-background)":t?"var(--accents-4)":"none"]]])};return(0,l.jsx)(a,{classNames:["geist-card-picker",o],styles:c,...s,children:i})}function c(e){let{children:t,wide:n,hasAuthors:i,...s}=e,{className:o,styles:c}={styles:(0,l.jsx)(r(),{id:"917d477652f355aa",dynamic:[n?"0":"var(--geist-gap-double)"],children:`.geist-card-project.geist-card.__jsx-style-dynamic-selector{padding:0;margin-bottom:${n?"0":"var(--geist-gap-double)"};-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;background:var(--geist-background)}`}),className:r().dynamic([["917d477652f355aa",[n?"0":"var(--geist-gap-double)"]]])};return(0,l.jsx)(a,{classNames:["geist-card-project",o],styles:c,...s,children:t})}function d(e){let{picker:t=!1,project:n=!1,...i}=e;return t?(0,l.jsx)(o,{...i}):n?(0,l.jsx)(c,{...i}):(0,l.jsx)(a,{...i})}},804868:function(e,t,n){"use strict";var l=n(4799),i=n(14517),r=n(832263),s=n.n(r);let a=e=>{let{children:t,className:n,noWrap:r,title:a,truncate:o,style:c}=e;return(0,l.jsx)("code",{className:(0,i.W)(s().code,n,{[s().nowrap]:r,[s().truncate]:o}),"data-geist-inline-code":"","data-version":"v1",style:c,title:a,children:t})};t.Z=a},881808:function(e,t,n){"use strict";var l=n(4799),i=n(312253),r=n(14517),s=n(561593),a=n(793817),o=n(636733),c=n.n(o);let d=(0,i.memo)(e=>{let{text:t,copyText:n,onCopy:o,width:d,compact:u=!1,prompt:h=!0,icon:p=!0,dark:m,type:x,fill:g,className:f,variant:y,placeholder:j,...v}=e,b=(0,s.o)(x,g,y),k=(0,i.useMemo)(()=>n||(Array.isArray(t)?t.join("\n"):"string"==typeof t?t:""),[t,n]);return(0,l.jsxs)("div",{className:(0,r.W)(c().snippet,{[c().prompt]:h,[c().dark]:m,[c().isUsingPlaceholder]:!!(!t&&j)},f,b),...v,"data-geist-snippet":"","data-version":"v1",style:{width:d,height:u?"36px":"auto",...v.style},children:[Array.isArray(t)?t.map((e,n)=>(0,l.jsx)("pre",{className:"geist-overflow-scroll-y",children:e},`snippet-${t}-${e}-${n}`)):(0,l.jsx)("pre",{className:"geist-overflow-scroll-y",style:u?{height:"36px",lineHeight:1}:void 0,children:t||j}),p?(0,l.jsx)(a.Z,{className:c().copyIcon,label:"Copy to clipboard",onClick:()=>{null==o||o()},textToCopy:k}):null]})});t.Z=d},132184:function(e,t,n){"use strict";function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.d(t,{Z:function(){return l}})},253376:function(e,t,n){"use strict";var l=n(52954),i=n(694620),r=n(843987);async function s(e){let{deployment:t,includeBuildCache:n=!1,skipIgnoreBuildStep:s=!1,project:a,team:o,target:c}=e;if(!t||!a)return null;let d=null==o?void 0:o.id,u=(()=>{var e,n;if("production"!==t.target||!(null===(e=a.targets)||void 0===e?void 0:null===(n=e.production)||void 0===n?void 0:n.id))return!1;let l=a.targets.production;if("READY"!==l.readyState)return!1;let i=t.id||t.uid;return i!==l.id})();if(u)throw{message:"A more recent Production Deployment has been created, so the one you are looking at cannot be redeployed anymore.",action:"Learn More",link:"https://vercel.link/redeploy-production-deployment"};let h=await (0,l.I)(`${(0,r.PP)("v13")}${(0,i.c)({teamId:d,forceNew:"1",...n&&{withCache:"1"},skipIgnoreBuildStep:s?"1":null})}`,{method:"POST",body:JSON.stringify({deploymentId:t.uid||t.id,meta:{action:"redeploy"},name:a.name,target:c||void 0}),throwOnHTTPError:!0});return h}t.Z=s},560555:function(e,t,n){"use strict";n.d(t,{R:function(){return o},i:function(){return a}});var l=n(312253),i=n(560630),r=n(923475),s=n(990888);let a=()=>{let e=(0,i.useRouter)(),t=Array.isArray(e.query.filterBranch)?e.query.filterBranch[0]:e.query.filterBranch;return{isReady:e.isReady,filterBranch:t}};function o(){var e,t;let{project:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a(),[c,d]=(0,l.useState)(null);(0,l.useEffect)(()=>{o.isReady&&d(o.filterBranch||null)},[o.isReady,o.filterBranch]);let u=(0,i.useRouter)(),h=(0,l.useCallback)(e=>{d(e),function(e,t){let n={...e.query};t?n.filterBranch=t:delete n.filterBranch,e.replace({pathname:window.location.pathname,query:n},void 0,{shallow:!0,scroll:!1})}(u,e)},[u]),p=(0,l.useCallback)(()=>{c&&(d(null),h(null))},[c,h]),m=(null==n?void 0:null===(e=n.link)||void 0===e?void 0:e.type)&&c?{[`${null==n?void 0:null===(t=n.link)||void 0===t?void 0:t.type}CommitRef`]:c}:void 0,x=!!(0,r.$m)().value,g=!n||!o.isReady,[f,y]=(0,l.useState)({search:!1,filter:!1}),j=!!c;return(0,s.Z)(()=>{y({search:x,filter:x&&!g&&j})},[y,g,x,j]),{showBranchSearchBar:f.search,showBranchFilterBar:f.filter,filteredBranch:c,setFilteredBranch:h,clearBranch:p,gitSource:c?{ref:c}:void 0,meta:m}}},116793:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var l=n(515448);function i(e){if(!(!e||"network_error"===e.code||"rate_limited"===e.code||"too_many_requests"===e.code||"cancelled"===e.message||(0,l.I)())&&504!==e.status&&!e.saml)throw e.isDashboard=!0,e}},192179:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var l=n(4799),i=n(312253),r=n(94928),s=n.n(r),a=n(200494),o=n(581943);let c=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:"body::before{content:'';display:block;position:fixed;width:100%;height:100%;top:0;left:0;background:var(--geist-background);z-index: 99999}.render body::before{display:none}"}}),(0,l.jsx)("noscript",{dangerouslySetInnerHTML:{__html:"<style>body::before{content:none}</style>"}})]});function d(e){let{requireAuth:t=!0,timeout:n=1e3}=e;if(t)return(0,l.jsxs)(s(),{children:[c,(0,l.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
              location.replace('/login?next=' + encodeURIComponent(location.pathname + location.search))
            } else {
              document.documentElement.classList.add('render')
            }`}})]});let[r,d]=(0,i.useState)(!1),{isLoggedOut:u}=(0,o.n)(),h=(0,i.useRef)();return h.current=u,(0,i.useEffect)(()=>{let e=setTimeout(()=>{void 0===h.current&&d(!0)},n);return()=>clearTimeout(e)},[n]),(0,i.useEffect)(()=>{u&&(document.documentElement.classList.add("render"),d(!1))},[u]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s(),{children:[c,(0,l.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
            document.documentElement.classList.add('render')
          }`}})]}),r?(0,l.jsx)("div",{className:"geist-fade-in",style:{width:20,height:20,position:"fixed",top:0,left:0,right:0,bottom:0,margin:"auto",zIndex:1e5},children:(0,l.jsx)(a.$,{})}):null]})}},399810:function(e,t,n){"use strict";n.d(t,{F:function(){return r},FA:function(){return i}});var l=n(628497);function i(e){return!!e&&!!(e.transferStartedAt&&!e.transferCompletedAt)}function r(e){let{team:t,teams:n}=(0,l.t7)();if(!e)return null;let{transferToAccountId:i}=e;if(i){let e=(n||[]).find(e=>e.id===i);return e||null}return t}},479396:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var l=n(312253);function i(e,t){let[n,i]=(0,l.useState)(e),[r,s]=function(e,t){let[n,i]=(0,l.useState)(e);return(0,l.useEffect)(()=>{let n=setTimeout(()=>{i(e)},t);return()=>clearTimeout(n)},[e,i,t]),[n,i]}(n,t);return[r,i,{currentValue:n,setValueImmediate:(0,l.useCallback)(e=>{i(e),s(e)},[i,s])}]}},364476:function(e,t,n){"use strict";n.d(t,{BZ:function(){return w},W0:function(){return _},ZP:function(){return C},f9:function(){return b}});var l=n(4799),i=n(312253),r=n(14517),s=n(384208),a=n(61771),o=n(212201),c=n(192179),d=n(386854),u=n(540637),h=n(234048),p=n(628497),m=n(592912),x=n(950416),g=n(781536),f=n(714066),y=n(491318),j=n(330420);let v=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{data:t,isLoggedOut:n,isValidating:l,mutate:r}=(0,h.a)(e,!0),{isReady:s,teams:a,team:o,isValidating:c,teamSlug:d,isTeam:u,mutate:m}=(0,p.t7)(),x=(0,i.useCallback)(()=>Promise.all([r(),m()]),[r,m]);return{isReady:t&&s,isValidating:l||c,team:o,teams:a,userData:t,teamSlug:d,isTeam:u,isLoggedOut:n,mutate:x}};function b(e){let t=(0,s.useRouter)(),{teamSlug:n}=(0,y.U)()||{};n=(n||"").replace(/\?.+/,"");let l=(0,f.b)().get("invited"),{team:r,mutate:a,isValidating:o,isReady:c,userData:d,teamSlug:h,isLoggedOut:p}=v(e);(0,j.Z)("invited","You are now a member of this Team.","success",!o),(0,i.useEffect)(()=>{l&&!o&&h&&(a(),t.replace(`/${h}`,{shallow:!0}))},[t,h,a,o,l]),(0,i.useEffect)(()=>{if(e&&c){var t,l;if(!p&&!o&&n&&(null===(t=d.user)||void 0===t?void 0:t.username)!==n&&(null===(l=d.user)||void 0===l?void 0:l.uid)!==n&&!r){let e=Error("Team not found");throw e.status=404,(0,u.nY)(),e}}},[e,d,r,c,p,o,n])}let k=(0,i.memo)(e=>{let{Section:t,opts:n,pageProps:s}=e;b(n.requireAuth);let d=function(){let[e,t]=(0,i.useReducer)((e,t)=>({initial:!1,key:e.initial?e.key:t}),{initial:!0,key:null}),{query:{teamSlug:n},isReady:l}=(0,a.useRouter)();return(0,i.useEffect)(()=>{l&&t(n??null)},[l,n]),e.key}();return(0,l.jsxs)(l.Fragment,{children:[n.requireAuth?(0,l.jsx)(c.Z,{}):null,(0,l.jsxs)(o.Z,{active:n.active,dashboard:!0,footer:n.footer,fullWidthLayout:n.fullWidthLayout,stickyTabs:n.stickyTabs,title:n.pageName?`${n.pageName} – Dashboard`:"Dashboard",...n.pageProps,children:[(0,l.jsx)(m.Z,{}),(0,l.jsx)(x.Z,{}),(0,l.jsx)(g.Z,{}),(0,l.jsx)("div",{className:(0,r.W)("dashboard-container",{gray:n.darkFold}),children:(0,i.createElement)(t,{active:n.active,...s,key:d})})]})]})});function _(e){return(0,d.P)(e)}k.displayName="DashboardLayout";let w=_(k);function C(e,t){t=Object.assign({requireAuth:!0,active:""},t||{});let n=(0,i.memo)(e);return e.getLayout=function(e,i){return(0,l.jsx)(w,{Section:n,opts:t,pageProps:i})},e}},386854:function(e,t,n){"use strict";n.d(t,{A:function(){return o},P:function(){return c}});var l=n(4799),i=n(312253),r=n(560630),s=n(968026),a=n(749061);let o=e=>class extends i.Component{static async getInitialProps(t){let n={};return e.getInitialProps&&(n=await e.getInitialProps(t)),n.statusCode&&t.res&&(t.res.statusCode=n.statusCode),n}render(){return this.props.statusCode?(0,l.jsx)(a.default,{err:this.props.err,reported:!0,statusCode:this.props.statusCode}):(0,l.jsx)(e,{...this.props})}};function c(e){class t extends i.PureComponent{}class n extends t{static getDerivedStateFromError(e){var t;if(404===e.status&&e.teamSlug&&e.membershipRequestedBy)throw e;let n=e.statusCode||e.status||(null===(t=e.res)||void 0===t?void 0:t.status);return(0,s.captureError)(e,{statusCode:n}),{error:e}}componentDidUpdate(e){e.router.asPath!==this.props.router.asPath&&this.state.error&&this.setState({error:null})}render(){let{error:t}=this.state;if(t){var n;let e=t.statusCode||t.status||(null===(n=t.res)||void 0===n?void 0:n.status);return(0,l.jsx)(a.default,{err:t,reported:!0,statusCode:e})}return(0,l.jsx)(e,{...this.props})}constructor(...e){super(...e),this.state={error:null}}}return n.getInitialProps=t=>e.getInitialProps?e.getInitialProps(t):{},n.getLayout=e.getLayout,(0,r.withRouter)(n)}},186306:function(e,t,n){"use strict";n.r(t),n.d(t,{DotsMenu:function(){return C.Z},Table:function(){return k},TableCell:function(){return w},TableHead:function(){return x},TableRow:function(){return f}});var l=n(4799),i=n(943220),r=n.n(i),s=n(312253),a=n(14517),o=n(869480),c=n.n(o),d=n(362168);let u=e=>e.props.onClick,h=(e,t)=>{let n=0;return s.Children.map(e,e=>t(e)&&u(e)?(n+=1,s.cloneElement(e,{selectable:!0,even:n%2!=0})):e)},p=e=>{let{isRowType:t,...n}=e;return(0,l.jsxs)("tbody",{...n,className:"jsx-bcbab08ca9bd006a "+(n&&null!=n.className&&n.className||""),children:[h(n.children,t),(0,l.jsx)(r(),{id:"bcbab08ca9bd006a",children:"tbody.jsx-bcbab08ca9bd006a tr:not(:last-child) td{border-bottom:1px solid var(--accents-2)}thead+tbody.jsx-bcbab08ca9bd006a tr:last-child td{border-bottom:1px solid var(--accents-2)}tbody.jsx-bcbab08ca9bd006a td{color:var(--accents-6);font-size:14px}"})]})};p.propTypes={children:c().node};class m extends s.Component{static #e=(()=>{this.propTypes={children:c().node,className:c().string}})();render(){let{children:e,innerRef:t,...n}=this.props;return(0,l.jsx)("tr",{...n,ref:t,children:s.Children.map(e,(e,t)=>e?(0,s.cloneElement)(e,{column:t,tagName:"th"}):null)})}}var x=m;let g=e=>{let{ariaRole:t="row",children:n,className:i="",disabled:r=!1,onClick:o,selectable:c=!1,...d}=e;return(0,l.jsx)("tr",{"aria-roledescription":t,className:(0,a.W)("row",{selectable:c,disabled:r},i),onClick:o,...d,children:s.Children.map(n,e=>e?(0,s.cloneElement)(e,{tagName:"td"}):null)})};var f=g;function y(e,t){if(e){let n=[];return s.Children.forEach(e,(e,l)=>{t&&t.call(this,e,l)&&n.push(e)}),n}return[]}let j=e=>{let{children:t,className:n="",isHeadType:i=b,isRowType:s=v,innerRef:o,...c}=e,u=y(t,e=>(0,d.Z)("col",e)),h=y(t,i),m=y(t,s);return(0,l.jsxs)("table",{...c,ref:o,className:"jsx-2f714c4ae5073cc1 "+((0,a.W)("table",n)||""),children:[u.length>0&&(0,l.jsx)("colgroup",{className:"jsx-2f714c4ae5073cc1",children:u}),h.length>0&&(0,l.jsx)("thead",{className:"jsx-2f714c4ae5073cc1",children:h}),(0,l.jsx)(p,{isRowType:s,children:m}),(0,l.jsx)(r(),{id:"2f714c4ae5073cc1",children:"table.jsx-2f714c4ae5073cc1{border-collapse:separate;border-spacing:0;width:100%}table.jsx-2f714c4ae5073cc1 td:nth-child(1){border-left:1px solid transparent}table.jsx-2f714c4ae5073cc1 td:last-child{border-right:1px solid transparent}thead.jsx-2f714c4ae5073cc1 th:nth-child(1){border-bottom:1px solid var(--accents-2);border-left:1px solid var(--accents-2);-webkit-border-radius:4px 0px 0px 4px;-moz-border-radius:4px 0px 0px 4px;border-radius:4px 0px 0px 4px;border-top:1px solid var(--accents-2)}thead.jsx-2f714c4ae5073cc1 th:last-child{border-bottom:1px solid var(--accents-2);-webkit-border-radius:0 4px 4px 0;-moz-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0;border-right:1px solid var(--accents-2);border-top:1px solid var(--accents-2)}thead.jsx-2f714c4ae5073cc1 th{background:var(--accents-1);border-bottom:1px solid var(--accents-2);border-top:1px solid var(--accents-2)}table.jsx-2f714c4ae5073cc1 th,table.jsx-2f714c4ae5073cc1 td{padding:0 10px;text-align:left;vertical-align:top}table.jsx-2f714c4ae5073cc1 th>div{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;min-height:40px;font-size:12px}table.jsx-2f714c4ae5073cc1 td>div{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;min-height:50px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap}table.jsx-2f714c4ae5073cc1 td.multi-line>div{min-height:none;padding:14px 0}table.jsx-2f714c4ae5073cc1 th{color:var(--accents-5);font-size:14px;font-weight:400;letter-spacing:0}table.jsx-2f714c4ae5073cc1 th.right>div,table.jsx-2f714c4ae5073cc1 td.right>div{-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}table.jsx-2f714c4ae5073cc1 th.center>div,table.jsx-2f714c4ae5073cc1 td.center>div{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}table.jsx-2f714c4ae5073cc1 tr.disabled{pointer-events:none;opacity:.6}table.jsx-2f714c4ae5073cc1 tr.selectable{cursor:pointer}table.jsx-2f714c4ae5073cc1 tr.selectable:hover{background-color:#fcfcfc}@media(min-width:1024px){table.jsx-2f714c4ae5073cc1 td.instances-url{min-width:360px}}"})]})},v=e=>(0,d.Z)(f,e),b=e=>(0,d.Z)(x,e);j.propTypes={children:c().node,className:c().string,isHeadType:c().func,isRowType:c().func};var k=j,_=n(259876);class w extends s.Component{static #e=(()=>{this.propTypes={align:c().oneOf(["left","center","right"]),children:c().node,className:c().string,disabled:c().bool,innerRef:c().func,onClick:c().func,sorted:c().oneOf(["asc","desc"]),tagName:c().oneOf(["td","th"]),value:c().any}})();static #t=(()=>{this.defaultProps={tagName:"td"}})();render(){let{align:e,children:t,className:n,innerRef:i,disabled:r,sorted:o,tagName:c,...u}=this.props;return(0,s.createElement)(c,{...u,className:(0,a.W)("table-cell",{"head-cell":"th"===c,"row-cell":"td"===c,right:"right"===e,center:"center"===e,sorted:o,disabled:r},n),ref:i,onClick:this.handleClick},(0,d.Z)("div",t)?t:(0,s.createElement)("div",{},t,o&&(0,l.jsx)(_._,{})))}constructor(...e){super(...e),this.handleClick=e=>{this.props.onClick&&this.props.onClick(e,this.props.value)}}}var C=n(188174)},362168:function(e,t,n){"use strict";function l(e,t){return t&&t.type===e}n.d(t,{Z:function(){return l}})},313768:function(e,t,n){"use strict";n.d(t,{k:function(){return h},w:function(){return u}});var l=n(312253),i=n(581945),r=n(388361),s=n(52954),a=n(843987),o=n(694620),c=n(628497),d=n(586430);function u(e,t){if("string"==typeof e){let{data:n}=(0,d.ZP)(e);return(0,i.ZP)(()=>{let{team:e,id:t}=n;if(!t)throw Error("missing `id`");return`${(0,a.PP)("v2")}/${t}/aliases${(0,o.c)({teamId:e?e.id:null})}`},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t)}if("object"==typeof e||void 0===e)return(0,i.ZP)(()=>{let{team:t,id:n,teamId:l}=e;if(!n)throw Error("missing `id`");return`${(0,a.PP)("v2")}/${n}/aliases${(0,o.c)({teamId:l??(t?t.id:null)})}`},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t);throw Error("Wrong argument type")}function h(e,t){var n;let{limit:i=20,domains:o,rollbackDeploymentId:d}=e,{isReady:u,team:h}=(0,c.t7)(),m=(0,r.ZP)((e,t)=>{if(!u)return null;let n=`${a.sL}`,l=(null==o?void 0:o.map(e=>`domain=${encodeURIComponent(e)}`).join("&"))||null;if(!e)return`${n}${p({limit:i+1,teamId:null==h?void 0:h.id,rollbackDeploymentId:d},l)}`;let r=(null==t?void 0:t.aliases)&&t.aliases.length>i?t.aliases[i-1].createdAt:null;return r?`${n}${p({limit:i+1,teamId:null==h?void 0:h.id,until:r},l)}`:null},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t),x=(0,l.useMemo)(()=>m.data?[].concat(...m.data.filter(Boolean).map(e=>e.aliases.slice(0,i))):[],[m.data,i]),g=!!m.data&&!m.error,f=!!(m.data&&0===x.length),y=()=>m.setSize(e=>e+1),j=!!(m.data&&m.size>m.data.length),v=m.data&&(null===(n=m.data[m.data.length-1])||void 0===n?void 0:n.aliases.length)<=i;return[m,{aliases:x,initialDataLoaded:g,isEmpty:f,loadMore:y,isLoadingMore:j,isReachingEnd:v}]}function p(e,t){let n=(0,o.c)(e,!1),l=t?`&${t}`:"";return n?`?${n}${l}`:`?${l}`}},874463:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var l=n(312253),i=n(560630);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[t,n]=(0,l.useState)(!1),[r,s]=(0,l.useState)(!1);return e.startsWith("#")||(e="#"+e),(0,l.useEffect)(()=>{r||(window.location.hash!==e||t||n(!0),s(!0))},[t,e,r]),(0,l.useEffect)(()=>{r&&(window.location.hash!==e||t?window.location.hash!==e&&t&&(window.location.hash=e):window.history.replaceState(null,""," "))},[t,e,r]),(0,l.useEffect)(()=>{let l=()=>{window.location.hash!==e||t||n(!0)};return i.Router.events.on("hashChangeComplete",l),()=>i.Router.events.off("hashChangeComplete",l)},[t,e]),[t,n]}},256889:function(e,t,n){"use strict";n.d(t,{F:function(){return c}});var l=n(312253),i=n(388361),r=n(843987),s=n(52954),a=n(628497),o=n(694620);function c(e){var t,n;let{project:c,includeProductionBranch:u,query:h,limit:p,active:m,includeDeploymentInfo:x,state:g}=e,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:y,team:j}=(0,a.t7)(),[v,b]=(0,l.useState)(""),k=h&&d(h)?`"${h}"`:h,_={search:k,active:m?"1":null,teamId:null==j?void 0:j.id,includeDeployments:x?"1":null,limit:p,state:g},w=(0,i.ZP)((e,t)=>{if(!c)return null;if(!e)return y?`${(0,r.HJ)("v5")}/${c.id}/branches/${(0,o.c)(_)}`:null;let n=t&&p&&t.branches.length>=p?t.until:null;return n&&y?`${(0,r.HJ)("v5")}/${c.id}/branches/${(0,o.c)({..._,until:n})}`:null},e=>(0,s.I)(e,{throwOnHTTPError:!0}).then(e=>({...e,query:h})),f),C=null==c?void 0:null===(t=c.link)||void 0===t?void 0:t.productionBranch,S=(0,l.useMemo)(()=>{let e;if(!w.data)return;if(x){let t;let n=[];for(let l of w.data)for(let i of(e=l.query,l.branches))C&&i.branch===C?t=i:n.push(i);let l=u&&t?[t,...n]:n;return{query:e,result:l.filter(e=>!!e.deployment).sort((e,t)=>t.deployment.createdAt-e.deployment.createdAt)}}let t=new Set;for(let n of w.data)for(let l of(e=n.query,n.branches))t.add(l.branch);return{query:e,result:C&&t.has(C)?(t.delete(C),u?[C,...t]:[...t]):[...t]}},[w.data,u,C,x]);(0,l.useLayoutEffect)(()=>{(null==S?void 0:S.query)&&b(S.query)},[null==S?void 0:S.query,b]);let N=!!w.data,D=N&&(null==S?void 0:S.result.length)===0,R=()=>w.setSize(e=>e+1),P=N&&w.data&&w.size>w.data.length,I=!p||N&&w.data&&(null===(n=w.data[w.data.length-1])||void 0===n?void 0:n.branches.length)<p;return[w,{branches:null==S?void 0:S.result,fetchedQuery:v,initialDataLoaded:N,isValidating:w.isValidating,isEmpty:D,loadMore:R,isLoadingMore:P,isReachingEnd:I,mutate:w.mutate}]}let d=e=>+e==+e},765507:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var l=n(581945),i=n(52954),r=n(843987),s=n(694620),a=n(628497);function o(e){let{config:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:n,team:o}=(0,a.t7)();return(0,l.ZP)(n&&e?`${(0,r.nv)(e)}${(0,s.c)({teamId:null==o?void 0:o.id})}`:null,i.I,t)}},726796:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var l=n(872820);let i=(0,l.H1)('<circle cx="12" cy="12" r="10"/><path d="M16 12l-4-4-4 4"/><path d="M12 16V8"/>')},414098:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var l=n(872820);let i=(0,l.H1)('<path d="M19 16.9A5 5 0 0018 7h-1.26a8 8 0 10-11.62 9"/><path d="M13 11l-4 6h6l-4 6"/>')},260700:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var l=n(872820);let i=(0,l.H1)('<circle cx="12" cy="12" r="4"/><path d="M1.05 12H7"/><path d="M17.01 12h5.95"/>')},996572:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var l=n(872820);let i=(0,l.H1)('<path d="M1 4v6h6"/><path d="M3.51 15a9 9 0 102.13-9.36L1 10"/>')},722792:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var l=n(872820);let i=(0,l.H1)('<path d="M23 4v6h-6"/><path d="M20.49 15a9 9 0 11-2.12-9.36L23 10"/>')},466867:function(e){e.exports={aliasLink:"aliases_aliasLink__UHt8v"}},621837:function(e){e.exports={wrapper:"full-heading_wrapper__0LLP7",border:"full-heading_border__cFCCM",icon:"full-heading_icon__b3nxX","title-container":"full-heading_title-container__JNHpj",header:"full-heading_header__Y4h9C",menu:"full-heading_menu__IR0M2",message:"full-heading_message__6KUQO",main:"full-heading_main__QZy4e",title:"full-heading_title__UBfpI",actions:"full-heading_actions__hgtUa","child-wrapper":"full-heading_child-wrapper__mXR8A",controls:"full-heading_controls__yaXqb",hideOnMobile:"full-heading_hideOnMobile___boHc",center:"full-heading_center__B4vrp","title-container-with-actions":"full-heading_title-container-with-actions__8ASNT"}},772337:function(e){e.exports={card:"deployment-card-small_card__TMtXZ",current:"deployment-card-small_current__JGku6",input:"deployment-card-small_input__2XdNV",icon:"deployment-card-small_icon__F04Qe",deploymentLink:"deployment-card-small_deploymentLink__ok4SD",branch:"deployment-card-small_branch__WiMU7",code:"deployment-card-small_code__bFW2M",gitAvatar:"deployment-card-small_gitAvatar__8b5EG","badge-current":"deployment-card-small_badge-current__YFOAN","badge-previous":"deployment-card-small_badge-previous__WpGOg"}},632996:function(e){e.exports={deploymentSource:"deployment-list_deploymentSource__wtzfk",line:"deployment-list_line__r3G26",icon:"deployment-list_icon__CR1yj",rebuild:"deployment-list_rebuild__hCE6T"}},622448:function(e){e.exports={"rollback-modal":"rollback-modal_rollback-modal___Ilek","choose-deployment-btn":"rollback-modal_choose-deployment-btn__sEqIW","warning-list":"rollback-modal_warning-list__Li2Uu","alias-list":"rollback-modal_alias-list__CQLEA","deployment-link":"rollback-modal_deployment-link___I6s_"}},273639:function(e){e.exports={defaultHeight:"no-deployment-card_defaultHeight__85Bbe",container:"no-deployment-card_container__3lGom",subtitleContainer:"no-deployment-card_subtitleContainer__cWxgs",title:"no-deployment-card_title__EKeF2",icon:"no-deployment-card_icon__ggtSR"}},915049:function(e){e.exports={wrapper:"transfer-project_wrapper__xA3eV"}},107930:function(e){e.exports={skeletonContainer:"filter-branch-entity-bar_skeletonContainer__z3YZh",entityMarginBottom:"filter-branch-entity-bar_entityMarginBottom__oDJnS",inline:"filter-branch-entity-bar_inline__8qynq",entitySpan:"filter-branch-entity-bar_entitySpan__AcHdW",hideWhenNotSm:"filter-branch-entity-bar_hideWhenNotSm__JY2GU",maxWidthFitContent:"filter-branch-entity-bar_maxWidthFitContent__JaUDJ",hideWhenSm:"filter-branch-entity-bar_hideWhenSm__0uLfI"}},716150:function(e){e.exports={status:"filter-status_status__qIY8Y",icon:"filter-status_icon__cVslJ",item:"filter-status_item__CmT7o",check:"filter-status_check__yOeOf",badge:"filter-status_badge__Z1_0x",ready:"filter-status_ready__JIi8z",error:"filter-status_error__gPsUk",building:"filter-status_building__i4cZ0",queued:"filter-status_queued__K6Nqp",canceled:"filter-status_canceled__UdX6A",dimmed:"filter-status_dimmed__y65ji",leftAligned:"filter-status_leftAligned__uhqhA",rightAligned:"filter-status_rightAligned__dTJCE",label:"filter-status_label__su3Qg"}},240544:function(e){e.exports={heading:"use-redeploy-modal_heading__v55wF",body:"use-redeploy-modal_body__WiJ4Q"}},343159:function(e){e.exports={ul:"list_ul__6hDBW",ol:"list_ol__R8ead",li:"list_li__E3ptA"}},832263:function(e){e.exports={code:"inline_code__eh_jc",nowrap:"inline_nowrap__DF6bB",truncate:"inline_truncate__EkNmM"}},252685:function(e){e.exports={wrapper:"loading-checkmark_wrapper__wzVmS"}},636733:function(e){e.exports={snippet:"snippet_snippet__BPlgb",isUsingPlaceholder:"snippet_isUsingPlaceholder__RUb_E",dark:"snippet_dark__9Azck",copyIcon:"snippet_copyIcon__YooCW",copy:"snippet_copy__VqjfV",prompt:"snippet_prompt__FWQhJ"}},852625:function(e){e.exports={"warning-note":"warning-note_warning-note__bb7_x","warning-note-link":"warning-note_warning-note-link__ad_Tb"}}}]);